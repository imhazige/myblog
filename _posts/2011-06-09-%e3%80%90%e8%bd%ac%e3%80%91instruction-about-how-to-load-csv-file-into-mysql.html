---
layout: post
title: "【转】Instruction about how to load “.csv” file into MySQL"
date: 2011-06-09 14:16:24.000000000 +01:00
type: post
published: true
status: publish
categories:
- "数据库"
tags:
- mysql
meta:
  views: '39'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p> 
<p style="margin-top: 0pt;text-indent: -18pt;margin-bottom: 0pt;margin-left: 18pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">1.</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: bold;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Change the configuration file of MySQL. (MySQL can’t identify some incorrect strings of the .csv file we want to load, so that we have to change the setting of MySQL)</span></p>
<p> <span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /> 
<p style="margin-top: 0pt;text-indent: -21pt;margin-bottom: 0pt;margin-left: 39pt"><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none">l</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: normal;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Open your &quot;my.ini&quot; file within the MySQL installation directory, and look for the text &quot;sql-mode&quot;. Find:</span><img src="{{ site.baseurl }}/assets/sZ9MkVzHSM4Of7AxAJX4bMrUGw3FiDqSisWIwWHPTXsLuIHlIScIhRYbhzeK8ED5S14LcG79y4ZkIhGT-4wb52r162WknfSqIlt6pfuMduZCwKGX" width="554" height="172" /></p>
<p> <span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /> 
<p style="margin-top: 0pt;text-indent: -21pt;margin-bottom: 0pt;margin-left: 39pt"><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none">l</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: normal;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Add the following code to “my.ini” file</span></p>
<p> <span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span><img src="{{ site.baseurl }}/assets/HmlnGIAjVSLgGI7DjVAVEBaEW9tbp6P8ZwAALQli0zeheaHfdy3zVUfKrEBfvQ-Vipa5ghCib9jrNvSFbOnsOZ9mNthBjWvtwoGMwK4f_d1S13d2" width="456" height="85" />  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /> 
<p style="margin-top: 0pt;margin-bottom: 0pt;margin-left: 18pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span></p>
<p style="margin-top: 0pt;margin-bottom: 0pt;margin-left: 18pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span></p>
<p style="margin-top: 0pt;text-indent: -18pt;margin-bottom: 0pt;margin-left: 18pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">2.</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: bold;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Download the .csv files and unzip it:</span></p>
<p> <span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span><br />
<table style="border-bottom: medium none;border-left: medium none;border-collapse: collapse;border-top: medium none;border-right: medium none">
<tbody>
<tr style="height: 0px">
<td style="border-bottom: #aaa 1px dotted;border-left: #aaa 1px dotted;padding-bottom: 7px;padding-left: 7px;padding-right: 7px;vertical-align: top;border-top: #aaa 1px dotted;border-right: #aaa 1px dotted;padding-top: 7px"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">File Name</span></td>
<td style="border-bottom: #aaa 1px dotted;border-left: #aaa 1px dotted;padding-bottom: 7px;padding-left: 7px;padding-right: 7px;vertical-align: top;border-top: #aaa 1px dotted;border-right: #aaa 1px dotted;padding-top: 7px"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Download Link</span></td>
</tr>
<tr style="height: 0px">
<td style="border-bottom: #aaa 1px dotted;border-left: #aaa 1px dotted;padding-bottom: 7px;padding-left: 7px;padding-right: 7px;vertical-align: top;border-top: #aaa 1px dotted;border-right: #aaa 1px dotted;padding-top: 7px"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">1. GeoIPCountryCSV.zip (It contains one database file)</span></td>
<td style="border-bottom: #aaa 1px dotted;border-left: #aaa 1px dotted;padding-bottom: 7px;padding-left: 7px;padding-right: 7px;vertical-align: top;border-top: #aaa 1px dotted;border-right: #aaa 1px dotted;padding-top: 7px"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">http://www.maxmind.com/app/geoip_country</span></td>
</tr>
<tr style="height: 0px">
<td style="border-bottom: #aaa 1px dotted;border-left: #aaa 1px dotted;padding-bottom: 7px;padding-left: 7px;padding-right: 7px;vertical-align: top;border-top: #aaa 1px dotted;border-right: #aaa 1px dotted;padding-top: 7px"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">2.</span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 11pt;vertical-align: baseline;font-weight: normal;text-decoration: none"> </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">GeoLiteCity_20100601.zip (It contains two database files)</span></td>
<td style="border-bottom: #aaa 1px dotted;border-left: #aaa 1px dotted;padding-bottom: 7px;padding-left: 7px;padding-right: 7px;vertical-align: top;border-top: #aaa 1px dotted;border-right: #aaa 1px dotted;padding-top: 7px"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">http://www.maxmind.com/app/geolitecity</span></td>
</tr>
</tbody>
</table>
<p><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Note: Actually, there is one database named GeoLiteRegion, which doesn’t have free version right now. So we didn’t choose to use it.</span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /> 
<p style="margin-top: 0pt;text-indent: -18pt;margin-bottom: 0pt;margin-left: 18pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">3.</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: bold;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">Use MySQL Workbench to load the unzipped .csv files to database</span></p>
<p> <span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /> 
<p style="margin-top: 0pt;text-indent: -21pt;margin-bottom: 0pt;margin-left: 42pt"><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none">l</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: normal;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">According to the number of columns of the .csv file, we need to create the corresponding table and give a name to each column.</span></p>
<p style="margin-top: 0pt;margin-bottom: 0pt;margin-left: 21pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span></p>
<p style="margin-top: 0pt;text-indent: -21pt;margin-bottom: 0pt;margin-left: 42pt"><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none">l</span><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 8pt;vertical-align: baseline;font-weight: normal;text-decoration: none">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none">After the table has been established, we can use the following command to automatically load the data :</span></p>
<p style="margin-top: 0pt;margin-bottom: 0pt;margin-left: 21pt"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span><img src="{{ site.baseurl }}/assets/GwzM150djI22fA2dbGZ42ly328VvlupkonwlNfupN1bgb4Mu063fxl80mVGZhw7PtozSzXCrdd8Nop_Gbyvcc2Z7SRYskIbttmWFjplXmT7WJ4Vd" width="622" height="175" /></p>
<p> <span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: bold;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #ff0000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none">If you guys are still confusing about the code above, you check the following websites out:</span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #ff0000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none"></span>  <br /><a href="http://forums.mysql.com/read.php?79,219901,219901"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000099;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: underline">http://forums.mysql.com/read.php?79,219901,219901</span></a>  <br /><a href="http://www.tech-recipes.com/rx/2345/import_csv_file_directly_into_mysql/"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000099;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: underline">http://www.tech-recipes.com/rx/2345/import_csv_file_directly_into_mysql/</span></a><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000000;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: none">建议使用dat文件读取。</span><a href="http://www.tech-recipes.com/rx/2345/import_csv_file_directly_into_mysql/"><span style="background-color: transparent;font-style: normal;font-family: times new roman;color: #000099;font-size: 12pt;vertical-align: baseline;font-weight: normal;text-decoration: underline"></span></a>  <br /><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 9pt;vertical-align: baseline;font-weight: normal;text-decoration: none"></span>  <br /><span style="background-color: transparent;font-style: normal;font-family: arial;color: #000000;font-size: 11pt;vertical-align: baseline;font-weight: normal;text-decoration: none"></span></p>
