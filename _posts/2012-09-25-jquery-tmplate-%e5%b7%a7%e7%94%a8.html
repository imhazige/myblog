---
layout: post
title: Jquery tmplate 巧用
date: 2012-09-25 14:41:34.000000000 +01:00
type: post
published: true
status: publish
categories:
- Web前端
tags:
- jquery
meta:
  views: '32'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>Jquery有个template插件，提供将html标签转为模板的功能，但是这个模板一定又得是个完整的html元素。它是设计为最终使用appendTo等方法添加到DOM中去得。</p>
<p>那么我要是想使用它作为纯粹的字符串模板，那就没法了？找了半天，就是不提供这个功能。</p>
<p>这里介绍怎样利用它来实现字符串模板：</p>
<p>将字符串模板放在textarea元素中，使用text()方法来获得展示好后的字符串。</p>
<div>
<pre><span style="color: #800000">function</span> <span style="color: #800000">tpml</span>(<span style="color: #800000">tpl</span>, <span style="color: #800000">context</span>) {
		// <span style="color: #ff0000">we</span> <span style="color: #0000ff">can not use the same textarea, must remove it and use text() on it
		// one time
		ids.tpl_text.innerHTML = '&lt;textarea id=&quot;txt_tmpl&quot;&gt;' + +'&lt;/textarea&gt;'</span>;
		<span style="color: #ff0000">return</span> <span style="color: #0000ff">$('#txt_tmpl').text(ajax_tpls[tpl]).tmpl(context).text()</span>;
	}</pre>
</div>
<p>注意，每次必须重新创建一个textarea来包含文本，因为我发现第二次对textarea使用text()不起作用。</p>
<p>&#160;</p>
<p>但是我有点烦的就是这个基本功能怎么它就没提供呢。</p>
