---
layout: post
title: "禁止worpdress评论中的html标记"
date: 2012-10-17 12:08:23.000000000 +01:00
type: post
published: true
status: publish
categories:
- php
tags:
- wordpress
meta:
  views: '8'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>方法一:</p>
<p>使用插件<strong></strong><a href="http://betterwp.net/redirect-to?http://www.theblog.ca/wp-content/uploads/2008/04/peters_literal_comments1.0.1.zip">Peter’s Literal Comments</a></p>
<p>&#160;</p>
<p>方法二:</p>
<p>在theme的function.php中加入下代码:</p>
<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:788ceaab-7c51-4cbf-9f66-3e096552057f" class="wlWriterEditableSmartContent">
<pre name="code" class="php:firstline[1]">function disable_html_in_comments()
{
    global $allowedtags;
    $allowedtags = array();
}
disable_html_in_comments();</pre>
</div>
<p>如果要允许某些tag例如A则这样;</p>
<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:42573e62-33ec-47d2-b663-333c48ad80bc" class="wlWriterEditableSmartContent">
<pre name="code" class="php:firstline[1]">function disable_html_in_comments()
{
    global $allowedtags;
    $allowedtags = array(
        'a' =&gt; array(
            'href' =&gt; array (),
            'title' =&gt; array ()
        )
    );
}
disable_html_in_comments();</pre>
</div>
<p>&#160;</p>
<p>参见:</p>
<p><a href="http://betterwp.net/wordpress-tips/disable-html-in-comments-entirely/">http://betterwp.net/wordpress-tips/disable-html-in-comments-entirely/</a></p>
