---
layout: post
title: Asterisk安装
date: 2012-07-23 15:26:09.000000000 +01:00
type: post
published: true
status: publish
categories:
- voip
tags:
- asterisk
meta:
  views: '249'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>目前我还没安装成功，但已花了不少时间，此处记下：</p>
<p>网上找的都不靠谱，因为你的环境真不知道是怎么回事。</p>
<p>还是直接去官网看文档：</p>
<p>利用系统工具安装 <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+Packages">https://wiki.asterisk.org/wiki/display/AST/Asterisk+Packages</a></p>
<p>源码编译安装 <a href="https://wiki.asterisk.org/wiki/display/AST/Installing+Asterisk+From+Source">https://wiki.asterisk.org/wiki/display/AST/Installing+Asterisk+From+Source</a></p>
<p>我起先是看网上的帖子来安装，实际上是源码安装，这条路真是难走，开始是yum没有安装，只好去装rpm,但是安装rpm又找不到什么hearder,试了很多方法搞不定。</p>
<p>后来想找个rpm的安装包，<a href="http://www.rpmseek.com/">http://www.rpmseek.com</a> 上倒是有，但是链接有问题，只好在它的ftp上搜，好不容易搜到了，下下来安装又一堆依赖没有。这条路也走不通。</p>
<p>还是决定安装个ubuntu虚拟机算了。</p>
<p>注意安装asterisk和vmware都需要管理员权限。</p>
<p>vmware下载 <a href="http://www.vmsky.com/dl/VMware/Server/2009/02/17/2493.html">http://www.vmsky.com/dl/VMware/Server/2009/02/17/2493.html</a> （虽是免费，官方下载要注册还要认证）。</p>
<p>ubuntu可参考:<a href="http://www.dujinfang.com/past/2009/11/10/zai-ubuntu-shang-an-zhuang-asterisk/">http://www.dujinfang.com/past/2009/11/10/zai-ubuntu-shang-an-zhuang-asterisk/</a></p>
<p>&#160;</p>
<p>其实最简单的就是直接安装AsteriskNow,它是CentOs+Asterisk+Freepbx的安装镜像，我在vmware虚拟机上安装，一会就装好了。</p>
<p>系统启动后会提示在哪个端口可访问freepbx。   <br />发现连ssh和ftp都可以了(都是默认端口)，所以就让vm后台运行，使用xshell登陆操作，爽。    <br />freepbx文档 <a href="http://www.freepbx.org/support/documentation">http://www.freepbx.org/support/documentation</a> 登陆需要配置用户名密码。默认admin/admin</p>
<p>忍耐不住激动的心情，最想尝鲜的就是 sip电话了，配置也很简单:</p>
<p> 官方教程 <a href="http://www.freepbx.org/support/documentation/administration-guide/adding-extensions">http://www.freepbx.org/support/documentation/administration-guide/adding-extensions</a></p>
<p>这篇文章图片强大，不看文字就可以看懂,还包括xlite配置：</p>
<p><a href="http://www.pbxinaflash.com/community/index.php?threads/how-to-add-a-sip-softphone-freepbx-and-x-lite-as-an-example.4479/">http://www.pbxinaflash.com/community/index.php?threads/how-to-add-a-sip-softphone-freepbx-and-x-lite-as-an-example.4479/</a></p>
<p>于是我添加了两个sip分机，互相之间打电话，通了，very good.</p>
<p>这里面自带的mysql默认端口是3306,所以可以连接数据库看看里面有什么。(参见<a title="http://blog.ureshika.com/archives/860.html" href="http://blog.ureshika.com/archives/860.html">http://blog.ureshika.com/archives/860.html</a>)</p>
<p>可见有两个表</p>
<p>asterisk -- 这个是主库(asterisk还是freepbx或是公用？)</p>
<p>asteriskcdrdb --这个大概是（Call Detail Record，CDR）数据库</p>
