---
layout: post
title: jmx 客户端使用用户名密码连接
date: 2011-09-26 16:45:12.000000000 +01:00
type: post
published: true
status: publish
categories:
- java
tags:
- jmx
meta:
  views: '273'
  _edit_last: '1'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<div>使用用户名密码连接jmx服务端,代码如下:</div>
<div>
<pre>HashMap env = <span style="color: #0000ff">null</span>;

		<span style="color: #0000ff">if</span> (!StringUtils.isBlank(username))
		{
			env = <span style="color: #0000ff">new</span> HashMap();
			String[] credentials = <span style="color: #0000ff">new</span> String[] { username, password };
			env.put(&quot;<span style="color: #8b0000">jmx.remote.credentials</span>&quot;, credentials);
		}

		JMXServiceURL url = <span style="color: #0000ff">new</span> JMXServiceURL(&quot;<span style="color: #8b0000">service:jmx:rmi:///jndi/rmi://</span>&quot; + ip + &quot;<span style="color: #8b0000">:</span>&quot; + port + &quot;<span style="color: #8b0000">/jmxrmi</span>&quot;);
		JMXConnector jmxc = JMXConnectorFactory.connect(url, env);
		MBeanServerConnection mbsc = jmxc.getMBeanServerConnection();</pre>
</div>
