---
layout: post
title: "同源跨窗口添加脚本的上下文"
date: 2014-02-18 10:22:42.000000000 +00:00
type: post
published: true
status: publish
categories:
- Web前端
tags:
- javascript
meta:
  views: '19'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>这次遇到个问题，子窗体脚本向父窗体添加了个脚本，但是添加的脚本的上下文却是子窗体！也就是说，在被添加的脚本中操作dom其实是操作的子窗体的dom，window对象也是子窗体的window。</p>
<p>&#160;</p>
<p>为什么这样我还没找到文档。</p>
<p>&#160;</p>
<p>类似这样：</p>
<p>&#160;</p>
<p>子窗体脚本：</p>
<p>$(‘head’,parent.document).append(‘&lt;script src=”xxxx.js”&gt;&lt;/script&gt;’);</p>
<p>&#160;</p>
<p>xxx.js里:</p>
<p>&#160;</p>
<p>log(window);</p>
<p>&#160;</p>
<p>会发现是子窗体的window对象。</p>
