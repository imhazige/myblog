---
layout: post
title: linux cron任务执行php
date: 2012-03-30 17:51:12.000000000 +01:00
type: post
published: true
status: publish
categories:
- php
tags:
- cron
meta:
  views: '157'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>一般可使用cpanel 中的cron job界面来添加任务，对于执行php来说，可现在本机上执行命令测试了再加上去。</p>
<p>也可使用</p>
<pre>crontab -e</pre>
<p>来直接编辑，注意cpanel的cron脚本是没有放在这里面的。</p>
<p>还可以使用浏览器来执行呢:</p>
<p><a href="http://www.htmlcenter.com/blog/running-php-scripts-with-cron/">http://www.htmlcenter.com/blog/running-php-scripts-with-cron/</a></p>
<p>&#160;</p>
<p>默认情况下，crontab中执行的日志写在/var/log下，如：</p>
<p> #ls /var/log/cron*</p>
<p> /var/log/cron /var/log/cron.1 /var/log/cron.2 /var/log/cron.3 /var/log/cron.4</p>
<p> crontab的日志，当crond执行任务失败时会给用户发一封邮件。如果在服务器上发现一个任务没有正常执行，而crond发邮件也失败。通过看mail的日志，看是否是磁盘空间不够造成的</p>
<p> 将cornd错误输出和标准输出日志都指向自定义的日志文件：</p>
<p> 0 6 * * * $HOME/fro_crontab/createTomorrowTables&gt;&gt;$HOME/for_crontab/mylog.log 2 &gt;&amp;1</p>
<p>&#160;</p>
<p>对于codeigniter来说，可参见他的源码cron.php,它是模仿http请求来做的。</p>
<p>参见:</p>
<p><a href="http://tech.ddvip.com/2008-06/121324087945638.html">http://tech.ddvip.com/2008-06/121324087945638.html</a></p>
