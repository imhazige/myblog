---
layout: post
title: http大文件上传
date: 2011-10-08 09:27:37.000000000 +01:00
type: post
published: true
status: publish
categories:
- java
tags:
- http大文件上传
meta:
  views: '145'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>大文件上传要注意以下几点：</p>
<ul>
<li>input type=file需要放在form中。</li>
<li>form的enctype=&quot;multipart/form-data&quot;&#160; ie5下encoding=&quot;multipart/form-data&quot; </li>
<li>form的method=”post”</li>
<li>input type=file需要有name属性</li>
<li>form的target指向提交页面，如果是空则会提交本页造成页面刷新，可以使用指向隐藏的iframe来解决。</li>
<li>form中的其他非file类型字段是可以得到的，但是url中的参数不可得。</li>
<li>参数顺序与html中input排列顺序相同。</li>
</ul>
<p>以上通过org.apache.commons.fileupload包验证过，其他形式应该也是支持的。</p>
<ul>
<li>input type=file的值是可以得到的是经过安全处理的值。</li>
<li>基于安全原因,不能使用脚本设置input type=file的值。</li>
</ul>
<p>参见:<a title="http://w3help.org/zh-cn/causes/HF1010" href="http://w3help.org/zh-cn/causes/HF1010">http://w3help.org/zh-cn/causes/HF1010</a></p>
<ul>
<li>如要实现cancel功能，将提交的iframe的src属性设置为’’即可，这导致提交abort。</li>
</ul>
