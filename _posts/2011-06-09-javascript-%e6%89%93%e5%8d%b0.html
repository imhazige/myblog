---
layout: post
title: javascript 打印
date: 2011-06-09 14:38:54.000000000 +01:00
type: post
published: true
status: publish
categories:
- Web前端
tags:
- javascript web 前端
meta:
  views: '47'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>javascript 打印  <br />使用iframe,写入类容，window.print打印,这个很简便。[测试sfari,firefox,ie,chrome都支持，opera不支持]  <br />&lt;html&gt;  <br />&#160;&#160;&#160; &lt;head&gt;  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;style &gt;  <br />body {  <br />&#160;&#160;&#160; background-color: blue;  <br />&#160;&#160;&#160; background-color: red \9;  <br />}  <br />&lt;/style&gt;  <br />&#160;&#160;&#160; &lt;script type=&quot;text/javascript&quot;&gt;  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; function pt(){  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; var ifa=document.getElementById('ifa');  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; var doc=ifa.contentWindow.document;  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; doc.write('ssssss');  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; doc.close();  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ifa.contentWindow.print();  <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; }  <br />&#160;&#160;&#160; &lt;/script&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <br />&#160;&#160;&#160; &lt;/head&gt;  <br />&#160;&#160;&#160; &lt;body&gt;blabla  <br />&#160;&#160;&#160; &lt;a onclick=&quot;pt();&quot; href=&quot;#&quot;&gt;print&lt;/a&gt;  <br />&#160;&#160;&#160; &lt;iframe id=&quot;ifa&quot; &gt;&lt;/iframe&gt;  <br />&#160;&#160;&#160; &lt;/body&gt;  <br />&lt;/html&gt;  <br />但是要注意iframe的内容应该本页同域，否则有权限限制。
<div>ie有问题,iframe打印不是iframe那个页面的内容而是iframe所在页面的内容。</div>
<div>解决办法，针对ie使用document.execCommand('print');即可</div>
