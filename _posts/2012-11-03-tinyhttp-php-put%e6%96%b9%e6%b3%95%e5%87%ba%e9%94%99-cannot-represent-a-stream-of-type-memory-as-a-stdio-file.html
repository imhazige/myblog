---
layout: post
title: 'TinyHttp.php put方法出错: cannot represent a stream of type MEMORY as a STDIO
  FILE'
date: 2012-11-03 17:13:24.000000000 +00:00
type: post
published: true
status: publish
categories:
- php
tags:
- tinyhttp
meta:
  views: '84'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>TinyHttp.php put方法bug修改</p>
<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:5e7d8034-e249-4a64-8185-97373260aa4b" class="wlWriterEditableSmartContent">
<pre name="code" class="php">case 'put' :
    $opts[CURLOPT_PUT] = TRUE;
    if (strlen($req_body)) {
        $buf = tmpfile();
        fwrite($buf, $req_body);
        fseek($buf, 0);
        $opts[CURLOPT_INFILE] = $buf;
        $opts[CURLOPT_INFILESIZE] = strlen($req_body);
    }
    break;</pre>
</div>
<p>&#160;</p>
<p>估计put 方法用的人少，这个bug一直没发现。</p>
