---
layout: post
title: IE 回车 提交表单问题
date: 2012-08-22 20:19:25.000000000 +01:00
type: post
published: true
status: publish
categories:
- Web前端
tags:
- ie
meta:
  views: '79'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p>现在当我写一个form时，总是提心吊胆的，因为最近我几次遇到回车导致表单提交的情况，当然，这任然是在“神奇的IE”里面出现的奇迹。</p>
<p>这里所说的问题都是说在文本框里回车导致的，你在别的地方回车当然没这个问题。</p>
<p>网上有人总结了：</p>
<p><a href="http://www.cnblogs.com/cxd4321/archive/2012/05/07/2486926.html">http://www.cnblogs.com/cxd4321/archive/2012/05/07/2486926.html</a></p>
<blockquote><p>&#160;</p>
<p>我们有时候希望回车键敲在文本框（input element）里来提交表单（form），但有时候又不希望如此。比如搜索行为，希望输入完关键词之后直接按回车键立即提交表单，而有些复杂表单，可能要避免回车键误操作在未完成表单填写的时候就触发了表单提交。</p>
<p>要控制这些行为，不需要借助JS，浏览器已经帮我们做了这些处理，这里总结几条规则：</p>
<p>1、如果表单里有一个type=”submit”的按钮，回车键生效。</p>
<p>2、如果表单里只有一个type=”text”的input，不管按钮是什么type，回车键生效。</p>
<p>3、如果按钮不是用input，而是用button，并且没有加type，IE下默认为type=button，FX默认为type=submit。</p>
<p>4、其他表单元素如textarea、select不影响，radio checkbox不影响触发规则，但本身在FX下会响应回车键，在IE下不响应。</p>
<p>5、type=”image”的input，效果等同于type=”submit”，不知道为什么会设计这样一种type，不推荐使用，应该用CSS添加背景图合适些。</p>
<p>实际应用的时候，要让表单响应回车键很容易，保证表单里有个type=”submit”的按钮就行。而当只有一个文本框又不希望响应回车键怎么办呢？我的方法有点别扭，就是再写一个无意义的文本框，隐藏起来。根据第3条规则，我们在用button的时候，尽量显式声明type以使浏览器表现一致。</p>
</blockquote>
<p>我再补充type=”image”的BT情况，当用户会车时，竟然会触发这种标签的onclick事件---这就是奇迹，它就在那里！</p>
<p>&#160;</p>
<p>然后再联系一下IE form提交的另外的问题<a href="http://kazge.com/archives/356.html">http://kazge.com/archives/356.html</a> ， 这就是我为什么提心吊胆的原因了。</p>
