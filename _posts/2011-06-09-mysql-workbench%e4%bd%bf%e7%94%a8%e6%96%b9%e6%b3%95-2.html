---
layout: post
title: MySQL Workbench使用方法
date: 2011-06-09 11:33:20.000000000 +01:00
type: post
published: true
status: publish
categories:
- "数据库"
tags:
- mysql
meta:
  views: '1741'
  _edit_last: '1'
author:
  login: ig2net
  email: ig2net@ig2net.info
  display_name: "农夫一号"
  first_name: ''
  last_name: ''
---
<p><b>要检查默认的启动/停止/状态检查命令是否是你设置的对应的mysql服务的名称 home/serveradmin/manage server instance</b></p>
<p><strong>例如sc start mysql51 中mysql51 要对应实际的服务名称（不区分大小写）</strong></p>
<p><b>     <br /></b></p>
<p><b>     <br /></b></p>
<p><b>MySQL Workbench</b> is a visual database design tool recently released by MySQL AB. The tool is specifically for designing MySQL database.</p>
<p>MySQL Workbench has many functions and features; this article by <b>Djoni Darmawikarta</b> shows some of them by way of an example. We’ll build a physical data model for an order system where an order can be a sale order or a purchase order, and then, <b>forward-engineer</b> our model into an MySQL database.</p>
<p><b>MySQL Workbench</b> is a visual database design tool recently released by MySQL AB. The tool is specifically for designing MySQL database.</p>
<p>What you build in MySQL Workbench is called physical data model. A physical data model is a data model for a specific RDBMS product; the model in this article will have some MySQL unique specifications. We can generate (<b>forward-engineer</b>) the database objects from its physical model, which in addition to tables and their columns, can also include other objects such as view.</p>
<p>MySQL Workbench has many functions and features; this article by <b>Djoni Darmawikarta</b> shows some of them by way of an example. We’ll build a physical data model for an order system where an order can be a sale order or a purchase order; and then, <b>forward-engineer</b> our model into an MySQL database.</p>
<p>The physical model of our example in EER diagram will look like in the following MySQL Workbench screenshot.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image1.png" /></p>
<h1>Creating ORDER Schema</h1>
<p>Let’s first create a schema where we want to store our order physical model. Click the + button (circled in red).</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image2.png" /></p>
<p>Change the new schema’s default name to ORDER. Notice that when you’re typing in the schema name, its tab name on the Physical Schemata also changes accordingly—a nice feature.</p>
<p>The order schema is added to the Catalog (I circled the order schema and its objects in red).</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image3.png" /></p>
<p>Close the schema window. Confirm to rename the schema when prompted.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image4.png" /></p>
<h1>Creating Order Tables</h1>
<p>We’ll now create three tables that model the order: ORDER table and its two subtype tables: SALES_ORDER and PURCHASE_ORDER, in the ORDER schema. First of all, make sure you select the ORDER schema tab, so that the tables we’ll create will be in this schema.</p>
<p>We’ll create our tables as EER diagram (EER = Enhanced Entity Relationship). So, double-click the Add Diagram button.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image5.png" /></p>
<p>Select (click) the Table icon, and then move your mouse onto the EER Diagram canvas and click on the location you want to place the first table.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image6.png" /></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image7.png" /></p>
<p>Repeat for the other two tables. You can move around the tables by dragging and dropping.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image8.png" /></p>
<p>Next, we’ll work on table1, which we’ll do so using the Workbench’s table editor. We start the table editor by right-clicking the table1 and selecting Edit Table.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image9.png" /></p>
<p>Next, we’ll work on table1, which we’ll do so using the Workbench’s table editor. We start the table editor by right-clicking the table1 and selecting Edit Table.</p>
<p>Rename the table by typing in ORDER over table1.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image10.png" /></p>
<p>We’ll next add its columns, so select the Columns tab. Replace idORDER column name with ORDER_NO.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image11.png" /></p>
<p>Select INT as the data type from the drop-down list.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image12.png" /></p>
<p>We’d like this ORDER_NO column to be valued incrementally by MySQL database, so we specify it as AI column (Auto Increment).</p>
<p style="margin-left: 40px; margin-right: 40px"><i>AI is a specific feature of MySQL database.</i></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image13.png" /></p>
<p>You can also specify other physical attributes of the table, such as its Collation; as well as other advanced options, such as its trigger and partioning (the Trigger and Partioning tabs).</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image14.png" /></p>
<p>Notice that on the diagram our table1 has changed to ORDER, and it has its first column, ORDER_NO. In the Catalog you can also see the three tables.</p>
<p style="margin-left: 40px; margin-right: 40px"><i>The black dots on the right of the tables indicate that they’ve been included in an diagram.</i></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image15.png" /></p>
<p>&#160;</p>
<hr size="1" noshade="noshade" />
<p>If you expand the ORDER folder, you’ll see the ORDER_NO column. As we define the column as a primary key, it has a key icon on its left.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image16.png" /></p>
<p>Back to the table editor, add the other columns: ORDER_DATE and ORDER_TYPE. The ORDER_TYPE can have one of two values: S for sales order, P for purchase order. As sales order is more common, we’d like to specify it as the column’s default value.</p>
<p>You add the next column by double-clicking the white space below the last column.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image17.png" /></p>
<p>In the same way, create the SALES_ORDER table and its columns.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image18.png" /></p>
<p>Lastly, create the PURCHASE_ORDER table and its columns.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image19.png" /></p>
<h1>Create Relationships</h1>
<p>We have now created all three tables and their columns. We haven’t done yet with our model; we still need to create the subtype relationships of our tables.</p>
<p>The SALES_ORDER is a subtype of ORDER, implying their relationship is 1:1 with the SALES_ORDER as the child and ORDER the parent, and also the ORDER’s key migrated to the SALES_ORDER. So, select (click) the 1:1 identifying relationship icon, and click it on the SALES_ORDER table and then ORDER table.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image20.png" /></p>
<p>Notice that the icon changes to a hand with the 1:1 relationship when you click it to the tables.</p>
<p style="text-align: center"><img style="border-bottom: black 1px solid; border-left: black 1px solid; border-top: black 1px solid; border-right: black 1px solid" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image21.png" /></p>
<p style="text-align: center"><img style="border-bottom: black 1px solid; border-left: black 1px solid; border-top: black 1px solid; border-right: black 1px solid" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image22.png" width="217" height="205" /></p>
<p>The 1:1 relationship is set; the ORDER_NO primary key is migrated and becomes the primary key of the SALES_ORDER table.</p>
<p style="text-align: center"><img style="border-bottom: black 1px solid; border-left: black 1px solid; border-top: black 1px solid; border-right: black 1px solid" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image23.png" width="225" height="278" /></p>
<p>Next, create the PURCHASE_ORDER to ORDER relationship, which is also 1:1 identifying relationship.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image24.png" /></p>
<p>We have now completed designing our tables and their relationships; let’s save our model as ORDER.mwb.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image25.png" /></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image26.png" /></p>
<h1>Generate DDL and Database</h1>
<p>The final step of our data modeling in this article is generating the model into MySQL database. We’ll first generate the DDL (SQL CREATE script), and then execute the script.</p>
<p>From the <b>File | Export</b> menu, select <b>Forward Engineer SQL CREATE Script</b>.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image27.png" /></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image28.png" /></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image29.png" /></p>
<p>Lastly, execute the saved SQL CREATE script. We execute the script outside of MySQL Workbench; for example, we can execute it in a MySQL command console.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image30.png" /></p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image31.png" /></p>
<p>You can also confirm that the tables have been created.</p>
<p style="text-align: center"><img style="border-right-width: 0pt; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt" border="0" alt="Visual MySQL Database Design in MySQL Workbench" src="{{ site.baseurl }}/assets/workbench-article-image32.png" /></p>
<h1>Summary</h1>
<p>This article shows you how to build a MySQL physical data model visually in MySQL Workbench, and generate the model into its MySQL database.</p>
