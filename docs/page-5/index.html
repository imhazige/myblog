<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
--><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <title>Ka's Blog &middot; Ka's Blog</title> <meta name="description" content="Ka’s blog description… "> <link rel="canonical" href="http://localhost:4000/page-5/"> <link rel="alternate" type="application/atom+xml" title="Ka's Blog Feed" href="http://localhost:4000/feed.xml"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"> <!-- Place favicon.ico in the root directory --> <link rel="stylesheet" href="/assets/style.css"> <link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"> <link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|') }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; </script> <!--<![endif]--> <script> !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window.disablePushState = false; window.disableDrawer = false; </script> <!--[if lt IE 9]> <script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script> <![endif]--> <!--[if gt IE 8]><!----> <style> article, aside, dialog, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } mark { background: #FF0; color: #000; } * { box-sizing: border-box; } html, body { margin: 0; padding: 0; } html { font-size: 16px; line-height: 1.75; } body { color: #333; background-color: #fff; overflow-y: scroll; } a { text-decoration: none; } .lead { margin-left: -1rem; margin-right: -1rem; } img, .img { display: block; max-width: 100%; margin-bottom: 1rem; border: none; } img.lead, .img.lead { max-width: calc(100% + 2rem); width: calc(100% + 2rem); } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-weight: bold; text-rendering: optimizeLegibility; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 { margin: 3rem 0 1rem; line-height: 1.6; } h1, .h1 { font-size: 2rem; line-height: 1.25; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.17em; } p { margin-top: 0; margin-bottom: 1rem; } p.lead { font-size: 1.25rem; font-weight: 300; padding: 0 1rem; } ul, ol, dl { margin-top: 0; margin-bottom: 1rem; } ul, ol { padding-left: 1.25rem; } hr { position: relative; margin: 1.5rem 0; border: 0; border-top: 1px solid #eee; } .hr { padding-bottom: .5rem; border-bottom: 1px solid #eee; margin-bottom: 1.5rem; } h4, h5, h6, .h4, .h5, .h6 { margin-bottom: 0.5rem; font-size: 1rem; } table { margin-bottom: 1rem; width: 100%; width: calc(100% + 2rem); margin-left: -1rem; border: 1px solid #e5e5e5; border-collapse: collapse; border-spacing: 0; } td, th { padding: .25rem .5rem; border: 1px solid #e5e5e5; } td:first-child, th:first-child { padding-left: 1rem; } td:last-child, th:last-child { padding-right: 1rem; } thead + tbody, tbody + tbody, tfoot { border-top: 3px double #e5e5e5; } tbody tr:nth-child(odd) td, tbody tr:nth-child(odd) th { background-color: #f9f9f9; } footer { margin-bottom: 2rem; } .page, .post { margin-bottom: 3em; } .page li + li, .post li + li { margin-top: .25rem; } .page > header, .post > header { margin-bottom: 2rem; } .page-title, .post-title { margin-top: 0; } .post-date { display: block; margin-top: -0.5rem; margin-bottom: 1rem; color: #9a9a9a; } .related-posts { padding-left: 0; list-style: none; } .related-posts > li, .related-posts > li + li { margin-top: 1rem; } .related-posts > li > small, .related-posts > li + li > small { font-size: 75%; color: #9a9a9a; } .message { margin-bottom: 1rem; padding: 1rem; color: #787878; background-color: #f9f9f9; margin-left: -1rem; margin-right: -1rem; } /* * Global resets * * Update the foundational and global aspects of the page. */ body, main { /* Prevent side-scrolling on mobile */ position: relative; overflow-x: hidden; } @media screen { body::before { content: ''; width: .5rem; background: #e5e5e5; position: absolute; left: 0; top: 0; bottom: 0; } } @media screen and (min-width: 40em) { html { font-size: 17px; } } @media screen and (min-width: 54em) { html { font-size: 16px; } } @media screen and (min-width: 72em) { html { font-size: 17px; } } @media screen and (min-width: 125em) { html { font-size: 18px; } } .sr-only { display: none; } .clearfix, .sidebar-social::after, .clearafter::after { content: ""; display: table; clear: both; } a, .a { position: relative; padding-bottom: .15rem; border-bottom: 1px solid; } .img { overflow: hidden; background-color: #f9f9f9; } .img > img { margin: 0; width: 100%; height: 100%; } .sixteen-nine { position: relative; } .sixteen-nine::before { display: block; content: ""; width: 100%; padding-top: 56.25%; } .sixteen-nine > * { position: absolute; top: 0; left: 0; right: 0; bottom: 0; } h1 + hr, h2 + hr, h3 + hr, h4 + hr, h5 + hr, h6 + hr { margin-top: 0; } .fade-in { animation-duration: 500ms; animation-name: fade-in; animation-fill-mode: forwards; } @keyframes fade-in { from { transform: translateY(-2rem); opacity: 0; } 50% { transform: translateY(-2rem); opacity: 0; } to { transform: translateY(0); opacity: 1; } } .mb6 { margin-bottom: 6rem; } .sidebar { color: rgba(255, 255, 255, 0.75); text-align: left; /* Sidebar links */ } .sidebar::before { /* make sidebar slightly darker to increase text readability (when using a background image) */ content: ""; position: absolute; z-index: 2; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ } .sidebar a { color: #fff; border-bottom-color: rgba(255, 255, 255, 0.2); } #_yDrawer { position: relative; padding: 1rem 0; } @media screen { #_yDrawer { padding: 2rem 1rem; min-height: 640px; min-height: 100vh; } } @media screen and (min-width: 54em) { #_yDrawer { position: fixed; top: 0; left: 0; bottom: 0; width: 18rem; margin-left: 0; } } @media screen and (min-width: 97.5em) { #_yDrawer { width: calc(50% - 28rem); } } @media screen { #_yDrawer.loaded { min-height: 0; padding: 0; } } .sidebar-bg { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #202020 center / cover; } .sidebar-sticky { position: relative; z-index: 3; } @media screen { .sidebar-sticky { position: absolute; right: 2rem; bottom: 1rem; left: auto; max-width: 14rem; } } @media print { .sidebar-sticky { padding: 0 2rem; } } /* About section */ .sidebar-about > h1 { color: #fff; font-size: 2rem; } .sidebar-nav > ul { list-style: none; padding-left: 0; margin-bottom: .5rem; } a.sidebar-nav-item { font-weight: bold; display: block; line-height: 1.75; padding: .25rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.2); } @media screen { .y-drawer-scrim { z-index: 2; } .y-drawer-content { width: 18rem; left: -17.5rem; z-index: 3; } } @media screen and (min-width: 97.5em) { .y-drawer-content { width: calc(50% - 28rem); } } .sidebar-social { margin-bottom: .5rem; } .sidebar-social > ul { list-style: none; padding-left: 0; margin: 0 -.25rem; } .sidebar-social > ul > li { float: left; margin: 0 .25rem; } .sidebar-social > ul > li > a { display: inline-block; text-align: center; font-size: 1.6rem; line-height: 3rem; width: 3.1249rem; height: 4rem; padding: .5rem 0; } .sidebar-social > ul li + li { margin-top: 0; } .fixed-top { position: fixed; top: 0; left: 0; width: 100%; z-index: 1; } .navbar > .content { padding-top: 0; padding-bottom: 0; min-height: 0; height: 0; } .menu { display: inline-block; padding: 1.75rem 1.5rem; border-bottom: none; margin-left: -1.5rem; color: #9a9a9a !important; } .menu::after { content: "\2630"; } @media screen and (min-width: 54em) { .menu { padding: 1.25rem 1.5rem; position: absolute; left: -9999px; } .menu:focus { position: static; } } .animation-main { pointer-events: none; } .loading { display: none; } @media print { .menu { display: none; } } .animation-main { opacity: 0; will-change: opacity; } .loading { position: absolute; top: 0; right: 0; padding: 5.25rem 4.5rem; transform-origin: top right; transform: scale(0.33); } .content { position: relative; margin-left: auto; margin-right: auto; padding: 5rem 1rem 12rem; } @media screen { .content { max-width: 38rem; padding-left: 1.5rem; min-height: 100vh; } } @media screen and (min-width: 54em) { .content { max-width: 42rem; padding: 4rem 1rem 12rem; margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 72em) { .content { margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 92em) { .content { max-width: 48rem; } } @media screen and (min-width: 97.5em) { .content { margin: auto; } } .me { float: right; width: 6.5rem; height: 6.5rem; margin-left: 1rem; margin-bottom: .5rem; border-radius: 100%; position: relative; } @media screen and (min-width: 40em) { .me { width: 7rem; height: 7rem; } } @media screen and (min-width: 54em) { .me { width: 6.5rem; height: 6.5rem; } } @media screen and (min-width: 60em) { .me { width: 7rem; height: 7rem; } } main > footer { position: absolute; bottom: 0; left: 0; right: 0; padding: 0 1rem; color: #9a9a9a; font-size: smaller; text-align: center; } main > footer > p { margin-bottom: 0; } /* .card, .pagination-item { border-radius: 0!important; } */ /* @media screen { .sidebar-sticky { left: 2rem; max-width: none; } } */ html { font-family: Helvetica, Arial, sans-serif; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Helvetica, Arial, sans-serif; } </style> <link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1"> <script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script> <!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed --> <style id="_pageStyle"> .content a { color: #4f86aa; border-color: rgba(79, 134, 170, 0.2); } .content a:hover { border-color: #4f86aa; } :focus { outline-color: #4f86aa; } ::selection { color: #fff; background: #4f86aa; } ::-moz-selection { color: #fff; background: #4f86aa; } </style> <noscript> <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i"> <style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif } </style> <link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--<![endif]--> <!--[if gt IE 8]><!----> <script async src="/assets/bower_components/webfontloader/webfontloader.js"></script> <!--<![endif]--> </head> <body> <div class="navbar fixed-top"> <div class="content"> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu no-hover" href="#_title"> <span class="sr-only">Menu</span> </a> </div> </div> <div id="_yPushState"> <div class="fade-in"> <main id="_main" class="content" role="main" data-color="#4f86aa" data-image=""> <article id="post-%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/06/26/smartdraw2010-%e7%a0%b4%e8%a7%a3" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/06/26/smartdraw2010-e7-a0-b4-e8-a7-a3.html" data-flip="title"> smartdraw2010 破解 </a> </h1> <p class="post-date heading"> <time datetime="2013-06-26T18:19:01+08:00">26 Jun 2013</time> in <span>默认分类</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>网上说smartdraw&#160; + EA 经典配置，但是smartdraw 我还没发现较好的破解。</p> <p>&#160;</p> <p>这里有个2010的破解，可以用，但是有个问题，破解后启动时需要断网，否则运行不了。不过出现这种情况你可以重新破解，再断网运行。</p> <p>&#160;</p> <p>具体见:</p> <p><a href="http://www.cnblogs.com/RuiLei/archive/2009/10/14/1583497.html">http://www.cnblogs.com/RuiLei/archive/2009/10/14/1583497.html</a></p> <p>&#160;</p> <p>我这里补充一下2010下载地址:</p> <p><a href="http://download.cnet.com/SmartDraw-2010/3000-2075_4-10002466.html">http://download.cnet.com/SmartDraw-2010/3000-2075_4-10002466.html</a></p> <p class="read-more">Continue reading <a class="heading" href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/06/26/smartdraw2010-e7-a0-b4-e8-a7-a3.html" data-flip="title">smartdraw2010 破解</a></p> </article> <article id="post-java/2013/06/11/%e3%80%90%e8%bd%ac%e3%80%91visual_vm%e6%93%8d%e4%bd%9c%e6%89%8b%e5%86%8c" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2013/06/11/e3-80-90-e8-bd-ac-e3-80-91visual_vm-e6-93-8d-e4-bd-9c-e6-89-8b-e5-86-8c.html" data-flip="title"> 【转】Visual_VM操作手册 </a> </h1> <p class="post-date heading"> <time datetime="2013-06-11T17:43:04+08:00">11 Jun 2013</time> in <span>Java</span> on <span>内存泄露</span>, <span>性能</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <div style="line-height: normal" class="Section1"> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US">资源来自互联网，原作者不知出处，如果你觉得此转载侵犯了你的权益，请于管理员联系: <a href="mailto:admin@kazge.com">admin@kazge.com</a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 56pt"></font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 56pt">1 </font></font></span></b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 黑体"><font face="黑体"><font style="font-size: 21.5pt">什么是 </font></font></span><font style="font-size: 21.5pt"><b><span style="font-family: ; color: ; mso-fareast-font-family: 黑体; mso-font-kerning: 0pt" lang="EN-US"><font face="Calibri">Visual VM</font></span></b></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 黑体"><font face="黑体"><font style="font-size: 21.5pt">？</font><span lang="EN-US"><font style="font-size: 21.5pt"> </font></span></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Cambria"><b><span style="font-family: ; color: ; mso-fareast-font-family: 黑体; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font style="font-size: 15.5pt">1.1 </font></span></b><font style="font-size: 15.5pt"><span style="font-family: ; color: ; mso-fareast-font-family: 黑体; mso-font-kerning: 0pt; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold" lang="EN-US">Visual VM</span></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">简介 </font><span lang="EN-US"></span></font></span></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">VisualVM </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">提供在<span lang="EN-US"> Java </span>虚拟机<span lang="EN-US"> (Java Virutal Machine, JVM) </span>上运行的<span lang="EN-US"> Java </span>应用程序的详细信息。在<span lang="EN-US"> VisualVM </span>的图形用户界面中，您可以方便、快捷地查看多个<span lang="EN-US"> Java </span>应用程序的相关信息。（摘自官方） 简单说来，<span lang="EN-US">VisualVM</span>是一种集成了多个<span lang="EN-US">JDK</span>命令行工具的可视化工具，它能为您提供强大的分析能力。所有这些都是免费的！它囊括的命令行工具包括<span lang="EN-US">jstat, JConsole, jstack, jmap </span>和<span lang="EN-US"> jinfo</span>，这些工具与<span lang="EN-US">JDK</span>的标准版本是一致的。 可以使用<span lang="EN-US">VisualVM</span>生成和分析海量数据、跟踪内存泄漏、监控垃圾回收器、执行内存和<span lang="EN-US">CPU</span>分析，同时它还支持在<span lang="EN-US">MBeans</span>上进行浏览和操作。尽管<span lang="EN-US">VisualVM</span>自身要在<span lang="EN-US">JDK6</span>这个版本上运行，但是<span lang="EN-US">JDK1.4</span>以上版本的程序它都能监控。</font><span lang="EN-US"></span></span></font></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#323232">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font face="Cambria"><font style="font-size: 15.5pt">1.2 </font></font></span></b><font style="font-size: 15.5pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体">如何获取</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold" lang="EN-US"><font face="Cambria"><font style="font-size: 15.5pt">VisualVM</font><b><font style="font-size: 15.5pt"> </font></b></font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"></span></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">VisualVM</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">的一个最大好处就是，它已经在你的<span lang="EN-US">JDK bin</span>目录里了，只要你使用的是<span lang="EN-US">JDK1.6 Update7</span>之后的版本。点击一下<span lang="EN-US">jvisualvm.exe</span>图标它就可以运行了。</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font color="#323232"><font style="font-size: 12pt">这里是<span lang="EN-US">VisualVM </span>的官方网站：</font></font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"><font color="#0000ff">https://visualvm.dev.java.net</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体"><font style="font-size: 12pt" color="#323232">，资料很全，同时提供<span lang="EN-US">VisualVM</span>最近版本下载。</font><span lang="EN-US"></span></span></font></p> </p></div> <p> <span style="line-height: normal; font-family: ; color: ; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa" lang="EN-US"> <br style="page-break-before: auto; mso-break-type: section-break" clear="all" /></span> <div style="line-height: normal" class="Section2"> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 9pt" color="#323232">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font color="#323232"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 56pt">2 </font></font></span></b><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"><font face="Calibri"><font style="font-size: 21.5pt">Visual VM</font></font></span></b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 黑体"><font face="黑体"><font style="font-size: 21.5pt">实战 </font><span lang="EN-US"></span></font></span></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font color="#323232"><b><span style="font-family: ; color: ; mso-fareast-font-family: 黑体; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font face="Cambria"><font style="font-size: 15.5pt">2.1 </font></font></span></b><font style="font-size: 15.5pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体">开启</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold" lang="EN-US"><font face="Cambria">Visual VM</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">之旅 </font><span lang="EN-US"></span></font></span></font></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体"><font color="#323232"><font style="font-size: 12pt">如果你使用的是<span lang="EN-US">JDK</span>是<span lang="EN-US">1.6Update7</span>之后的版本，那么<span lang="EN-US">Visual VM</span>已经包含在<span lang="EN-US">bin</span>目录下了，否则需要去官方下载。</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Calibri"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 15.5pt">2.1.1</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"> </span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">启动问题 </font><span lang="EN-US"></span></font></span></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font color="#323232"><font style="font-size: 12pt">如果你在<span lang="EN-US">windows</span>上使用<span lang="EN-US">Visual VM</span>，需要做的只是点一下<span lang="EN-US">jvisualvm.exe</span>，就能启动它；绿色，好用。但是<span lang="EN-US">Visual VM</span>所在的分区如果是<span lang="EN-US">NTFS</span>格式，那么第一个问题就出现了：<span lang="EN-US">sun</span>对<span lang="EN-US">NTFS</span>格式的硬盘支持有问题！但可通过参数可避免，并完成启动。步骤如下：</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></font></font></span></p> <p style="text-indent: 0cm; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-list: l4 level1 lfo1" class="MsoNormal" align="left"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><span style="mso-list: ignore"><span style="line-height: normal; font-family: "><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160; </font></span></span></span><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">1. </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">创建一个<span lang="EN-US">visualvm.exe</span>的快捷方式</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></font></p> <p style="text-indent: 0cm; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-list: l4 level1 lfo1" class="MsoNormal" align="left"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><span style="mso-list: ignore"><span style="line-height: normal; font-family: "><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160; </font></span></span></span><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">2. </font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体">在</span></font></font><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: 宋体; mso-bidi-font-family: 宋体" lang="EN-US"><font face="Calibri">“</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体">目标</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: 宋体; mso-bidi-font-family: 宋体" lang="EN-US"><font face="Calibri">”</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt">中添加如下参数</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></font></span></font></p> <p style="text-indent: 68.25pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 6.5" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-bidi-font-size: 10.5pt; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font color="#323232">-XX:+PerfBypassFileSystemCheck</font></font></span></p> </p></div> <p> <span style="line-height: normal; font-family: ; color: ; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa" lang="EN-US"> <br style="page-break-before: auto; mso-break-type: section-break" clear="all" /></span> <div style="line-height: normal" class="Section3"> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0024.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image002[4]" border="0" alt="clip_image002[4]" src="/assets/clip_image0024_thumb.jpg" width="280" height="364" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 9pt" color="#323232">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font color="#323232"><font face="Calibri"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 15.5pt">2.1.2</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"> </span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">界面简介 </font><span lang="EN-US"></span></font></span></font></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">Visual VM</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">启动成功！可以看到<span lang="EN-US">Visual VM</span>的界面了。通过<span lang="EN-US">Visual VM</span>可以看到本机运行中的所有<span lang="EN-US">Java</span>应用。你会发现根本不需要在<span lang="EN-US">VisualVM </span>里为<span lang="EN-US">Java</span>应用程序注册，它们就会自动显示出来。甚至还可以在导航栏里查看到远程的<span lang="EN-US">Java</span>应用。导航栏即为<span lang="EN-US">Applications</span>，其中分为<span lang="EN-US">Local</span>（本地<span lang="EN-US">Java</span>应用）和<span lang="EN-US">Remote</span>（远程<span lang="EN-US">Java</span>应用）。 </font><span lang="EN-US"></span></span></font></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0044.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image004[4]" border="0" alt="clip_image004[4]" src="/assets/clip_image0044_thumb.jpg" width="576" height="376" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Calibri"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"><font style="font-size: 15.5pt">2.1.3</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"> </span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">安装插件 </font><span lang="EN-US"></span></font></span></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">Visual VM</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">有很多好用的插件<span lang="EN-US">,</span>步骤如下：</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></font></p> <p style="text-indent: 0cm; margin: 0cm 0cm 0pt 21pt; text-autospace: ; mso-layout-grid-align: none; mso-list: l1 level1 lfo2; mso-para-margin-left: 2.0gd" class="MsoNormal" align="left"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><span style="mso-list: ignore"><span style="line-height: normal; font-family: "><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160; </font></span></span></span><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">1. </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">点击</font><span lang="EN-US"><font style="font-size: 12pt">Tools -&gt; Plugins</font></span></span></font></font></p> </p></div> <p> <span style="line-height: normal; font-family: ; color: ; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa" lang="EN-US"> <br style="page-break-before: auto; mso-break-type: section-break" clear="all" /></span> <div style="line-height: normal" class="Section4"> <p style="text-indent: 0cm; margin: 0cm 0cm 0pt 21pt; text-autospace: ; mso-layout-grid-align: none; mso-list: l0 level1 lfo3; mso-para-margin-left: 2.0gd" class="MsoNormal" align="left"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"><span style="mso-list: ignore"><span style="line-height: normal; font-family: "><font style="font-size: 7pt">&#160;&#160;&#160;&#160;&#160; </font></span></span></span><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">2. </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">推荐安装全部插件</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></font></p> </p></div> <p> <span style="line-height: normal; font-family: ; color: ; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa" lang="EN-US"> <br style="page-break-before: auto; mso-break-type: section-break" clear="all" /></span> <div style="line-height: normal" class="Section5"> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0064.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image006[4]" border="0" alt="clip_image006[4]" src="/assets/clip_image0064_thumb.jpg" width="576" height="383" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 9pt" color="#323232">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font color="#323232"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt" lang="EN-US"><font face="Calibri"><font style="font-size: 15.5pt">2.2 </font></font></span></b><font style="font-size: 15.5pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体">监控本地</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-weight: bold" lang="EN-US"><font face="Calibri">Java</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">应用 </font><span lang="EN-US"></span></font></span></font></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">Visual VM</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">本身就是一个<span lang="EN-US">Java</span>应用，所以打开<span lang="EN-US">Visual VM</span>看到的第一个可监控应用就是<span lang="EN-US">Visual VM</span>本身；可以用它热热身，小试下牛刀。在<span lang="EN-US">Visual VM</span>可视化界面中可以监控到<span lang="EN-US">Visual VM</span>本身的内存使用情况、线程情况、<span lang="EN-US">Jvm</span>启动参数、<span lang="EN-US">cpu</span>消耗情况、垃圾回收情况等很多参数。当然如果在本地启一个<span lang="EN-US">Tomcat</span>一样可以看到这些参数，可以方便我们在本地对<span lang="EN-US">JVM</span>进行调优。但是且接如果你是在<span lang="EN-US">windows</span>下起应用，如果你的<span lang="EN-US">Java</span>应用是在<span lang="EN-US">NTFS</span>格式的盘附上，记得加参数：</font></span><span style="font-family: ; color: ; mso-bidi-font-size: 10.5pt; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US">-XX:+PerfBypassFileSystemCheck </span></font></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0084.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image008[4]" border="0" alt="clip_image008[4]" src="/assets/clip_image0084_thumb.jpg" width="575" height="367" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#323232">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><font face="Cambria"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font style="font-size: 15.5pt">2.2.1</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"> </span></b></font></font><font style="font-size: 15.5pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体">使用</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold" lang="EN-US"><font face="Cambria">Visual VM</font></span></font><font face="宋体"><font style="font-size: 15.5pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: cambria; mso-hansi-font-family: cambria; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold">监测内存泄漏</span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font style="font-size: 15.5pt">、解决内存溢出问题</font><span lang="EN-US"></span></span></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Cambria"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font style="font-size: 15.5pt">2.2.1</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US">.1<span style="mso-spacerun: yes">&#160; </span></span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: cambria; mso-hansi-font-family: cambria; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold"><font face="宋体"><font style="font-size: 15.5pt">内存泄露、溢出的异同</font></font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold" lang="EN-US"></span></p> <p style="margin: 0cm 0cm 0pt 63pt; text-autospace: ; mso-layout-grid-align: none; mso-para-margin-left: 6.0gd" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">同：都会导致应用程序运行出现问题，性能下降或挂起。</font><span lang="EN-US"></span></font></span></p> <p style="margin: 0cm 0cm 0pt 63pt; text-autospace: ; mso-layout-grid-align: none; mso-para-margin-left: 6.0gd" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">异：</font><span lang="EN-US"></span></font></span></p> <p style="text-indent: -18pt; margin: 0cm 0cm 0pt 112.5pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: -1.5; mso-para-margin-left: 9.0gd" class="MsoNormal" align="left"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">1)</font></font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: 宋体; mso-bidi-font-family: 宋体" lang="EN-US"><font face="Calibri">&#160;</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt">内存泄露是导致内存溢出的原因之一；内存泄露积累起来将导致内存溢出。</font><span lang="EN-US"></span></font></span></font></p> <p style="text-indent: -18pt; margin: 0cm 0cm 0pt 112.5pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: -1.5; mso-para-margin-left: 9.0gd" class="MsoNormal" align="left"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">2) </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">内存泄露可以通过完善代码来避免；内存溢出可以通过调整配置来减少发生频率，但无法彻底避免。</font><span lang="EN-US"></span></span></font></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Cambria"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font style="font-size: 15.5pt">2.2.1</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US">.2<span style="mso-spacerun: yes">&#160; </span></span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: cambria; mso-hansi-font-family: cambria; mso-bidi-font-family: cambria; mso-bidi-font-weight: bold"><font face="宋体"><font style="font-size: 15.5pt">监测内存泄漏</font></font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <ul style="list-style-type: disc; margin-bottom: 0cm; margin-left: 30pt" type="disc"> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l5 level1 lfo4; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font color="#ff0000"><font style="font-size: 12pt">内存泄漏</font></font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">是指程序中间动态分配了内存，但在程序结束时没有释放这部分内存，从而造成那部分内存不可用的情况，重启计算机可以解决，但也有可能再次发生内存泄露，内存泄露和硬件没有关系，它是由软件设计缺陷引起的。</font><span lang="EN-US"><font style="font-size: 12pt">&#160; </font></span></span></font></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l5 level1 lfo4; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt">内存泄漏可以分为<span lang="EN-US">4</span>类：</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></font></span></li> </ul> <p style="margin: 0cm 0cm 0pt 36pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font color="#339966"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">1) </font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体">常发性内存泄漏</span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">。发生内存泄漏的代码会被多次执行到，每次被执行的时候都会导致一块内存泄漏。</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></p> <p style="margin: 0cm 0cm 0pt 36pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font color="#339966"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">2) </font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体">偶发性内存泄漏</span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">。发生内存泄漏的代码只有在某些特定环境或操作过程下才会发生。常发性和偶发性是相对的。对于特定的环境，偶发性的也许就变成了常发性的。所以测试环境和测试方法对检测内存泄漏至关重要。</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></p> <p style="margin: 0cm 0cm 0pt 36pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font color="#339966"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">3) </font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体">一次性内存泄漏</span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">。发生内存泄漏的代码只会被执行一次，或者由于算法上的缺陷，导致总会有一块仅且一块内存发生泄漏。比如，在类的构造函数中分配内存，在析构函数中却没有释放该内存，所以内存泄漏只会发生一次。</font><span lang="EN-US"></span></span></font></p> <p style="margin: 0cm 0cm 0pt 36pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font color="#339966"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">4) </font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体">隐式内存泄漏</span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">。程序在运行过程中不停的分配内存，但是直到结束的时候才释放内存。严格的说这里并没有发生内存泄漏，因为最终程序释放了所有申请的内存。但是对于一个服务器程序，需要运行几天，几周甚至几个月，不及时释放内存也可能导致最终耗尽系统的所有内存。所以，我们称这类内存泄漏为隐式内存泄漏。</font><span lang="EN-US"></span></span></font></p> <p style="text-justify: inter-ideograph; margin: 0cm 0cm 0pt" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">每隔一段时间给所监测的<span lang="EN-US">Java</span>应用来一个<span lang="EN-US">heap dump</span>，如下面三图所示：</font><span lang="EN-US"></span></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: " lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0104.gif"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image010[4]" border="0" alt="clip_image010[4]" src="/assets/clip_image0104_thumb.gif" width="594" height="433" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: " lang="EN-US"><font face="Verdana"><font style="font-size: 9pt" color="#4563b9">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: " lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0124.gif"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image012[4]" border="0" alt="clip_image012[4]" src="/assets/clip_image0124_thumb.gif" width="592" height="305" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: " lang="EN-US"><font face="Verdana"><font style="font-size: 9pt" color="#4563b9">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: " lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0144.gif"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image014[4]" border="0" alt="clip_image014[4]" src="/assets/clip_image0144_thumb.gif" width="589" height="301" /></a></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: " lang="EN-US"><font face="Verdana"><font style="font-size: 9pt" color="#4563b9">&#160;</font></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">对比上面三个截图，发现似乎有个东西在急速飙升，仔细一看是这个对象：<span lang="EN-US">org.eclipse.swt.graphics.Image </span>在第一章图中这个还没排的上，第二次<span lang="EN-US">dump</span>已经上升到<span lang="EN-US">5181</span>个，第三次就是<span lang="EN-US">7845</span>个了。涨速相当快，而且和任务管理器里面看到的<span lang="EN-US">GDI</span>数量增涨一致，就是它了。</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">问题到这儿就比较清楚了，回到代码里面仔细一看可以发现，是某个地方反复的用图片来创建<span lang="EN-US">Image</span>对象导致的，改掉以后搞定问题。</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt">到这里其实我想说的是，<span lang="EN-US">Java</span>使用起来其实要比<span lang="EN-US">C++</span>更容易导致内存泄漏。对于<span lang="EN-US">C++</span>来说，每一个申请的对象都必须明确释放，任何没有释放的对象都会导致<span lang="EN-US">memleak</span>，这是不可饶恕的，而且这类问题已经有很多工具和方法来解决。但是到了<span lang="EN-US">Java</span>里面情况就不同了，对于<span lang="EN-US">Java</span>程序员来说对象都是不需要也无法主动销毁的，所以一般的思路是：随用随<span lang="EN-US">new</span>，用完即丢。很多对象具体的生命周期可能连写代码的人自己也不清楚，或者不需要清楚，只知道某个时刻垃圾收集器会去做的，不用管。但很可能某个对象在</font></font></span><font style="font-size: 12pt"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: 宋体; mso-bidi-font-family: 宋体" lang="EN-US"><font face="Calibri">“</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体">用完即丢</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-ascii-font-family: 宋体; mso-bidi-font-family: 宋体" lang="EN-US"><font face="Calibri">”</font></span></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt">的时候在另一个不容易发现的地方被保存了一个引用，那么这个对象就永远不会被回收。更加糟糕的是整个程序从设计之初就没有考虑过对象回收的问题，对于<span lang="EN-US">C++</span>程序员来说<span lang="EN-US">memleak</span>必然是一个设计错误，但是对<span lang="EN-US">Java</span>程序员来说这只是一个疏忽，而且似乎没有什么好的办法来避免。今天看到的这个问题是因为<span lang="EN-US">GDI</span>泄漏会造成严重后果才被重视，但如果仅仅是造成内存泄漏，那这个程序可能得连续跑上个十天半个月才会发现问题。最后就是，对于<span lang="EN-US">c++</span>，错误的代码在测试阶段就可以快速的侦测出哪怕一个<span lang="EN-US">byte</span>的<span lang="EN-US">memleak</span>并加以改正，但是对于<span lang="EN-US">java</span>程序，理论上没有哪个工具能够知道是不是有泄漏，因为除了作者自己以外没有人能够知道一个被引用的对象是不是应该被销毁，只有通过大量的，长期的压力测试才能发现问题，这是很危险的一件事情。</font><span lang="EN-US"></span></font></span></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#323232">&#160;</font></font></span></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Cambria"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font style="font-size: 15.5pt">2.2.1</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US">.3<span style="mso-spacerun: yes">&#160; </span></span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">解决内存溢出问题</font></font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="text-justify: inter-ideograph; margin: 0cm 0cm 0pt" class="MsoNormal" align="justify"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">1</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">、</font><span lang="EN-US"><font style="font-size: 12pt">java.lang.OutOfMemoryError: PermGen space </font></span></span></font></font></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">JVM</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">管理两种类型的内存，堆和非堆。堆是在<span lang="EN-US">JVM</span>启动时创建；非堆是留给<span lang="EN-US">JVM</span>自己用的，用来存放类的信息的。它和堆不同，运行期内<span lang="EN-US">GC</span>不会释放空间。如果<span lang="EN-US">web app</span>用了大量的第三方<span lang="EN-US">jar</span>或者应用有太多的<span lang="EN-US">class</span>文件而恰好<span lang="EN-US">MaxPermSize</span>设置较小，超出了也会导致这块内存的占用过多造成溢出，或者<span lang="EN-US">tomcat</span>热部署时侯不会清理前面加载的环境，只会将<span lang="EN-US">context</span>更改为新部署的，非堆存的内容就会越来越多。</font><span lang="EN-US"></span></span></font></font></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">PermGen space</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">的全称是<span lang="EN-US">Permanent Generation space</span>，是指内存的永久保存区域，这块内存主要是被<span lang="EN-US">JVM</span>存放<span lang="EN-US">Class</span>和<span lang="EN-US">Meta</span>信息的，<span lang="EN-US">Class</span>在被<span lang="EN-US">Loader</span>时就会被放到<span lang="EN-US">PermGen space</span>中，它和存放类实例<span lang="EN-US">(Instance)</span>的<span lang="EN-US">Heap</span>区域不同，<span lang="EN-US">GC(Garbage Collection)</span>不会在主程序运行期对<span lang="EN-US">PermGen space</span>进行清理，所以如果你的应用中有很<span lang="EN-US">CLASS</span>的话，就很可能出现<span lang="EN-US">PermGen space</span>错误，这种错误常见在<span lang="EN-US">web</span>服务器对<span lang="EN-US">JSP</span>进行<span lang="EN-US">pre compile</span>的时候。如果你的<span lang="EN-US">WEB APP</span>下都用了大量的第三方<span lang="EN-US">jar, </span>其大小超过了<span lang="EN-US">jvm</span>默认的大小<span lang="EN-US">(4M)</span>那么就会产生此错误信息了。</font></span></font></font></p> <p style="margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span lang="EN-US">&#160;</span></p> <p style="text-indent: 21pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0164.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image016[4]" border="0" alt="clip_image016[4]" src="/assets/clip_image0164_thumb.jpg" width="576" height="411" /></a></span></p> <p style="text-indent: 21pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span lang="EN-US">&#160;</span></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt">如上图所示，<span lang="EN-US">PermGen</span>在程序运行一段时间后超出了我们指定的<span lang="EN-US">128MB</span>，通过<span lang="EN-US">Classes</span>视图看到，<span lang="EN-US">Java</span>在运行的同时加载了大量的类到内存中。<span lang="EN-US">PermGen</span>会存储<span lang="EN-US">Jar</span>或者<span lang="EN-US">Class</span>的描述信息；所以在<span lang="EN-US">class</span>大量增加的同时<span lang="EN-US">PermGen</span>超出了我们指定的范围。为了让应用稳定，我们需要探寻新的<span lang="EN-US">PermGen</span>范围。检测时段时候后（如下图）发现<span lang="EN-US">PermGen</span>在<span lang="EN-US">145MB</span>左右稳定，那么我们就得到了稳定的新参数；这样<span lang="EN-US">PermGen</span>内存溢出的问题得到解决。</font><span lang="EN-US"></span></font></span></p> <p style="text-indent: 21pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0184.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image018[4]" border="0" alt="clip_image018[4]" src="/assets/clip_image0184_thumb.jpg" width="576" height="421" /></a></span></p> <p style="text-indent: 21pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span lang="EN-US">&#160;</span></p> <p style="text-justify: inter-ideograph; margin: 0cm 0cm 0pt" class="MsoNormal" align="justify"><font face="宋体"><font color="#323232"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">2</font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">、</font><span lang="EN-US"><font style="font-size: 12pt">java.lang.OutOfMemoryError: Java heap space </font></span></span></font></font></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">第一种情况是个补充，主要存在问题就是出现在这个情况中。其默认空间<span lang="EN-US">(</span>即<span lang="EN-US">-Xms)</span>是物理内存的<span lang="EN-US">1/64</span>，最大空间<span lang="EN-US">(-Xmx)</span>是物理内存的<span lang="EN-US">1/4</span>。如果内存剩余不到<span lang="EN-US">40</span>％，<span lang="EN-US">JVM</span>就会增大堆到<span lang="EN-US">Xmx</span>设置的值，内存剩余超过<span lang="EN-US">70</span>％，<span lang="EN-US">JVM</span>就会减小堆到<span lang="EN-US">Xms</span>设置的值。所以服务器的<span lang="EN-US">Xmx</span>和<span lang="EN-US">Xms</span>设置一般应该设置相同避免每次<span lang="EN-US">GC</span>后都要调整虚拟机堆的大小。假设物理内存无限大，那么<span lang="EN-US">JVM</span>内存的最大值跟操作系统有关，一般<span lang="EN-US">32</span>位机是<span lang="EN-US">1.5g</span>到<span lang="EN-US">3g</span>之间，而<span lang="EN-US">64</span>位的就不会有限制了。 </font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">注意：如果<span lang="EN-US">Xms</span>超过了<span lang="EN-US">Xmx</span>值，或者堆最大值和非堆最大值的总和超过了物理内存或者操作系统的最大限制都会引起服务器启动不起来。</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#323232">&#160;</font></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">垃圾回收<span lang="EN-US">GC</span>的角色，<span lang="EN-US">JVM</span>调用<span lang="EN-US">GC</span>的频度还是很高的，主要两种情况下进行垃圾回收：</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">一个是当应用程序线程空闲；另一个是<span lang="EN-US">java</span>内存堆不足时，会不断调用<span lang="EN-US">GC</span>，若连续回收都解决不了内存堆不足的问题时，就会报<span lang="EN-US">out of memory</span>错误。因为这个异常根据系统运行环境决定，所以无法预期它何时出现。</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">根据<span lang="EN-US">GC</span>的机制，程序的运行会引起系统运行环境的变化，增加<span lang="EN-US">GC</span>的触发机会。</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">为了避免这些问题，程序的设计和编写就应避免垃圾对象的内存占用和<span lang="EN-US">GC</span>的开销。显示调用<span lang="EN-US">System.GC()</span>只能建议<span lang="EN-US">JVM</span>需要在内存中对垃圾对象进行回收，但不是必须马上回收。一个是并不能解决内存资源耗空的局面，另外也会增加<span lang="EN-US">GC</span>的消耗。</font><span lang="EN-US"></span></font></span></p> <p style="text-justify: inter-ideograph; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#323232">&#160;</font></font></span></p> <p style="text-indent: 24pt; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-char-indent-count: 2.0" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"><a href="http://kazge.com/wp-content/uploads/2013/06/clip_image0204.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="clip_image020[4]" border="0" alt="clip_image020[4]" src="/assets/clip_image0204_thumb.jpg" width="575" height="366" /></a></span></p> </p></div> <p> <span style="line-height: normal; font-family: ; color: ; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa" lang="EN-US"> <br style="page-break-before: auto; mso-break-type: section-break" clear="all" /></span> <p style="line-height: normal; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: &#39;Book Antiqua&#39;" lang="EN-US"><font face="Book Antiqua"><font style="font-size: 9pt">&#160;</font></font></span></p> <p style="text-justify: inter-ideograph; line-height: normal; text-indent: 24pt; margin: 0cm 0cm 0pt; mso-char-indent-count: 2.0" class="MsoNormal" align="justify"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 12pt" color="#323232">如上图所示，<span lang="EN-US">used heap</span>的折线图呈峰状，说明垃圾对象及时被回收了，内存得以释放。如果<span lang="EN-US">used heap</span>的值只增不减说明存在内存泄漏了，如果超过<span lang="EN-US">heap size</span>的值，会报内存溢出的错误。</font><span lang="EN-US"></span></font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none" class="MsoNormal" align="left"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: calibri; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#323232">&#160;</font></font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; text-autospace: ; mso-layout-grid-align: none; mso-outline-level: 1" class="MsoNormal" align="left"><font face="Cambria"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US"><font style="font-size: 15.5pt">2.2.1</font></span></b><font style="font-size: 15.5pt"><b><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: cambria" lang="EN-US">.4<span style="mso-spacerun: yes">&#160; </span></span></b></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: cambria; mso-bidi-font-family: 宋体"><font face="宋体"><font style="font-size: 15.5pt">如何避免内存泄漏、溢出</font></font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-hansi-font-family: &#39;Book Antiqua&#39;; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">1) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">尽早释放无用对象的引用。</font></span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">好的办法是使用临时变量的时候，让引用变量在退出活动域后自动设置为<span lang="EN-US">null</span>，暗示垃圾收集器来收集该对象，防止发生内存泄露。</font></span></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">2) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">程序进行字符串处理时，尽量避免使用<span lang="EN-US">String</span>，而应使用<span lang="EN-US">StringBuffer</span>。</font></span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">因为每一个<span lang="EN-US">String</span>对象都会独立占用内存一块区域，如：</font></span></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <ol style="line-height: normal; list-style-type: decimal; margin-bottom: 0cm; margin-left: 30pt" type="1"> <li style="text-align: left; margin: 0cm 0cm 0pt; color: ; mso-pagination: widow-orphan; mso-list: l3 level1 lfo5; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">String str = &quot;aaa&quot;;&#160;&#160;&#160; </font></font></span></li> <li style="text-align: left; margin: 0cm 0cm 0pt; color: ; mso-pagination: widow-orphan; mso-list: l3 level1 lfo5; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">String str2 = &quot;bbb&quot;;&#160;&#160;&#160; </font></font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></li> <li style="text-align: left; margin: 0cm 0cm 0pt; color: ; mso-pagination: widow-orphan; mso-list: l3 level1 lfo5; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt" color="#ff0000">String str3 = str + str2;&#160;&#160;&#160; </font></font></span></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l3 level1 lfo5; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><font color="#ff0000"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">假如执行此次之后<span lang="EN-US">str , str2</span>再不被调用，那么它们就会在内存中等待<span lang="EN-US">GC</span>回收；</font><span lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160; </font></span></span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l3 level1 lfo5; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">假如程序中存在过多的类似情况就会出现内存错误；</font><span lang="EN-US"><font style="font-size: 12pt">&#160;&#160; </font></span></span></font></li> </ol> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">String str = &quot;aaa&quot;; </font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">String str2 = &quot;bbb&quot;; </font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">String str3 = str + str2; </font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">假如执行此次之后<span lang="EN-US">str , str2</span>再不被调用，那么它们就会在内存中等待<span lang="EN-US">GC</span>回收；</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">假如程序中存在过多的类似情况就会出现内存错误；</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">&#160;</font></font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">3) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">尽量少用静态变量。</font></span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">因为静态变量是全局的，<span lang="EN-US">GC</span>不会回收。</font><span lang="EN-US"></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">4) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">避免集中创建对象尤其是大对象，如果可以的话尽量使用流操作。</font></span></font></font><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; JVM</font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">会突然需要大量内存，这时会触发<span lang="EN-US">GC</span>优化系统内存环境； 一个案例如下：</font><span lang="EN-US"><font style="font-size: 12pt">&#160;</font></span></span></font></p> <ol style="line-height: normal; list-style-type: decimal; margin-bottom: 0cm; margin-left: 30pt" type="1"> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">使用<span lang="EN-US">jspsmartUpload</span>作文件上传，运行过程中经常出现<span lang="EN-US">java.outofMemoryError</span>的错误，</font><span lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160; </font></span></span></font></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">检查之后发现问题：组件里的代码</font><span lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160; </font></span></span></font></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">m_totalBytes = m_request.getContentLength();&#160;&#160;&#160; </font></font></span></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">m_binArray = new byte[m_totalBytes];&#160;&#160;&#160; </font></font></span></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// totalBytes</font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">这个变量得到的数极大，导致该数组分配了很多内存空间，而且该数组不能及时释放。</font><span lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160; </font></span></span></font></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">解决办法只能换一种更合适的办法，至少是不会引发<span lang="EN-US">outofMemoryError</span>的方式解决。</font><span lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160; </font></span></span></font></li> <li style="text-align: left; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-list: l2 level1 lfo6; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; tab-stops: list 36.0pt" class="MsoNormal"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">参考：</font><span lang="EN-US"><font style="font-size: 12pt">http://bbs.xml.org.cn/blog/more.asp?name=hongrui&amp;id=3747&#160;&#160; </font></span></span></font></li> </ol> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">使用<span lang="EN-US">jspsmartUpload</span>作文件上传，运行过程中经常出现<span lang="EN-US">java.outofMemoryError</span>的错误，</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">检查之后发现问题：组件里的代码</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">m_totalBytes = m_request.getContentLength(); </font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">m_binArray = new byte[m_totalBytes]; </font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// totalBytes</font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">这个变量得到的数极大，导致该数组分配了很多内存空间，而且该数组不能及时释放。</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">解决办法只能换一种更合适的办法，至少是不会引发<span lang="EN-US">outofMemoryError</span>的方式解决。</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class="MsoNormal" align="left"><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all" lang="EN-US"><font style="font-size: 12pt">// </font></span><span style="display: none; font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体; mso-hide: all"><font style="font-size: 12pt">参考：</font><span lang="EN-US"><font style="font-size: 12pt">http://bbs.xml.org.cn/blog/more.asp?name=hongrui&amp;id=3747 </font></span></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">&#160;&#160; </font></font></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">5) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">尽量运用对象池技术以提高系统性能。</font></span></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">生命周期长的对象拥有生命周期短的对象时容易引发内存泄漏，例如大集合对象拥有大数据量的业务对象的时候，可以考虑分块进行处理，然后解决一块释放一块的策略。</font><span lang="EN-US"></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">6) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">不要在经常调用的方法中创建对象，尤其是忌讳在循环中创建对象。</font></span></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">可以适当的使用<span lang="EN-US">hashtable</span>，<span lang="EN-US">vector </span>创建一组对象容器，然后从容器中去取那些对象，而不用每次<span lang="EN-US">new</span>之后又丢弃。</font><span lang="EN-US"></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-outline-level: 1; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><font style="background-color: #ffff99"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">7) </font></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">优化配置。</font></span></font></font><span style="font-family: ; color: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"></span></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1</font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">、<span lang="EN-US">&#160;</span>设置<span lang="EN-US">-Xms</span>、<span lang="EN-US">-Xmx</span>相等；</font><span lang="EN-US"></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2</font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">、 设置<span lang="EN-US">NewSize</span>、<span lang="EN-US">MaxNewSize</span>相等；</font><span lang="EN-US"></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 3</font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">、 设置</font><span lang="EN-US"><font style="font-size: 12pt">Heap size, PermGen space: </font></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Tomcat </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">的配置示例：修改</font><span lang="EN-US"><font style="font-size: 12pt"> %TOMCAT_HOME%/bin/catalina.bat or catalina.sh </font></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: widow-orphan" class="MsoNormal" align="left"><font face="宋体"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font style="font-size: 12pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体"><font style="font-size: 12pt">在<span lang="EN-US">“echo &quot;Using CATALINA_BASE: $CATALINA_BASE&quot;”</span>上面加入以下行：</font><span lang="EN-US"><font style="font-size: 12pt"> </font></span></span></font></p> <p style="line-height: normal; margin: 0cm 0cm 0pt 18pt; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto" class="MsoNormal" align="left"><span style="font-family: ; mso-font-kerning: 0pt; mso-bidi-font-family: 宋体" lang="EN-US"><font face="宋体"><font style="font-size: 12pt">set JAVA_OPTS=-Xms800m -Xmx800m -XX:PermSize=128M -XX:MaxNewSize=256m -XX:MaxPermSize=256m&#160; </font></font></span></p> <p class="read-more">Continue reading <a class="heading" href="/java/2013/06/11/e3-80-90-e8-bd-ac-e3-80-91visual_vm-e6-93-8d-e4-bd-9c-e6-89-8b-e5-86-8c.html" data-flip="title">【转】Visual_VM操作手册</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2013/06/06/bootstrap%e7%9a%84dialog" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2013/06/06/bootstrap-e7-9a-84dialog.html" data-flip="title"> bootstrap的dialog </a> </h1> <p class="post-date heading"> <time datetime="2013-06-06T05:33:14+08:00">06 Jun 2013</time> in <span>Web前端</span> on <span>Bootstrap</span>, <span>Jquery</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>一个常用的dialog,在botstrap里面就特别别扭了，它本身带的只有模式对话框，而且有bug,</p> <p><a title="http://stackoverflow.com/questions/13649459/twitter-bootstrap-multiple-modal-error" href="http://stackoverflow.com/questions/13649459/twitter-bootstrap-multiple-modal-error">http://stackoverflow.com/questions/13649459/twitter-bootstrap-multiple-modal-error</a></p> <p>当使用多个modal方法时，就会出现此问题，火狐直接是假死，chrome还好报了个错，这个问题搅了我一下午，让人火大。</p> <p>&#160;</p> <p>那个替代的plugin也不是很好用，只是没报错，这些都是模式对话框，不能拖动，这就是boottrap的风格，你奈它何？</p> <p>&#160;</p> <p>默认的是，当用户点击任意除模式dialog上按钮的其他地方，对话框就会消失，不触发按钮事件，这让我觉得设计者是不是脑子被驴踢了？要修改这样的默认方式需要:</p> <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:a1e7ab00-5356-46f6-af23-7b6b724e5ee0" class="wlWriterEditableSmartContent"><pre name="code" class="js">$(e).modal({
					backdrop: 'static',
  					keyboard: false
				}).modal('show');</pre></div> <p>这样就会出现动画提示用户点击按钮，但是如果你想去掉后面的那个黑色遮罩，backdrop必须是false,这怎么解决呢,多次尝试后发现解决方法:</p> <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:812469c5-0cb0-4c63-8c15-c81123a09de7:90785906-22f3-43e9-841c-6e2fe244c380" class="wlWriterEditableSmartContent"><pre name="code" class="css">.modal-backdrop.fade.in{
	z-index: -20000 !important;
}
</pre></div> <p>这个样式将遮罩层放到最低层，就看不到了。</p> <p>注意不能用display:none,这个方法在chrome下面有问题。</p> <p>&#160;</p> <p>反正是不好用，你想使用jqueryui的dialog,对不起，bootstrap的样式将其整的惨不忍睹，用不了……</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2013/06/06/bootstrap-e7-9a-84dialog.html" data-flip="title">bootstrap的dialog</a></p> </article> <article id="post-%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/05/24/outlook-%e4%b8%8e-pop3%ef%bc%8cimap%e8%ae%be%e7%bd%ae" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/05/24/outlook-e4-b8-8e-pop3-ef-bc-8cimap-e8-ae-be-e7-bd-ae.html" data-flip="title"> outlook 与 pop3，imap设置 </a> </h1> <p class="post-date heading"> <time datetime="2013-05-24T16:38:42+08:00">24 May 2013</time> in <span>默认分类</span> on <span>Office</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>imap的特点是所有操作都与服务器同步，因此你本地的改动例如已读邮件，文件夹等都在所有imap客户端同步了，但是对于outlook又有个问题，imap你无法指定数据文件夹，它默认都是放在c盘下面，无法改。所以基于这一点我还是用pop。</p> <p>&#160;</p> <p>这里讲的比较详细：</p> <p><a href="http://blog.csdn.net/dududu01/article/details/6175662">http://blog.csdn.net/dududu01/article/details/6175662</a></p> <p class="read-more">Continue reading <a class="heading" href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/05/24/outlook-e4-b8-8e-pop3-ef-bc-8cimap-e8-ae-be-e7-bd-ae.html" data-flip="title">outlook 与 pop3，imap设置</a></p> </article> <article id="post-%E7%94%9F%E6%B4%BB/2013/05/23/%e5%be%ae%e6%b3%a2%e7%82%89%e5%81%9a%e7%9b%90%e6%b0%b4%e8%8a%b1%e7%94%9f" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E7%94%9F%E6%B4%BB/2013/05/23/e5-be-ae-e6-b3-a2-e7-82-89-e5-81-9a-e7-9b-90-e6-b0-b4-e8-8a-b1-e7-94-9f.html" data-flip="title"> 微波炉做盐水花生 </a> </h1> <p class="post-date heading"> <time datetime="2013-05-23T14:40:10+08:00">23 May 2013</time> in <span>生活</span> on <span>烹饪</span>, <span>盐水花生</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>好吃佬我今天成功用微波炉做出了盐水花生，以后这个零食就不用愁了哈哈。</p> <p>&#160;</p> <p>做法：</p> <p>1：将花生米用流水洗干净。</p> <p>2：放在碗里加入水，水不要太多，刚没过花生米即可。</p> <p>3：依据自己的喜好加入盐（要多放点），花椒粉，辣椒，大蒜（蒜香花生,大蒜少量即可，切碎末），搅拌</p> <p>4：放置八个小时以上，一般头天晚上拌好，第二天再加工</p> <p>5：放置八个小时以上后,去掉水，将花生摊平放在盘子里，或直接放在微波炉的转盘上，中火2分半后拿出来搅拌一下，再摊平再中火2分半。</p> <p>6：将花生放置一段时间让其自然冷却，这样就做好了。</p> <p>&#160;</p> <p>味道不错哦。</p> <p class="read-more">Continue reading <a class="heading" href="/%E7%94%9F%E6%B4%BB/2013/05/23/e5-be-ae-e6-b3-a2-e7-82-89-e5-81-9a-e7-9b-90-e6-b0-b4-e8-8a-b1-e7-94-9f.html" data-flip="title">微波炉做盐水花生</a></p> </article> <article id="post-java/2013/05/23/failed-to-create-the-java-virtual-machine-%e9%97%ae%e9%a2%98" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2013/05/23/failed-to-create-the-java-virtual-machine-e9-97-ae-e9-a2-98.html" data-flip="title"> Failed to create the Java Virtual Machine.问题 </a> </h1> <p class="post-date heading"> <time datetime="2013-05-23T13:30:20+08:00">23 May 2013</time> in <span>Java</span> on <span>Eclipse</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>突然的eclipse(indigo)启动报错</p><pre>Failed to create the Java Virtual Machine.</pre><pre>&nbsp;</pre><pre>网上搜了一下：</pre><pre><a href="http://www.thecarneyeffect.co.uk/eclipse-and-failed-create-java-virtual-machine">http://www.thecarneyeffect.co.uk/eclipse-and-failed-create-java-virtual-machine</a></pre><pre><a href="http://www.eclipsezone.com/eclipse/forums/t61618.html">http://www.eclipsezone.com/eclipse/forums/t61618.html</a></pre><pre>&nbsp;</pre><pre>需要从eclipse.ini里面找配置原因，我的问题是</pre><p>-XX:PermSize=64M<br />-XX:MaxPermSize=512M</p> <p>把这两句删掉就没问题了，但是之前都是运行得好好的，我的4G内存还不够？</p> <p>&nbsp;</p> <p>这个问题还不知道实际原因。</p> <p class="read-more">Continue reading <a class="heading" href="/java/2013/05/23/failed-to-create-the-java-virtual-machine-e9-97-ae-e9-a2-98.html" data-flip="title">Failed to create the Java Virtual Machine.问题</a></p> </article> <article id="post-%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/05/08/%e5%a6%82%e4%bd%95%e5%90%af%e5%8a%a8%e5%a4%9a%e4%b8%aaskype" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/05/08/e5-a6-82-e4-bd-95-e5-90-af-e5-8a-a8-e5-a4-9a-e4-b8-aaskype.html" data-flip="title"> 如何启动多个skype </a> </h1> <p class="post-date heading"> <time datetime="2013-05-08T17:08:31+08:00">08 May 2013</time> in <span>默认分类</span> on <span>Skype</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>skype不能同时运行多个，这个很不方便，不知道为什么要这样限制。</p> <p>&#160;</p> <p>以前可以用imo.im来登陆，这几天imo宣布由于连不上skype服务器，无法提供skype服务了，而且小道消息说微软要推web skype了，估计是被屏蔽了。</p> <p>&#160;</p> <p>找半天终于发现有个软件可以用于启动多个skype <a href="http://multi-skype-launcher.com/">ttp://multi-skype-launcher.com/</a></p> <p>&#160;</p> <p>下载安装后就可以登录多个了，但是这个安装包捆绑了两个其他软件，我的毛豆和小A都报警了，它虽然有个选项不安装其他软件，但是我及时设置了不安装还是给我安装了，有非常大的流氓嫌疑。不过它的文件其实就一个可执行文件，不需要安装，这里<font color="#0000ff">建议不要使用这个软件。</font></p> <p>&#160;</p> <p><strong>后来发现竟然有这么个办法：</strong></p> <p>&#160;</p> <p>从Skype版本4.0起，可以很方便的在一台计算机中运行多个Skype程序，登录不同的Skype帐户了。 <br />方法很简单，只需在运行Skype时带参数“secondary”即可。操作如下：</p> <ol> <li>点击计算机左下角“开始”--“运行” </li> <li>在输入框中输入： <br />&quot;C:\Program Files\Skype\Phone\skype.exe&quot; /secondary （双引号不能少） </li> </ol> <p>你也可以把上面的内容做成“快捷方式”放到桌面，想运行多个Skype时双击一次运行一个。 <br />注意：不同的计算机机可能文件路径不同，只要找到“skype.exe”所在位置就可以了。</p> <p>&#160;</p> <p>简便的方法就是，把你的skype快捷方式修改为 &quot;C:\Program Files\Skype\Phone\skype.exe&quot; /secondary</p> <p>&#160;</p> <p>Mac下 sudo /Applications/Skype.app/Contents/MacOS/Skype /secondary</p> <p>&#160;</p> <p>测试通过，我的神呀，咋不早说呢！</p> <p class="read-more">Continue reading <a class="heading" href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2013/05/08/e5-a6-82-e4-bd-95-e5-90-af-e5-8a-a8-e5-a4-9a-e4-b8-aaskype.html" data-flip="title">如何启动多个skype</a></p> </article> <article id="post-java/2013/04/27/%e3%80%90%e9%93%be%e3%80%91%e5%85%b3%e4%ba%8e-java-%e6%80%a7%e8%83%bd%e6%96%b9%e9%9d%a2%e7%9a%84-9-%e4%b8%aa%e8%b0%ac%e8%ae%ba" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2013/04/27/e3-80-90-e9-93-be-e3-80-91-e5-85-b3-e4-ba-8e-java-e6-80-a7-e8-83-bd-e6-96-b9-e9-9d-a2-e7-9a-84-9-e4-b8-aa-e8-b0-ac-e8-ae-ba.html" data-flip="title"> 【链】关于 Java 性能方面的 9 个谬论 </a> </h1> <p class="post-date heading"> <time datetime="2013-04-27T20:47:28+08:00">27 Apr 2013</time> in <span>Java</span> on <span>Performance</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>原文 <a href="http://www.infoq.com/articles/9_Fallacies_Java_Performance">http://www.infoq.com/articles/9_Fallacies_Java_Performance</a></p> <p>翻译 <a href="http://www.oschina.net/translate/9_fallacies_java_performance">http://www.oschina.net/translate/9_fallacies_java_performance</a>&#160; [凑合]</p> <p>&#160;</p> <p>&#160;</p> <p>看这篇文章，原文要看，评论也要看。文章总结了9点谬误：</p> <h5>1: Java运行慢 </h5> <p>提到了对比测试 <a href="http://www.techempower.com/blog/2013/04/05/frameworks-round-2/">web performance benchmarks</a> ，</p> <p><a href="http://kazge.com/wp-content/uploads/2013/04/Snap13.gif"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="Snap1" border="0" alt="Snap1" src="/assets/Snap1_thumb3.gif" width="545" height="759" /></a> </p> <p>头两个都是netty相关，netty是基于java的，去看了一下，基于nio,与mina是同一个作者(韩国李)。 </p> <p>这里也扯一下netty和mina, <a href="http://stackoverflow.com/questions/1637752/netty-vs-apache-mina">http://stackoverflow.com/questions/1637752/netty-vs-apache-mina</a></p> <p>上面链接看看韩国李的评论，netty就是为了解决mina开发中出现的问题而重新设计的，它的文档更好，构建速度更快，去掉了可能不是用的很多的东西从而简单化，提高性能。mina3将会是完全的重构，意味着api兼容性将会破坏（说到这你也懂韩国李自己都在黑mina了。） 只是对于UDP,mina提供更高层的抽象（稳定连接），而netty更接近UDP本意。</p> <p>里面还有人拿netty和ngix做测试对比，竟然etty表现和ngix不相上下甚至更好……</p> <p>&#160;</p> <p>&#160;</p> <p>&#160;</p> <p>之所以说是框架而不是服务器，是因为它是嵌入到程序里面作为服务端框架，就像嵌入的tomcat或jetty,而不是一个web容器。 </p> <p>回到上面提到的性能比较表，php竟然比spring还慢。php完全排在java平台之后了。nodejs还在tapestry之后。</p> <p>这个结果与直觉相比，似乎不是很靠谱得呢。</p> <p>&#160;</p> <h5>2. A single line of Java means anything in isolation 一行代码是孤立处理的</h5> <p>意思是说，其实java 虚拟机和即时编译器是有上下文来优化的，所以不要试图过早的优化。</p> <p>&#160;</p> <p>&#160;</p> <h5>3. A microbenchmark means what you think it does</h5> <p>意思是说没必要一开始就设计微基准测试（小范围基准测试？），当确实发现需要基准测试时，应该从系统整体和最关键部分考虑。</p> <p>&#160;</p> <h5>4.算法慢是性能问题的最普遍原因</h5> <p>应该依靠经验和产品数据来找到引起性能问题的真正原因。要动手采集数据而不是凭空猜测。--算法往往不是问题</p> <p>&#160;</p> <h5>5.缓存能解决一切问题</h5> <p>意思是说,往往重构更能简化系统提高性能,缓存作用有时不是很大.--作者认为重构比利用缓存更简单.</p> <p>&#160;</p> <h5>6. All apps need to be concerned about Stop-The-World 所有的程序都要注意jvm的Stop-The-World问题</h5> <p>意思是说虽然STW问题确实存在，但是对于大部分程序来说，这个问题的影响可以忽略或忍受。</p> <p>在决定是否需要考虑这个问题之前，首先利用GC日志分析，到底是否STW是根本原因。</p> <p>&#160;</p> <h5>7. Hand-rolled Object Pooling is appropriate for a wide range of apps</h5> <p>&#160;</p> <p>意思是说对象池并不能很好地解决STW问题，它起作用，但是起不了很大的作用。反而使代码更复杂。</p> <p>&#160;</p> <h5>8. CMS is always a better choice of GC than Parallel Old -- CMS机制总是比Parallel Old机制好</h5> <p>&#160;</p> <p>意思是说CMS也有弊端，只在Parallel Old机制确实无法忍受的情况下再来考虑CMS</p> <p>&#160;</p> <h5>9. 增加堆内存会解决你内存溢出的问题</h5> <p>这个是老生长谈，如果是程序问题，再大的内存也不管用</p> <p>&#160;</p> <p>&#160;</p> <p>评论中还是有相当怀疑意见的：</p> <p>有人认为C++还是比java要性能高，作者解释说从内联(intrinsics)和单态区分(monomorphic dispatch) 这两点上,JIT要比C++编译器强很多。</p> <p>&#160;</p> <p>还有人需要作者指明很多java程序与c++一样快这句话缺少例子，我也这么认为，因为java里面太多这样类似的暗示却没有实证。</p> <p>&#160;</p> <p>&#160;</p> <p>文章看过，没什么比较震撼的信息，仍不能解决我对java性能的保留意见，从实际来看，无论知名大应用还是商业小应用，例证最多的还是php。</p> <p>&#160;</p> <p>而且，相比php,java出现性能问题的几率是多了无数倍，你需要花时间解决这个问题的花费也是无数倍,因为php是外面的框子限制了性能问题（启动-&gt;运行-&gt;终止）,而java则留了许多坑让你踩，一个不留神你就中招了。</p> <p>&#160;</p> <p>不好意思，又这里黑java了，但是我用的最多的还是java,lol.</p> <p class="read-more">Continue reading <a class="heading" href="/java/2013/04/27/e3-80-90-e9-93-be-e3-80-91-e5-85-b3-e4-ba-8e-java-e6-80-a7-e8-83-bd-e6-96-b9-e9-9d-a2-e7-9a-84-9-e4-b8-aa-e8-b0-ac-e8-ae-ba.html" data-flip="title">【链】关于 Java 性能方面的 9 个谬论</a></p> </article> <article id="post-%E5%BE%AE%E5%8D%9A/2013/04/25/tweet-%e5%87%86%e6%89%81%e5%b9%b3%e5%8c%96%e8%ae%be%e8%ae%a1%e5%be%88%e6%b5%81%e8%a1%8chttpt-co6khfuichxg" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E5%BE%AE%E5%8D%9A/2013/04/25/tweet-e5-87-86-e6-89-81-e5-b9-b3-e5-8c-96-e8-ae-be-e8-ae-a1-e5-be-88-e6-b5-81-e8-a1-8chttpt-co6khfuichxg.html" data-flip="title"> Tweet 准扁平化设计,很流行 http://t.co/6khfuIcHxG </a> </h1> <p class="post-date heading"> <time datetime="2013-04-25T18:47:43+08:00">25 Apr 2013</time> in <span>微博</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>准扁平化设计,很流行<br /> <a href="http://www.36kr.com/p/200985.html">36kr.com/p/200985.html</a></p> <p class="read-more">Continue reading <a class="heading" href="/%E5%BE%AE%E5%8D%9A/2013/04/25/tweet-e5-87-86-e6-89-81-e5-b9-b3-e5-8c-96-e8-ae-be-e8-ae-a1-e5-be-88-e6-b5-81-e8-a1-8chttpt-co6khfuichxg.html" data-flip="title">Tweet 准扁平化设计,很流行 http://t.co/6khfuIcHxG</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2013/04/25/angularjs-%e7%ac%94%e8%ae%b0" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2013/04/25/angularjs-e7-ac-94-e8-ae-b0.html" data-flip="title"> angularjs 笔记 </a> </h1> <p class="post-date heading"> <time datetime="2013-04-25T17:57:53+08:00">25 Apr 2013</time> in <span>Web前端</span> on <span>Angularjs</span>, <span>Javascript</span>, <span>Mvc</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>最近infoQ有文章上javascript mvc框架做了个介绍，<a href="http://www.infoq.com/research/top-javascript-mvc-frameworks">http://www.infoq.com/research/top-javascript-mvc-frameworks</a> 。</p> <p>发现angularjs与backbone有的一拼，目前angularjs的支持者稍占多数。</p> <p>&nbsp;</p> <p>主页 <a href="http://angularjs.org/">http://angularjs.org/</a></p> <p>&nbsp;</p> <p>下载 <a href="http://code.angularjs.org/">http://code.angularjs.org/</a></p> <p>&nbsp;</p> <p>github上下载源码zip有12M。</p> <p>&nbsp;</p> <p>其文档需要服务端配合，所以还是官方站点看比较靠谱（与extjs一样）。</p> <p>&nbsp;</p> <p>对IE支持不重视，<a href="http://docs.angularjs.org/guide/ie">http://docs.angularjs.org/guide/ie</a></p> <p>对于ie8以上还要另外处理，ie9也不是支持的很好，从评论来看，对IE不重视。</p> <p>&nbsp;</p> <p>目前我认为最大的问题是页面代码增多，许多逻辑转移到了页面指令上，我觉得这个与美工配合起来很麻烦。</p> <p>&nbsp;</p> <p>对于第三方jquery插件,还不能像之前那样直接，还要写指令(directive),这点就够呛了。某种意义上说，这个是要改变使用js+html的习惯,出现这种情况，我不认为它有足够的推动力能像jquery那样流行起来。这个不由得让我想起Tapestry,那也是改换思路的创新，其现状如何？</p> <p>&nbsp;</p> <p>网上搜了一下，发现大部分还是支持angular, <a href="http://stackoverflow.com/questions/6548826/angular-js-vs-backbone-js">http://stackoverflow.com/questions/6548826/angular-js-vs-backbone-js</a> 这里说从backbone转向angular后,js脚本从5千行减少到750行，但是我不知为什么不从js文件大小上比较，也没比较html是增多了还是减少了？</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>另外我觉得使用它有首次卡顿现象，不知是否是页面编译时出现的。</p> <p>&nbsp;</p> <p>上述几点让我打消了使用angularjs的念头。还是backbone靠谱。</p> <p>=======</p> <p lang="zh-CN" style="margin:0in;font-family:Calibri;font-size:11.0pt"><a href="http://www.infoq.com/articles/real-world-javascript-mvc-frameworks">http://www.infoq.com/articles/real-world-javascript-mvc-frameworks</a></p> <p style="margin:0in;font-size:11.0pt"><span lang="zh-CN" style="font-family:Calibri">backbone</span><span lang="zh-CN" style="font-family:SimSun">和</span><span lang="zh-CN" style="font-family:Calibri">angular</span><span lang="zh-CN" style="font-family:<br /> SimSun">再次引起比较，注意其中</span><span lang="en-US" style="font-family:Calibri">John Munsch</span><span lang="zh-CN" style="font-family:SimSun">的评价。</span></p> <p style="margin:0in;font-family:SimSun;font-size:11.0pt">&nbsp;</p> <p style="margin:0in;font-family:SimSun;font-size:11.0pt">&nbsp;</p> <p lang="zh-CN" style="margin:0in;font-size:11.0pt"><span style="font-family:<br /> SimSun">使用</span><span style="font-family:Calibri">angular</span><span style="font-family:SimSun">在大型项目中应该没问题，被采访的人中就有用到。</span></p> <p style="margin:0in;font-family:SimSun;font-size:11.0pt">&nbsp;</p> <p lang="zh-CN" style="margin:0in;font-family:SimSun;font-size:11.0pt">angular最大的缺点可能就是侵入性太强，合用其它框架较麻烦。</p> <p><!--StartFragment--><!--EndFragment--></p> <p lang="zh-CN" style="margin:0in;font-family:SimSun;font-size:11.0pt">bootstrap虽然支持，但是问题不少。</p> <p>&nbsp;</p> <p>参见:</p> <p><a href="http://freewind.me/blog/20121226/1167.html">http://freewind.me/blog/20121226/1167.html</a></p> <p lang="zh-CN" style="margin:0in;font-family:Calibri;font-size:11.0pt"><a href="http://www.zhihu.com/question/21170137">http://www.zhihu.com/question/21170137</a></p> <p lang="zh-CN" style="margin:0in;font-family:Calibri;font-size:11.0pt"><a href="http://stackoverflow.com/questions/16327846/bootstrap-3-compatible-with-current-angularjs-bootstrap-directives">http://stackoverflow.com/questions/16327846/bootstrap-3-compatible-with-current-angularjs-bootstrap-directives</a></p> <p style="margin:0in;font-family:Calibri;font-size:11.0pt"><a href="http://angular-ui.github.io/bootstrap/">http://angular-ui.github.io/bootstrap/</a></p> <p><!--StartFragment--><!--EndFragment--></p> <p style="margin:0in;font-family:Calibri;font-size:11.0pt"><a href="https://groups.google.com/forum/%23!topic/angular/DVDccsAWmj4">https://groups.google.com/forum/#!topic/angular/DVDccsAWmj4</a></p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2013/04/25/angularjs-e7-ac-94-e8-ae-b0.html" data-flip="title">angularjs 笔记</a></p> </article> <h2 class="sr-only">Pagination</h2> <nav class="pagination heading" role="navigation"> <ul> <li class="pagination-item older" > <a rel="next" href="/page-6/">Older</a> </li> <li class="pagination-item newer" > <a rel="prev" href="/page-4/">Newer</a> </li> </ul> </nav> <footer> <hr/> <p>© 2011 - 2017. All rights reserved.</p> <p> <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code> </p> </footer> </main> </div> <div id="_yDrawer"> <div id="_sidebar" class="sidebar"> <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url()"></div> <header class="sidebar-sticky" role="banner"> <div class="sidebar-about"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" /> </div> <div class="sidebar-about"> <h1><a id="_title" href="/">Ka's Blog</a></h1> <p>Ka’s blog description…</p> </div> <nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span> <ul> <li> <a class="sidebar-nav-item" href="/categories.html">Categories</a> </li> <li> <a class="sidebar-nav-item" href="/archive.html">Archive</a> </li> <li> <a class="sidebar-nav-item" href="/tags.html">Tags</a> </li> <li> <a class="sidebar-nav-item" href="/about.html">About</a> </li> </ul> </nav> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </header> </div> </div> </div> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script> <!--<![endif]--> </body>
</html>
