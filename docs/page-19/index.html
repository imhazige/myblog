<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
--><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <title>Ka's Blog &middot; Ka's Blog</title> <meta name="description" content="Ka’s blog description… "> <link rel="canonical" href="http://localhost:4000/page-19/"> <link rel="alternate" type="application/atom+xml" title="Ka's Blog Feed" href="http://localhost:4000/feed.xml"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"> <!-- Place favicon.ico in the root directory --> <link rel="stylesheet" href="/assets/style.css"> <link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"> <link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|') }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; </script> <!--<![endif]--> <script> !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window.disablePushState = false; window.disableDrawer = false; </script> <!--[if lt IE 9]> <script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script> <![endif]--> <!--[if gt IE 8]><!----> <style> article, aside, dialog, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } mark { background: #FF0; color: #000; } * { box-sizing: border-box; } html, body { margin: 0; padding: 0; } html { font-size: 16px; line-height: 1.75; } body { color: #333; background-color: #fff; overflow-y: scroll; } a { text-decoration: none; } .lead { margin-left: -1rem; margin-right: -1rem; } img, .img { display: block; max-width: 100%; margin-bottom: 1rem; border: none; } img.lead, .img.lead { max-width: calc(100% + 2rem); width: calc(100% + 2rem); } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-weight: bold; text-rendering: optimizeLegibility; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 { margin: 3rem 0 1rem; line-height: 1.6; } h1, .h1 { font-size: 2rem; line-height: 1.25; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.17em; } p { margin-top: 0; margin-bottom: 1rem; } p.lead { font-size: 1.25rem; font-weight: 300; padding: 0 1rem; } ul, ol, dl { margin-top: 0; margin-bottom: 1rem; } ul, ol { padding-left: 1.25rem; } hr { position: relative; margin: 1.5rem 0; border: 0; border-top: 1px solid #eee; } .hr { padding-bottom: .5rem; border-bottom: 1px solid #eee; margin-bottom: 1.5rem; } h4, h5, h6, .h4, .h5, .h6 { margin-bottom: 0.5rem; font-size: 1rem; } table { margin-bottom: 1rem; width: 100%; width: calc(100% + 2rem); margin-left: -1rem; border: 1px solid #e5e5e5; border-collapse: collapse; border-spacing: 0; } td, th { padding: .25rem .5rem; border: 1px solid #e5e5e5; } td:first-child, th:first-child { padding-left: 1rem; } td:last-child, th:last-child { padding-right: 1rem; } thead + tbody, tbody + tbody, tfoot { border-top: 3px double #e5e5e5; } tbody tr:nth-child(odd) td, tbody tr:nth-child(odd) th { background-color: #f9f9f9; } footer { margin-bottom: 2rem; } .page, .post { margin-bottom: 3em; } .page li + li, .post li + li { margin-top: .25rem; } .page > header, .post > header { margin-bottom: 2rem; } .page-title, .post-title { margin-top: 0; } .post-date { display: block; margin-top: -0.5rem; margin-bottom: 1rem; color: #9a9a9a; } .related-posts { padding-left: 0; list-style: none; } .related-posts > li, .related-posts > li + li { margin-top: 1rem; } .related-posts > li > small, .related-posts > li + li > small { font-size: 75%; color: #9a9a9a; } .message { margin-bottom: 1rem; padding: 1rem; color: #787878; background-color: #f9f9f9; margin-left: -1rem; margin-right: -1rem; } /* * Global resets * * Update the foundational and global aspects of the page. */ body, main { /* Prevent side-scrolling on mobile */ position: relative; overflow-x: hidden; } @media screen { body::before { content: ''; width: .5rem; background: #e5e5e5; position: absolute; left: 0; top: 0; bottom: 0; } } @media screen and (min-width: 40em) { html { font-size: 17px; } } @media screen and (min-width: 54em) { html { font-size: 16px; } } @media screen and (min-width: 72em) { html { font-size: 17px; } } @media screen and (min-width: 125em) { html { font-size: 18px; } } .sr-only { display: none; } .clearfix, .sidebar-social::after, .clearafter::after { content: ""; display: table; clear: both; } a, .a { position: relative; padding-bottom: .15rem; border-bottom: 1px solid; } .img { overflow: hidden; background-color: #f9f9f9; } .img > img { margin: 0; width: 100%; height: 100%; } .sixteen-nine { position: relative; } .sixteen-nine::before { display: block; content: ""; width: 100%; padding-top: 56.25%; } .sixteen-nine > * { position: absolute; top: 0; left: 0; right: 0; bottom: 0; } h1 + hr, h2 + hr, h3 + hr, h4 + hr, h5 + hr, h6 + hr { margin-top: 0; } .fade-in { animation-duration: 500ms; animation-name: fade-in; animation-fill-mode: forwards; } @keyframes fade-in { from { transform: translateY(-2rem); opacity: 0; } 50% { transform: translateY(-2rem); opacity: 0; } to { transform: translateY(0); opacity: 1; } } .mb6 { margin-bottom: 6rem; } .sidebar { color: rgba(255, 255, 255, 0.75); text-align: left; /* Sidebar links */ } .sidebar::before { /* make sidebar slightly darker to increase text readability (when using a background image) */ content: ""; position: absolute; z-index: 2; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ } .sidebar a { color: #fff; border-bottom-color: rgba(255, 255, 255, 0.2); } #_yDrawer { position: relative; padding: 1rem 0; } @media screen { #_yDrawer { padding: 2rem 1rem; min-height: 640px; min-height: 100vh; } } @media screen and (min-width: 54em) { #_yDrawer { position: fixed; top: 0; left: 0; bottom: 0; width: 18rem; margin-left: 0; } } @media screen and (min-width: 97.5em) { #_yDrawer { width: calc(50% - 28rem); } } @media screen { #_yDrawer.loaded { min-height: 0; padding: 0; } } .sidebar-bg { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #202020 center / cover; } .sidebar-sticky { position: relative; z-index: 3; } @media screen { .sidebar-sticky { position: absolute; right: 2rem; bottom: 1rem; left: auto; max-width: 14rem; } } @media print { .sidebar-sticky { padding: 0 2rem; } } /* About section */ .sidebar-about > h1 { color: #fff; font-size: 2rem; } .sidebar-nav > ul { list-style: none; padding-left: 0; margin-bottom: .5rem; } a.sidebar-nav-item { font-weight: bold; display: block; line-height: 1.75; padding: .25rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.2); } @media screen { .y-drawer-scrim { z-index: 2; } .y-drawer-content { width: 18rem; left: -17.5rem; z-index: 3; } } @media screen and (min-width: 97.5em) { .y-drawer-content { width: calc(50% - 28rem); } } .sidebar-social { margin-bottom: .5rem; } .sidebar-social > ul { list-style: none; padding-left: 0; margin: 0 -.25rem; } .sidebar-social > ul > li { float: left; margin: 0 .25rem; } .sidebar-social > ul > li > a { display: inline-block; text-align: center; font-size: 1.6rem; line-height: 3rem; width: 3.1249rem; height: 4rem; padding: .5rem 0; } .sidebar-social > ul li + li { margin-top: 0; } .fixed-top { position: fixed; top: 0; left: 0; width: 100%; z-index: 1; } .navbar > .content { padding-top: 0; padding-bottom: 0; min-height: 0; height: 0; } .menu { display: inline-block; padding: 1.75rem 1.5rem; border-bottom: none; margin-left: -1.5rem; color: #9a9a9a !important; } .menu::after { content: "\2630"; } @media screen and (min-width: 54em) { .menu { padding: 1.25rem 1.5rem; position: absolute; left: -9999px; } .menu:focus { position: static; } } .animation-main { pointer-events: none; } .loading { display: none; } @media print { .menu { display: none; } } .animation-main { opacity: 0; will-change: opacity; } .loading { position: absolute; top: 0; right: 0; padding: 5.25rem 4.5rem; transform-origin: top right; transform: scale(0.33); } .content { position: relative; margin-left: auto; margin-right: auto; padding: 5rem 1rem 12rem; } @media screen { .content { max-width: 38rem; padding-left: 1.5rem; min-height: 100vh; } } @media screen and (min-width: 54em) { .content { max-width: 42rem; padding: 4rem 1rem 12rem; margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 72em) { .content { margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 92em) { .content { max-width: 48rem; } } @media screen and (min-width: 97.5em) { .content { margin: auto; } } .me { float: right; width: 6.5rem; height: 6.5rem; margin-left: 1rem; margin-bottom: .5rem; border-radius: 100%; position: relative; } @media screen and (min-width: 40em) { .me { width: 7rem; height: 7rem; } } @media screen and (min-width: 54em) { .me { width: 6.5rem; height: 6.5rem; } } @media screen and (min-width: 60em) { .me { width: 7rem; height: 7rem; } } main > footer { position: absolute; bottom: 0; left: 0; right: 0; padding: 0 1rem; color: #9a9a9a; font-size: smaller; text-align: center; } main > footer > p { margin-bottom: 0; } /* .card, .pagination-item { border-radius: 0!important; } */ /* @media screen { .sidebar-sticky { left: 2rem; max-width: none; } } */ html { font-family: Helvetica, Arial, sans-serif; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Helvetica, Arial, sans-serif; } </style> <link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1"> <script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script> <!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed --> <style id="_pageStyle"> .content a { color: #4f86aa; border-color: rgba(79, 134, 170, 0.2); } .content a:hover { border-color: #4f86aa; } :focus { outline-color: #4f86aa; } ::selection { color: #fff; background: #4f86aa; } ::-moz-selection { color: #fff; background: #4f86aa; } </style> <noscript> <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i"> <style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif } </style> <link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--<![endif]--> <!--[if gt IE 8]><!----> <script async src="/assets/bower_components/webfontloader/webfontloader.js"></script> <!--<![endif]--> </head> <body> <div class="navbar fixed-top"> <div class="content"> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu no-hover" href="#_title"> <span class="sr-only">Menu</span> </a> </div> </div> <div id="_yPushState"> <div class="fade-in"> <main id="_main" class="content" role="main" data-color="#4f86aa" data-image=""> <article id="post-web%E5%89%8D%E7%AB%AF/2012/04/25/css%e9%80%89%e6%8b%a9%e5%ad%90%ef%bc%8c%e5%85%84%e5%bc%9f%e9%80%89%e6%8b%a9%e5%92%8c" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2012/04/25/css-e9-80-89-e6-8b-a9-e5-ad-90-ef-bc-8c-e5-85-84-e5-bc-9f-e9-80-89-e6-8b-a9-e5-92-8c.html" data-flip="title"> CSS选择子，兄弟选择,+和~ </a> </h1> <p class="post-date heading"> <time datetime="2012-04-25T21:36:08+08:00">25 Apr 2012</time> in <span>Web前端</span> on <span>Css</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>首先我得承认，做了web这么多年，虽然javascript还可以，但是css和美工确实还是在水与不是很水之间徘徊，如我等做个项目从UI上一个icon到数据库里一个字段的长度都要自己搞定的码工，花在UI上面的时间相对其他部分较长，也是最头痛，总是眼巴巴的期望个美女美工哈（¯﹃¯），总也盼不来。后来了解到International Big Mouse这个公司做web的同事也是没有美工的，心想美工莫非神人也。</p> <p>ok废话不多说。</p> <p>兄弟选择器有+和~</p> <p>看下面的代码:</p> <div>/> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">div</span> <span style="color: #ff0000">class</span>=<span style="color: #0000ff">&quot;test&quot;</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span>这是一个标题<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>这是一个文字段落1<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>这是一个文字段落2<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span></p> <p><span style="color: #0000ff"> </span><span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>这是一个文字段落2.1<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span>这是一个标题<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>这是一个文字段落3<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span>这是一个标题<span style="color: #0000ff">&lt;/</span><span style="color: #800000">h3</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>这是一个文字段落4<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span>这是一个文字段落5<span style="color: #0000ff">&lt;/</span><span style="color: #800000">p</span><span style="color: #0000ff">&gt;</span><br /> <span style="color: #0000ff">&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span></p> </div> <p></p> <p>样式 p+p{color:red;} 的效果</p> <blockquote> <div class="test"> <h3>这是一个标题</h3> <p>这是一个文字段落1</p> <p><font color="#ff0000">这是一个文字段落2</font></p> <p><font color="#ff0000">这是一个文字段落2.1</font></p> <h3>这是一个标题</h3> <p>这是一个文字段落3</p> <h3>这是一个标题</h3> <p>这是一个文字段落4</p> <p><font color="#ff0000">这是一个文字段落5</font></p> </p></div> </blockquote> <p>样式p~p{color:red;} 的效果</p> <blockquote> <div class="test"> <h3>这是一个标题</h3> <p>这是一个文字段落1</p> <p><font color="#ff0000">这是一个文字段落2</font></p> <p><font color="#ff0000">这是一个文字段落2.1</font></p> <h3>这是一个标题</h3> <p><font color="#ff0000">这是一个文字段落3</font></p> <h3>这是一个标题</h3> <p><font color="#ff0000">这是一个文字段落4</font></p> <p><font color="#ff0000">这是一个文字段落5</font></p> </p></div> </blockquote> <p>看到区别没:</p> <p>p+p效果是先找到p,然后找其后面<font color="#0000ff">紧接着</font>的p，这里的意思是说，<em><font size="1">这是一个文字段落3 </font></em>这个p与<font size="1"><em>这是一个文字段落1 </em></font>这个p 就不是紧接着的关系，因为中间被一个标题打断了,而段落5相对于段落4同理。</p> <p>p~p则不管这些，凡是第一个p后面的p元素，不管中间隔了几个其他元素，都会被此选择器选中。</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2012/04/25/css-e9-80-89-e6-8b-a9-e5-ad-90-ef-bc-8c-e5-85-84-e5-bc-9f-e9-80-89-e6-8b-a9-e5-92-8c.html" data-flip="title">CSS选择子，兄弟选择,+和~</a></p> </article> <article id="post-voip/2012/04/24/voxeo-ccxml-voicexml-%e7%ac%94%e8%ae%b0" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/voip/2012/04/24/voxeo-ccxml-voicexml-e7-ac-94-e8-ae-b0.html" data-flip="title"> voxeo ccxml voicexml 笔记 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-24T21:02:03+08:00">24 Apr 2012</time> in <span>Voip</span> on <span>Ccxml</span>, <span>Voicexml</span>, <span>Voxeo</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>voxeo开发文档</p> <p><a href="https://evolution.voxeo.com/docs/quickStart.jsp">https://evolution.voxeo.com/docs/quickStart.jsp</a></p> <p>w3c voicexml2.0规范 <a href="http://www.w3.org/TR/voicexml20/">http://www.w3.org/TR/voicexml20/</a>&#160;</p> <p>ccxml和voicexml的区别</p> <blockquote><p>VoiceXML <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; VXML可以理解为另外一种表示语言，类似于HTML和WML。它是一种表述对话（dialog）的语言，用来控制业务过程中的人机交互过程，适用于面向电话、手机等终端设备的语音应用，例如自动客户服务、自助查询系统、个人消息系统等。 <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 将VoiceXML与HTML对比，就能很容易理解了。浏览器解释后，HTML表示的内容是以文字图像方式显示在屏幕上的，VoiceXML的内容是以语言的方式播放给用户的。HTML接收用户的文字输入和鼠标点击，VoiceXML接受用户的语音输入，进行语音识别，或者是通过电话按键输入DTMF数据。 <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; VoiceXML是一种独立的语言，不能内嵌到现有的web语言中（如HTML，WML）。 <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; VoiceXML--语音扩展描述语言是由AT&amp;T、IBM、Lucent Technologies、以及Motorola通过W3C协会于2000年联合推出的电话语音应用系统标准，是为语音应用制订的基于XML的语音可扩展标记语言。有了VoiceXML，互联网信息从此能够以语音的方式流向公用电话网，从而使互联网服务得以延伸到电话用户。VoiceXML彻底改变了传统的CTI(计算机电话集成系统) 的开发模式和应用范围，使公用电话网、语音处理技术、以及互联网有机地结合为一体，架起了电话用户与Web对话的桥梁。 <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; VoiceXML的目的是用来控制语音方式的人机交互过程的，因而它缺乏对呼叫的控制能力。例如会议、呼叫控制、建立呼叫、拒绝呼叫等等都无法实现。</p> <p>CCXML <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 针对VoiceXML在呼叫控制方面的不足，CCXML补充了这部分的功能。它能够发起呼叫、过滤和路由进入的呼叫、处理外部的异步事件。并且它能支持多方会议，可以将VoiceXML实例作为参与者加入会议，并控制VoiceXML的执行和停止。与VoiceXML类似，由CCXML浏览器负责解释执行CCXML文档。 <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CCXML可以独立使用，但很多情况下是与VoiceXML配合使用，CCXML控制整个呼叫模型，VoiceXML控制每个呼叫中的用户交互。单纯的VoiceXML是无法实现电话QQ之类的涉及到多方通话的业务的，利用CCXML就有可能实现了。</p> </blockquote> <p>参见:<a href="http://hi.baidu.com/ttlove%B6%A1%B6%A1/blog/item/c6c184c4a71350aa8326ac56.html">http://hi.baidu.com/ttlove%B6%A1%B6%A1/blog/item/c6c184c4a71350aa8326ac56.html</a></p> <p>还有一个CallXML应该是voxeo自己开发的。</p> <p>disconnect与exit不同，前者更适合挂断电话，后者交由voice引擎处理，在voxeo平台上就不发事件(但是会触发dialog.exit)。</p> <p>The <code>&lt;disconnect&gt;</code> element will throw a 'connection.disconnect.hangup' event, while the <code>&lt;exit&gt;</code> element will NOT throw this event.</p> <p>与tropo不同，这里需要自己在voicexml中catch这个事件来做出进一步处理。</p> <div>><span style="color: #0000ff">&lt;?</span>xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;<span style="color: #0000ff">?&gt;</span> <p class="read-more">Continue reading <a class="heading" href="/voip/2012/04/24/voxeo-ccxml-voicexml-e7-ac-94-e8-ae-b0.html" data-flip="title">voxeo ccxml voicexml 笔记</a></p> </article> <article id="post-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2012/04/23/%e3%80%90%e8%bd%ac%e3%80%91%e8%a7%a3%e5%86%b3%e6%8a%80%e6%9c%af%e8%b4%9f%e5%80%ba%e7%9a%84%e8%8a%b1%e8%b4%b9%ef%bc%9a%e6%af%8f%e8%a1%8c%e4%bb%a3%e7%a0%813-61%e7%be%8e%e9%87%91" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2012/04/23/e3-80-90-e8-bd-ac-e3-80-91-e8-a7-a3-e5-86-b3-e6-8a-80-e6-9c-af-e8-b4-9f-e5-80-ba-e7-9a-84-e8-8a-b1-e8-b4-b9-ef-bc-9a-e6-af-8f-e8-a1-8c-e4-bb-a3-e7-a0-813-61-e7-be-8e-e9-87-91.html" data-flip="title"> 【转】解决技术负债的花费：每行代码3.61美金 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-23T18:21:40+08:00">23 Apr 2012</time> in <span>软件工程</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <blockquote> <p>转自<a href="http://www.infoq.com/cn/news/2012/03/tech-debt-361">http://www.infoq.com/cn/news/2012/03/tech-debt-361</a></p> </blockquote> <p>来自<a href="http://www.castsoftware.com/">CAST软件</a>的<a href="http://blog.castsoftware.com/our-authors/">Jonathan Bloom</a>发表了一系列的<a href="http://blog.castsoftware.com/crash-course-on-crash-report-part-3-technical-debt/">博文</a>，总结了他们<a href="http://www.castsoftware.com/news-events/press-release/press-releases/new-worldwide-software-quality-study-from-cast-exposes-millions-in-hidden-it-costs">公司发布的有关技术债务的报告</a>。要点包括：</p> <ol> <li> <p>CAST估计现在公司要解决技术负债的花费是每行代码3.61美元。</p> </li> <li> <p>在所调研的系统中，35%的技术债务已经严重影响了系统的支持和维护，它们可能导致安全、性能问题甚至威胁到正常运行。</p> </li> <li> <p>在程序质量方面（structural quality，译者注：CAST定义了五大程序质量特征 - 稳定性、性能、安全、可移交性以及可修改性），外包软件和自行开发的软件没什么差别。离岸开发和本地开发也没很大区别。</p> </li> <li> <p><font color="#0000ff">在调研中，Java EE的应用程序最多，它们在性能方面表现糟糕，综合技术负债名列前茅。[PS:OMG,这证实了我多年的怀疑。]</font></p> </li> <li> <p>在程序质量方面，成熟的开发方法比如敏捷和瀑布无疑优于其他自定义的方法，其中瀑布在“可移交性”和“可修改性”这两项上高居榜首。<font color="#0000ff">[PS:传统的瀑布既然高于敏捷，这有点出乎意料,为什么？]</font></p> </li> <li> <p>COBOL应用程序在安全性上夺冠，而.NET则垫底。</p> </li> <li> <p>系统模块化（Modularity of systems ）可能影响质量和性能。<font color="#0000ff">[PS:嘿嘿]</font></p> </li> <li> <p>政府系统在可维护性方面表现得最差。</p> </li> <li> <p>代码发布越频繁，技术债台越高筑。</p> </li> </ol> <p>这是CAST第二年发布这项报告了。本年度的数据来自160家各行各业的公司。总共有745个系统参与调研，覆盖的代码量大概有365,000,000行之多。</p> <p><a href="http://www.gartner.com/technology/home.jsp">Gartner</a>的分析员同样披露了组织中不断滋长的技术债务问题。<a href="http://www.gartner.com/AnalystBiography?authorId=27846">David Norton</a>发表<a href="http://blogs.gartner.com/david_norton/2011/12/04/the-ticking-time-bombing-of-technical-debt/">文章</a>，把这一问题比作一颗定时炸弹，一段时期的风平浪静却会在某一刻突然爆发，给相关组织以重创。</p> <p>CAST以及<a href="http://theagileexecutive.com/2009/09/29/technical-debt-on-your-balance-sheet/">其他一些技术负债方面的专家</a>都认为组织应该将技术债务纳入它们的主体预算中。<a href="http://www.infoq.com/news/2010/03/monetizing-technical-debt">2010年的时候</a>，InfoQ就介绍过Israel Gat提出的用金钱来计算技术债务的方法。</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2012/04/23/e3-80-90-e8-bd-ac-e3-80-91-e8-a7-a3-e5-86-b3-e6-8a-80-e6-9c-af-e8-b4-9f-e5-80-ba-e7-9a-84-e8-8a-b1-e8-b4-b9-ef-bc-9a-e6-af-8f-e8-a1-8c-e4-bb-a3-e7-a0-813-61-e7-be-8e-e9-87-91.html" data-flip="title">【转】解决技术负债的花费：每行代码3.61美金</a></p> </article> <article id="post-web/%E5%AE%89%E5%85%A8/2012/04/23/%e3%80%90%e8%bd%ac%e3%80%91%e5%88%a9%e7%94%a8http-only-cookie%e7%bc%93%e8%a7%a3xss%e4%b9%8b%e7%97%9b" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web/%E5%AE%89%E5%85%A8/2012/04/23/e3-80-90-e8-bd-ac-e3-80-91-e5-88-a9-e7-94-a8http-only-cookie-e7-bc-93-e8-a7-a3xss-e4-b9-8b-e7-97-9b.html" data-flip="title"> 【转】利用HTTP-only Cookie缓解XSS之痛 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-23T18:04:13+08:00">23 Apr 2012</time> in <span>Web</span> / <span>安全</span> on <span>Xss</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <blockquote> <p>转自<a href="http://netsecurity.51cto.com/art/200902/111143.htm">http://netsecurity.51cto.com/art/200902/111143.htm</a> ,作者康凯 。这篇文章讲了典型的xss攻击的步骤。</p> </blockquote> <p>【51CTO.com 独家特稿】在Web安全领域，跨站脚本攻击时最为常见的一种攻击形式，也是长久以来的一个老大难问题，而本文将向读者介绍的是一种用以缓解这种压力的技术，即HTTP-only cookie。</p> <p>我们首先对HTTP-only cookie和跨站脚本攻击做了简单的解释，然后详细说明了如何利用HTTP-only cookie来保护敏感数据，最后介绍了实现HTTP-only cookie时确定浏览器版本的具体问题。</p> <p><strong>一、XSS与HTTP-only Cookie简介</strong></p> <p>跨站点脚本攻击是困扰Web服务器安全的常见问题之一。跨站点脚本攻击是一种服务器端的安全漏洞，常见于当把用户的输入作为HTML提交时，服务器端没有进行适当的过滤所致。跨站点脚本攻击可能引起泄漏Web 站点用户的敏感信息。为了降低跨站点脚本攻击的风险，微软公司的Internet Explorer 6 SP1引入了一项新的特性。</p> <p>这个特性是为Cookie提供了一个新属性，用以阻止客户端脚本访问Cookie。</p> <p>像这样具有该属性的cookie被称为HTTP-only cookie。包含在HTTP-only cookie中的任何信息暴露给黑客或者恶意网站的几率将会大大降低。下面是设置HTTP-only cookie的一个报头的示例：</p> <p>Set-Cookie: USER=123; expires=Wednesday, 09-Nov-99 23:12:40 GMT; HttpOnly</p> <p>上面我们介绍了HTTP-only Cookie；下面我们开始向读者介绍跨站点脚本攻击、允许通过脚本访问的cookie所带来的潜在危险以及如何通过HTTP-only来降低跨站点脚本攻击的风险。&#160;&#160; </p> <p>跨站点脚本攻击是一种服务器端常见的安全漏洞，它使得黑客可以欺骗用户从而导致用户在某个Web 站点上的敏感信息的泄漏。下面通过一个简单的示例来解释一个跨站点脚本攻击的相关步骤。</p> <p><strong>二、跨站点脚本攻击示例</strong></p> <p>为了解释跨站点脚本攻击是如何被黑客利用的，我们假想了下面的一个例子：</p> <p>A证券公司运行了一个Web 站点，该站点允许您跟踪某股票的最新价格。为了提高用户体验，登录A证券公司的Web 站点之后，你将被重定向到<a href="http://www.azhengquan.com/default.asp?name%20=%20%3C%20script%20%3E%20evilScript()%3C%20/%20script">www.azhengquan.com/default.asp?name = &lt; script &gt; evilScript()&lt; / script</a> &gt;张三，并且有一个服务器端脚本生成一个欢迎页面，内容为“欢迎您回来，张三！”。</p> <p>你的股票数据被存放在一个数据库中，并且Web 站点会在你的计算机上放置一个cookie，其中包含了对这个数据库非常重要的数据。每当你访问A证券公司站点时，浏览器都会自动发送该cookie。</p> <p>一个黑客发现A证券公司公司的Web 站点存在一个跨站点脚本攻击缺陷，所以他决定要利用这点来收集你所持股票的名称等敏感信息。黑客会您你发送一封电子邮件，声称您中奖了，并且需要点击某个链接如“点击这里”来领取奖品。注意，该链接将超链接到<a href="http://www.azhengquan.com/default.asp?name">www.azhengquan.com/default.asp?name</a>=&lt; script &gt;evilScript()&lt; / script &gt; 当您点击这个链接，映入眼帘您的将是“欢迎您回来！”—— 等等，您的姓名哪里去了？事实上，单击电子邮件内的链接之后，你实际上就是在通知A证券公司公司的Web 站点，你的姓名是&lt; script&#160; &gt; evilScript()&lt;&#160; /script &gt;。Web服务器把用这个“名字”生成的HTML返回给你，但是你的浏览器会把这个“名字”作为脚本代码解释，脚本执行后便出现了我们前面看到的一幕。一般情况下，支持客户端脚本是浏览器的典型功能之一。如果这个脚本命令浏览器向黑客的计算机发回一个cookie，即使这个cookie包含有您的股票的有关信息，您的浏览器也会老老实实地执行。最后，那些来自A证券公司的Web 站点的指令获取了那个包含敏感信息的cookie。</p> <p>下面是跨站脚本攻击的示意图，它详细的展示了攻击的五个步骤。首先，用户点击了黑客发来的电子邮件中的一个嵌入的链接（第1步）。由于跨站点脚本攻击缺陷的原因，这样会导致用户的浏览器向Web 站点发送一个请求（第2步）；服务器端根据该请求会生成一个包含恶意脚本的响应，并将其发回给用户的浏览器（第3步）。当用户的机器执行返回的恶意代码时（第4步），就会将用户的敏感数据发送给黑客的计算机（第5步）。</p> <p><a href="http://images.51cto.com/files/uploadimg/20090223/150253432.gif"><img border="0" alt="" src="/assets/150253432.gif" width="498" /></a></p> <p>图1</p> <p>我们可以看到，这个过程只需要用户单击了一个链接，然后就会有指令发送给Web服务器，然后Web服务器生成一个嵌入恶意脚本的网页；浏览器运行这个来自受信任的源的脚本，却致使信息泄漏给黑客的计算机。跨站点脚本攻击有许多不同的形式，这里只是其中的一种。</p> <p><strong>三、用HTTP-only Cookie保护数据</strong></p> <p>为了缓解跨站点脚本攻击带来的信息泄露风险，Internet Explorer 6 SP1为Cookie引入了一个新属性。这个属性规定，不许通过脚本访问cookie。使用HTTP-only Cookie后，Web 站点就能排除cookie中的敏感信息被发送给黑客的计算机或者使用脚本的Web站点的可能性。</p> <p>Cookie通常是作为HTTP 应答头发送给客户端的，下面的例子展示了相应的语法（注意，HttpOnly属性对大小写不敏感）：</p> <p>Set-Cookie: =[; =] <br />[; expires=][; domain=] <br />[; path=][; secure][; HttpOnly]</p> <p>即使应答头中含有HttpOnly属性，当用户浏览有效域中的站点时，这个cookie仍会被自动发送。但是，却不能够在Internet Explorer 6 SP1中使用脚本来访问该cookie，即使起初建立该cookie的那个Web 站点也不例外。这意味着，即使存在跨站点脚本攻击缺陷，并且用户被骗点击了利用该漏洞的链接，Internet Explorer也不会将该cookie发送给任何第三方。这样的话，就保证了信息的安全。 <br />注意，为了降低跨站点脚本攻击带来的损害，通常需要将HTTP-only Cookie和其他技术组合使用。如果单独使用的话，它无法全面抵御跨站点脚本攻击。</p> <p><strong>四、支持HTTP-only Cookie的浏览器</strong></p> <p>如果Web 站点为不支持HTTP-only Cookie的浏览器建立了一个HTTP-only cookie的话，那么该cookie不是被忽略就是被降级为普通的可以通过脚本访问的cookie。这还是会导致信息容易被泄露。</p> <p>对于公司内部网中的web页面，管理员可以要求所有用户都是由支持HTTP-only Cookie的浏览器，这样能保证信息不会由于跨站点脚本攻击缺陷而泄露。</p> <p>对于公共Web 站点，由于需要支持各种各样的浏览器，这时可以考虑使用客户端脚本来确定不同访问者所使用的浏览器的版本。Web 站点可以通过向支持～的浏览器发送敏感信息以减轻跨站点脚本攻击对Cookie的威胁。对于那些使用不支持HTTP-only Cookie的浏览器的访问者，可以限制为其提供的信息或功能，并要求升级他们的软件。</p> <p>当确定Internet Explorer的版本时，重要的是记住Internet Explorer 6 SP1 的用户代理字符串跟Internet Explorer 6的用户代理字符串是一样的。客户端脚本还必须使用navigator对象的appMinorVersion属性检测主版本号，这样才能确定出客户端是否安装了Internet Explorer 6 SP1。</p> <p><strong>五、小结</strong></p> <p>在Web安全领域，跨站脚本攻击时最为常见的一种攻击形式，也是长久以来的一个老大难问题，而本文将向读者介绍一种用以缓解这种压力的技术，即HTTP-only cookie。我们首先对HTTP-only cookie和跨站脚本攻击做了简单的解释，然后详细说明了如何利用HTTP-only cookie来保护敏感数据，最后介绍了实现HTTP-only cookie时确定浏览器版本的具体问题。</p> <p>【51CTO.COM 独家特稿，转载请注明出处及作者！】</p> <p><font color="#0000ff">[PS:参见</font><a href="http://www.infoq.com/cn/articles/cookie-security"><font color="#0000ff">http://www.infoq.com/cn/articles/cookie-security</font></a><font color="#0000ff">]</font></p> <p class="read-more">Continue reading <a class="heading" href="/web/%E5%AE%89%E5%85%A8/2012/04/23/e3-80-90-e8-bd-ac-e3-80-91-e5-88-a9-e7-94-a8http-only-cookie-e7-bc-93-e8-a7-a3xss-e4-b9-8b-e7-97-9b.html" data-flip="title">【转】利用HTTP-only Cookie缓解XSS之痛</a></p> </article> <article id="post-java/2012/04/21/eclipse%e4%b8%8a%e4%b8%8b%e6%96%87%e6%8f%90%e7%a4%ba%e7%aa%81%e7%84%b6%e6%b6%88%e5%a4%b1" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2012/04/21/eclipse-e4-b8-8a-e4-b8-8b-e6-96-87-e6-8f-90-e7-a4-ba-e7-aa-81-e7-84-b6-e6-b6-88-e5-a4-b1.html" data-flip="title"> eclipse上下文提示突然消失 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-21T20:16:56+08:00">21 Apr 2012</time> in <span>Java</span> on <span>Eclipse</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>今天又遇到这种情况，上次还能提示，这次打开工程就提示不了。之前遇到过解决了，但是现在忘了怎么解决的，弄了个把钟头，才搞清楚是导入的preference有问题，这是workbench级别的设置，所以导入了错误preference的workbench下所有的项目将无法得到提示功能。</p> <p>这次吸取教训，烂一下笔头。</p> <p class="read-more">Continue reading <a class="heading" href="/java/2012/04/21/eclipse-e4-b8-8a-e4-b8-8b-e6-96-87-e6-8f-90-e7-a4-ba-e7-aa-81-e7-84-b6-e6-b6-88-e5-a4-b1.html" data-flip="title">eclipse上下文提示突然消失</a></p> </article> <article id="post-%E6%95%B0%E6%8D%AE%E5%BA%93/2012/04/20/%e4%ba%8b%e5%8a%a1%e5%92%8c%e9%94%81mysql-innodb" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/2012/04/20/e4-ba-8b-e5-8a-a1-e5-92-8c-e9-94-81mysql-innodb.html" data-flip="title"> 再谈事务和锁:mysql innodb </a> </h1> <p class="post-date heading"> <time datetime="2012-04-20T23:44:32+08:00">20 Apr 2012</time> in <span>数据库</span> on <span>Mysql</span>, <span>事务</span>, <span>锁</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>先看看mysql文档最好:</p> <p><a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-lock-modes.html">http://dev.mysql.com/doc/refman/5.1/en/innodb-lock-modes.html</a></p> <p><a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-transaction-model.html">http://dev.mysql.com/doc/refman/5.1/en/innodb-transaction-model.html</a></p> <p><a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-locking-reads.html">http://dev.mysql.com/doc/refman/5.1/en/innodb-locking-reads.html</a></p> <p><a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-record-level-locks.html">http://dev.mysql.com/doc/refman/5.1/en/innodb-record-level-locks.html</a></p> <p><a href="http://dev.mysql.com/doc/refman/5.1/en/lock-tables.html">http://dev.mysql.com/doc/refman/5.1/en/lock-tables.html</a></p> <p>首先InnoDB默认是行级锁，但是，不是说事务里面的select语句是自动加了锁的，需要使用<a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>LOCK IN SHARE MODE</code></a> 设定S锁 或 <a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>FOR UPDATE</code></a> 设定X锁。 并且要看事务隔离级别。例如SERIALIZABLE级别下，本事务下所有不带锁的查询将自动设置为<a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>LOCK IN SHARE MODE</code></a> 。参见<a href="http://dev.mysql.com/doc/refman/5.1/en/set-transaction.html">http://dev.mysql.com/doc/refman/5.1/en/set-transaction.html</a></p> <blockquote><p><a name="id847659"></a><a name="id847672"></a><code>SERIALIZABLE</code></p> <p>This level is like <a href="http://dev.mysql.com/doc/refman/5.1/en/set-transaction.html#isolevel_repeatable-read"><code>REPEATABLE READ</code></a>, but <code>InnoDB</code> implicitly converts all plain <a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>SELECT</code></a> statements to <a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>SELECT ... LOCK IN SHARE MODE</code></a> if autocommit is disabled. If autocommit is enabled, the <a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>SELECT</code></a> is its own transaction. It therefore is known to be read only and can be serialized if performed as a consistent (nonlocking) read and need not block for other transactions. (To force a plain <a href="http://dev.mysql.com/doc/refman/5.1/en/select.html"><code>SELECT</code></a> to block if other transactions have modified the selected rows, disable autocommit.)</p> </blockquote> <p>然而update和delete语句是加了X锁的<font color="#0000ff">[这个照其文档意思是这样，我没找到明确说明]</font>。insert语句就用不了行级锁了，因为这待插入的数据还没存储。</p> <p>select 语句即使加了锁,但是如果查找条件没有明确使用索引，则导致锁表。</p> <blockquote><p>舉個例子:</p> <p>假設有個表單 products ，裡面有 id 跟 name 二個欄位，id 是主鍵。</p> <p>例1: (明確指定主鍵，並且有此筆資料，row lock)</p> <p>SELECT * FROM products WHERE id='3' FOR UPDATE;</p> <p>例2: (明確指定主鍵，若查無此筆資料，無 lock)</p> <p>SELECT * FROM products WHERE id='-1' FOR UPDATE;</p> <p>例2: (無主鍵，table lock)</p> <p>SELECT * FROM products WHERE name='Mouse' FOR UPDATE;</p> <p>例3: (主鍵不明確，table lock)</p> <p>SELECT * FROM products WHERE id&lt;&gt;'3' FOR UPDATE;</p> <p>例4: (主鍵不明確，table lock)</p> <p>SELECT * FROM products WHERE id LIKE '3' FOR UPDATE;</p> </blockquote> <p>&#160;</p> <p>锁和事务的关系这里我再明白了些，参照<a href="http://kazge.com/archives/607.html">http://kazge.com/archives/607.html</a> ,锁是事务实现并发控制隔离级别的实现方法。为了避免并发操作存在的异常情况出现，在标准SQL规范中定义了4个事务隔离级别，不同隔离级别对事务处理不同 。</p> <p>虽然各数据库对此标准的实现各有不同，但是它们需要保证这一点。对于使用者则需依据实际情况定义好适当的事务隔离策略再来调用个数据库native sql来实现这些策略来达到应用目的，而不是以为只要使用了事务就万事大吉了。</p> <p>参考:</p> <p><a href="http://blog.csdn.net/zdl1016/article/details/6946060">http://blog.csdn.net/zdl1016/article/details/6946060</a></p> <p><a href="http://hi.baidu.com/thinkinginlamp/blog/item/d677cffcb7098482b901a014.html">http://hi.baidu.com/thinkinginlamp/blog/item/d677cffcb7098482b901a014.html</a></p> <p><a href="http://www.neo.com.tw/archives/900">http://www.neo.com.tw/archives/900</a></p> <p><a href="http://www.tapy.org/index.php/archives/228">http://www.tapy.org/index.php/archives/228</a></p> <p><a href="http://blog.chinaunix.net/space.php?uid=123581&amp;do=blog&amp;id=2944289">http://blog.chinaunix.net/space.php?uid=123581&amp;do=blog&amp;id=2944289</a></p> <p class="read-more">Continue reading <a class="heading" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/2012/04/20/e4-ba-8b-e5-8a-a1-e5-92-8c-e9-94-81mysql-innodb.html" data-flip="title">再谈事务和锁:mysql innodb</a></p> </article> <article id="post-php/2012/04/19/php-foreach%e5%bc%95%e7%94%a8%e9%99%b7%e9%98%b1" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/php/2012/04/19/php-foreach-e5-bc-95-e7-94-a8-e9-99-b7-e9-98-b1.html" data-flip="title"> php foreach引用陷阱 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-19T21:25:26+08:00">19 Apr 2012</time> in <span>Php</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>先看这段代码:</p> <div><pre><span style="color: #0000ff">&lt;?</span>php
$arr = <a style="color: #ffa500" href="http://www.php.net/array">array</a>('<span style="color: #8b0000">a</span>','<span style="color: #8b0000">b</span>','<span style="color: #8b0000">c</span>');
<a style="color: #0000ff" href="http://www.php.net/foreach">foreach</a>($arr <a style="color: #0000ff" href="http://www.php.net/as">as</a> &amp;$a){
} 
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($arr);
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($a);
<a style="color: #0000ff" href="http://www.php.net/foreach">foreach</a>($arr <a style="color: #0000ff" href="http://www.php.net/as">as</a> $a){
}
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($arr);
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($a); 
<span style="color: #0000ff">?&gt;</span></pre></div> <p>咋一看，就是两个空循环，应该不会对$arr有什么影响，但是实际结果是:</p><pre><p>Array
(
    [0] =&gt; a
    [1] =&gt; b
    [2] =&gt; c
)
c</p><p>Array
(
    [0] =&gt; a
    [1] =&gt; b
    [2] =&gt; b //出问题了
)
b</p></pre><p>这就是php文档上写的引用陷阱。</p> <p>它发生的原因是，php没有局部变量，第一个循环的引用变量$a继续在第二个循环中被赋值，</p> <p>第一循环</p> <p>$a = $arr[0] </p> <p>$a = $arr[1]</p> <p>$a = $arr[2]</p> <p>第二循环</p> <p>$arr[2] = $arr[0]&#160; //$arr[2] = ‘a’</p> <p>$arr[2] = $arr[1]&#160; //$arr[2] = ‘b’</p> <p>$arr[2] = $arr[2] //$arr[2] = ‘b’ </p> <p></p> <p> <br />这是php文档上说明了的陷阱，但是包括我在内很多人仍然要踩进去一回，哈哈。</p> <p>&#160;</p> <p>这里补充foreach的一点知识：</p> <div><pre><span style="color: #0000ff">&lt;?</span>php
$arr = <a style="color: #ffa500" href="http://www.php.net/array">array</a>();
<a style="color: #0000ff" href="http://www.php.net/for">for</a>($ii = 0 ; $ii &lt; 10 ; $ii ++){
	$arr[] =  <a style="color: #ffa500" href="http://www.php.net/array">array</a>('<span style="color: #8b0000">k</span>'=&gt;$ii . '<span style="color: #8b0000">_v</span>','<span style="color: #8b0000">p</span>'=&gt;'<span style="color: #8b0000">hah</span>');
}
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($arr);
$narr = <a style="color: #ffa500" href="http://www.php.net/array">array</a>();
<a style="color: #0000ff" href="http://www.php.net/foreach">foreach</a>($arr <a style="color: #0000ff" href="http://www.php.net/as">as</a> $i){
	$i['<span style="color: #8b0000">k</span>'] = '<span style="color: #8b0000">changed</span>';
	<a style="color: #ffa500" href="http://www.php.net/unset">unset</a>($i['<span style="color: #8b0000">p</span>']);
	$narr[] = $i  ;
}
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($arr);
<a style="color: #ffa500" href="http://www.php.net/print_r">print_r</a>($narr);
<span style="color: #0000ff">?&gt;</span></pre></div> <p>代码里创建一个数组$arr,然后使用foreach遍历，改变每个元素的值。</p> <p>然后发现原来数组里的值没有变化，而$narr里面的是修改后的元素。</p> <p>此例说明foreach循环中的元素是拷贝变量，修改它不会影响原来的数组。</p> <p>所以我们使用引用来达到修改修改元素的目的。 </p> <p class="read-more">Continue reading <a class="heading" href="/php/2012/04/19/php-foreach-e5-bc-95-e7-94-a8-e9-99-b7-e9-98-b1.html" data-flip="title">php foreach引用陷阱</a></p> </article> <article id="post-linux/web/2012/04/19/xshell-%e5%8f%8d%e5%90%91%e9%80%9a%e9%81%93%e5%92%8c-tunnlr%e9%85%8d%e7%bd%ae" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/linux/web/2012/04/19/xshell-e5-8f-8d-e5-90-91-e9-80-9a-e9-81-93-e5-92-8c-tunnlr-e9-85-8d-e7-bd-ae.html" data-flip="title"> xshell 反向通道和 tunnlr配置 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-19T04:10:44+08:00">19 Apr 2012</time> in <span>Linux</span> / <span>Web</span> on <span>Xshell</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>大家知道putty更多些，但是putty能做的xshell也都能做，而且对于这个商业软件来说，对于个人用户是免费的，真是够厚道。</p> <p>之前说过xshell通道连主机，见<a href="http://kazge.com/archives/788.html">http://kazge.com/archives/788.html</a></p> <p>这次说说反向通道，即让主机连本地机器，做一个ssh的反向代理，这个和<a href="http://www.tunnlr.com">www.tunnlr.com</a> 有些像，即外网通过公网主机某个端口访问本地主机的某个端口。</p> <p>internet&mdash;&gt;server&mdash;&gt;pc</p> <p>打开xshell新建session,如下图设置:</p> <p><a href="http://kazge.com/wp-content/uploads/2012/04/Snap11.gif"><img alt="Snap1" border="0" height="463" src="/assets/Snap1_thumb1.gif" style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="Snap1" width="713" /></a></p> <p>其中Type/Direction为Remote</p> <p>Source Host为公网主机，其端口为想要暴露的端口。</p> <p>Destination Host则为本地机器，端口为本地机器使用的端口。</p> <p>从上图则配置了test.com:10080 到本机90080的隧道。那么公网访问test.com:10080 实际上经过test.com主机转发到本机90080端口了。</p> <p>当然test.com不会随便让10080端口暴露的，如果不进行端口配置，公网是无法访问10080端口的。</p> <p>但是可从test.com ssh控制台中telnet 127.0.0.1:10080 会发现是可连通的。</p> <p>&nbsp;</p> <p>这里也附带说一下使用xshell配置tunnlr,tunnlr的说明是用putty说的，xshell一样可以,以图说明:</p> <p><a href="http://kazge.com/wp-content/uploads/2012/04/Snap2.gif"><img alt="Snap2" border="0" height="470" src="/assets/Snap2_thumb.gif" style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="Snap2" width="913" /></a></p> <p>新建session,connection信息依据tunnlr提供的来,主要是Authentication中的密钥对，点击Browse..可以新建一个,新建以后不要忘了保存私钥，点击export即可导出私钥，要查看公钥字符串，点击对应密钥对属性可看。</p> <p>然后Tunneling中的配置可参考上面反向通道的配置，也就是</p> <p>Source Host为空（即为tunnlr.com）,其端口为tunnlr分配给你的端口。</p> <p>Destination Host则为本地机器，端口为本地机器使用的端口。</p> <p>其他略。</p> <p>最近 发现xmanager4似乎x11显示有问题，总是连不上，换为xmanager3就可以了，但是安装了xmanager3带了xshell3,结果使用xshell4作为反向代理时，总是报错退出，然后通道就怎么也连不上了，除非重启。改为使用xshell3就没问题，估计是安装两个版本的xshell造成的冲突。</p> <p class="read-more">Continue reading <a class="heading" href="/linux/web/2012/04/19/xshell-e5-8f-8d-e5-90-91-e9-80-9a-e9-81-93-e5-92-8c-tunnlr-e9-85-8d-e7-bd-ae.html" data-flip="title">xshell 反向通道和 tunnlr配置</a></p> </article> <article id="post-php/2012/04/18/php-_request%e5%a4%9a%e4%ba%86%e4%b8%aa%e5%8f%8d%e6%96%9c%e6%9d%a0" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/php/2012/04/18/php-_request-e5-a4-9a-e4-ba-86-e4-b8-aa-e5-8f-8d-e6-96-9c-e6-9d-a0.html" data-flip="title"> php _REQUEST多了个反斜杠 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-18T21:46:24+08:00">18 Apr 2012</time> in <span>Php</span> on <span>Magic_quotes_gpc</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>如果你发现提交给php的参数_REQUEST中的值无缘无故多了个反斜杠，请不要奇怪，这个和<i><tt>php的magic_quotes_gpc</tt></i>这个配置有关系。</p> <p>默认它是on所以，所有传入参数都会用\转义,这当然是安全原因，但是是个很不好的做法，5.3之后就不建议用，6.0以后就直接删除了。</p> <p>但是代码里还是要处理：</p> <div><pre><span style="color: #0000ff">&lt;?</span>php
<a style="color: #0000ff" href="http://www.php.net/if">if</a> (<a style="color: #ffa500" href="http://www.php.net/get_magic_quotes_gpc">get_magic_quotes_gpc</a>()) {
			$msg = <a style="color: #ffa500" href="http://www.php.net/stripslashes">stripslashes</a>($msg);
		}
<span style="color: #0000ff">?&gt;</span></pre></div> <p> <br />php文档中还提供了深度反转义的方法:</p> <div>/> <p><span style="color: #0000ff">&lt;?</span>php<br /> <a style="color: #0000ff" href="http://www.php.net/function">function</a> stripslashes_deep($value)<br /> {<br /> $value = <a style="color: #ffa500" href="http://www.php.net/is_array">is_array</a>($value) ?<br /> array_map('<span style="color: #8b0000">stripslashes_deep</span>', $value) :<br /> <a style="color: #ffa500" href="http://www.php.net/stripslashes">stripslashes</a>($value);</p> <p> <a style="color: #0000ff" href="http://www.php.net/return">return</a> $value;<br /> }</p> <p><a style="color: #0000ff" href="http://www.php.net/function">function</a> remove_wp_magic_quotes()<br /> {</p> <blockquote><p> <a style="color: #0000ff" href="http://www.php.net/if">if</a> (<a style="color: #ffa500" href="http://www.php.net/get_magic_quotes_gpc">get_magic_quotes_gpc</a>()) {<br /> $_GET = stripslashes_deep($_GET);<br /> $_POST = stripslashes_deep($_POST);<br /> $_COOKIE = stripslashes_deep($_COOKIE);<br /> $_REQUEST = stripslashes_deep($_REQUEST);</p> </blockquote> <p> }<br /> }<br /> <span style="color: #0000ff">?&gt;</span></p> </div> <p class="read-more">Continue reading <a class="heading" href="/php/2012/04/18/php-_request-e5-a4-9a-e4-ba-86-e4-b8-aa-e5-8f-8d-e6-96-9c-e6-9d-a0.html" data-flip="title">php _REQUEST多了个反斜杠</a></p> </article> <article id="post-html5/java/web/web%E5%89%8D%E7%AB%AF/2012/04/17/websocket%e5%ae%9e%e8%b7%b5" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/html5/java/web/web%E5%89%8D%E7%AB%AF/2012/04/17/websocket-e5-ae-9e-e8-b7-b5.html" data-flip="title"> websocket实践 </a> </h1> <p class="post-date heading"> <time datetime="2012-04-17T01:17:39+08:00">17 Apr 2012</time> in <span>Html5</span> / <span>Java</span> / <span>Web</span> / <span>Web前端</span> on <span>Websocket</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>服务端以jetty8做容器,参考</p> <p><a href="http://wiki.eclipse.org/Jetty/Feature/WebSockets">http://wiki.eclipse.org/Jetty/Feature/WebSockets</a></p> <p><a href="http://dev.w3.org/html5/websockets/">http://dev.w3.org/html5/websockets/</a></p> <p>如果用maven需要jetty-webapp和jetty-websocket依赖:</p> <div><pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">dependency</span><span style="color: #0000ff">&gt;</span>
			<span style="color: #0000ff">&lt;</span><span style="color: #800000">groupId</span><span style="color: #0000ff">&gt;</span>org.eclipse.jetty<span style="color: #0000ff">&lt;/</span><span style="color: #800000">groupId</span><span style="color: #0000ff">&gt;</span>
			<span style="color: #0000ff">&lt;</span><span style="color: #800000">artifactId</span><span style="color: #0000ff">&gt;</span>jetty-webapp<span style="color: #0000ff">&lt;/</span><span style="color: #800000">artifactId</span><span style="color: #0000ff">&gt;</span>
			<span style="color: #0000ff">&lt;</span><span style="color: #800000">version</span><span style="color: #0000ff">&gt;</span>8.1.2.v20120308<span style="color: #0000ff">&lt;/</span><span style="color: #800000">version</span><span style="color: #0000ff">&gt;</span>
		<span style="color: #0000ff">&lt;/</span><span style="color: #800000">dependency</span><span style="color: #0000ff">&gt;</span>
		<span style="color: #0000ff">&lt;</span><span style="color: #800000">dependency</span><span style="color: #0000ff">&gt;</span>
        	<span style="color: #0000ff">&lt;</span><span style="color: #800000">groupId</span><span style="color: #0000ff">&gt;</span>org.eclipse.jetty<span style="color: #0000ff">&lt;/</span><span style="color: #800000">groupId</span><span style="color: #0000ff">&gt;</span>
        	<span style="color: #0000ff">&lt;</span><span style="color: #800000">artifactId</span><span style="color: #0000ff">&gt;</span>jetty-websocket<span style="color: #0000ff">&lt;/</span><span style="color: #800000">artifactId</span><span style="color: #0000ff">&gt;</span>
        	<span style="color: #0000ff">&lt;</span><span style="color: #800000">version</span><span style="color: #0000ff">&gt;</span>8.1.2.v20120308<span style="color: #0000ff">&lt;/</span><span style="color: #800000">version</span><span style="color: #0000ff">&gt;</span>
    	<span style="color: #0000ff">&lt;/</span><span style="color: #800000">dependency</span><span style="color: #0000ff">&gt;</span></pre></div> <p>注意jetty8实现的是servlet-api-3.0,所以要排除对servlet-api-2.5的依赖。否则会报Java SecurityException : <em>signer information does not</em> match 的错误。</p> <p>在此jetty版本下webservletsocket代码为:</p> <div>><span style="color: #0000ff">package</span> kzg.html5.websocket; <p class="read-more">Continue reading <a class="heading" href="/html5/java/web/web%E5%89%8D%E7%AB%AF/2012/04/17/websocket-e5-ae-9e-e8-b7-b5.html" data-flip="title">websocket实践</a></p> </article> <h2 class="sr-only">Pagination</h2> <nav class="pagination heading" role="navigation"> <ul> <li class="pagination-item older" > <a rel="next" href="/page-20/">Older</a> </li> <li class="pagination-item newer" > <a rel="prev" href="/page-18/">Newer</a> </li> </ul> </nav> <footer> <hr/> <p>© 2011 - 2017. All rights reserved.</p> <p> <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code> </p> </footer> </main> </div> <div id="_yDrawer"> <div id="_sidebar" class="sidebar"> <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url()"></div> <header class="sidebar-sticky" role="banner"> <div class="sidebar-about"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" /> </div> <div class="sidebar-about"> <h1><a id="_title" href="/">Ka's Blog</a></h1> <p>Ka’s blog description…</p> </div> <nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span> <ul> <li> <a class="sidebar-nav-item" href="/categories.html">Categories</a> </li> <li> <a class="sidebar-nav-item" href="/archive.html">Archive</a> </li> <li> <a class="sidebar-nav-item" href="/tags.html">Tags</a> </li> <li> <a class="sidebar-nav-item" href="/about.html">About</a> </li> </ul> </nav> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </header> </div> </div> </div> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script> <!--<![endif]--> </body>
</html>
