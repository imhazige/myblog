<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
--><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <title>Ka's Blog &middot; Ka's Blog</title> <meta name="description" content="Ka’s blog description… "> <link rel="canonical" href="http://localhost:4000/page-61/"> <link rel="alternate" type="application/atom+xml" title="Ka's Blog Feed" href="http://localhost:4000/feed.xml"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"> <!-- Place favicon.ico in the root directory --> <link rel="stylesheet" href="/assets/style.css"> <link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"> <link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|') }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; </script> <!--<![endif]--> <script> !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window.disablePushState = false; window.disableDrawer = false; </script> <!--[if lt IE 9]> <script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script> <![endif]--> <!--[if gt IE 8]><!----> <style> article, aside, dialog, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } mark { background: #FF0; color: #000; } * { box-sizing: border-box; } html, body { margin: 0; padding: 0; } html { font-size: 16px; line-height: 1.75; } body { color: #333; background-color: #fff; overflow-y: scroll; } a { text-decoration: none; } .lead { margin-left: -1rem; margin-right: -1rem; } img, .img { display: block; max-width: 100%; margin-bottom: 1rem; border: none; } img.lead, .img.lead { max-width: calc(100% + 2rem); width: calc(100% + 2rem); } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-weight: bold; text-rendering: optimizeLegibility; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 { margin: 3rem 0 1rem; line-height: 1.6; } h1, .h1 { font-size: 2rem; line-height: 1.25; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.17em; } p { margin-top: 0; margin-bottom: 1rem; } p.lead { font-size: 1.25rem; font-weight: 300; padding: 0 1rem; } ul, ol, dl { margin-top: 0; margin-bottom: 1rem; } ul, ol { padding-left: 1.25rem; } hr { position: relative; margin: 1.5rem 0; border: 0; border-top: 1px solid #eee; } .hr { padding-bottom: .5rem; border-bottom: 1px solid #eee; margin-bottom: 1.5rem; } h4, h5, h6, .h4, .h5, .h6 { margin-bottom: 0.5rem; font-size: 1rem; } table { margin-bottom: 1rem; width: 100%; width: calc(100% + 2rem); margin-left: -1rem; border: 1px solid #e5e5e5; border-collapse: collapse; border-spacing: 0; } td, th { padding: .25rem .5rem; border: 1px solid #e5e5e5; } td:first-child, th:first-child { padding-left: 1rem; } td:last-child, th:last-child { padding-right: 1rem; } thead + tbody, tbody + tbody, tfoot { border-top: 3px double #e5e5e5; } tbody tr:nth-child(odd) td, tbody tr:nth-child(odd) th { background-color: #f9f9f9; } footer { margin-bottom: 2rem; } .page, .post { margin-bottom: 3em; } .page li + li, .post li + li { margin-top: .25rem; } .page > header, .post > header { margin-bottom: 2rem; } .page-title, .post-title { margin-top: 0; } .post-date { display: block; margin-top: -0.5rem; margin-bottom: 1rem; color: #9a9a9a; } .related-posts { padding-left: 0; list-style: none; } .related-posts > li, .related-posts > li + li { margin-top: 1rem; } .related-posts > li > small, .related-posts > li + li > small { font-size: 75%; color: #9a9a9a; } .message { margin-bottom: 1rem; padding: 1rem; color: #787878; background-color: #f9f9f9; margin-left: -1rem; margin-right: -1rem; } /* * Global resets * * Update the foundational and global aspects of the page. */ body, main { /* Prevent side-scrolling on mobile */ position: relative; overflow-x: hidden; } @media screen { body::before { content: ''; width: .5rem; background: #e5e5e5; position: absolute; left: 0; top: 0; bottom: 0; } } @media screen and (min-width: 40em) { html { font-size: 17px; } } @media screen and (min-width: 54em) { html { font-size: 16px; } } @media screen and (min-width: 72em) { html { font-size: 17px; } } @media screen and (min-width: 125em) { html { font-size: 18px; } } .sr-only { display: none; } .clearfix, .sidebar-social::after, .clearafter::after { content: ""; display: table; clear: both; } a, .a { position: relative; padding-bottom: .15rem; border-bottom: 1px solid; } .img { overflow: hidden; background-color: #f9f9f9; } .img > img { margin: 0; width: 100%; height: 100%; } .sixteen-nine { position: relative; } .sixteen-nine::before { display: block; content: ""; width: 100%; padding-top: 56.25%; } .sixteen-nine > * { position: absolute; top: 0; left: 0; right: 0; bottom: 0; } h1 + hr, h2 + hr, h3 + hr, h4 + hr, h5 + hr, h6 + hr { margin-top: 0; } .fade-in { animation-duration: 500ms; animation-name: fade-in; animation-fill-mode: forwards; } @keyframes fade-in { from { transform: translateY(-2rem); opacity: 0; } 50% { transform: translateY(-2rem); opacity: 0; } to { transform: translateY(0); opacity: 1; } } .mb6 { margin-bottom: 6rem; } .sidebar { color: rgba(255, 255, 255, 0.75); text-align: left; /* Sidebar links */ } .sidebar::before { /* make sidebar slightly darker to increase text readability (when using a background image) */ content: ""; position: absolute; z-index: 2; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ } .sidebar a { color: #fff; border-bottom-color: rgba(255, 255, 255, 0.2); } #_yDrawer { position: relative; padding: 1rem 0; } @media screen { #_yDrawer { padding: 2rem 1rem; min-height: 640px; min-height: 100vh; } } @media screen and (min-width: 54em) { #_yDrawer { position: fixed; top: 0; left: 0; bottom: 0; width: 18rem; margin-left: 0; } } @media screen and (min-width: 97.5em) { #_yDrawer { width: calc(50% - 28rem); } } @media screen { #_yDrawer.loaded { min-height: 0; padding: 0; } } .sidebar-bg { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #202020 center / cover; } .sidebar-sticky { position: relative; z-index: 3; } @media screen { .sidebar-sticky { position: absolute; right: 2rem; bottom: 1rem; left: auto; max-width: 14rem; } } @media print { .sidebar-sticky { padding: 0 2rem; } } /* About section */ .sidebar-about > h1 { color: #fff; font-size: 2rem; } .sidebar-nav > ul { list-style: none; padding-left: 0; margin-bottom: .5rem; } a.sidebar-nav-item { font-weight: bold; display: block; line-height: 1.75; padding: .25rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.2); } @media screen { .y-drawer-scrim { z-index: 2; } .y-drawer-content { width: 18rem; left: -17.5rem; z-index: 3; } } @media screen and (min-width: 97.5em) { .y-drawer-content { width: calc(50% - 28rem); } } .sidebar-social { margin-bottom: .5rem; } .sidebar-social > ul { list-style: none; padding-left: 0; margin: 0 -.25rem; } .sidebar-social > ul > li { float: left; margin: 0 .25rem; } .sidebar-social > ul > li > a { display: inline-block; text-align: center; font-size: 1.6rem; line-height: 3rem; width: 3.1249rem; height: 4rem; padding: .5rem 0; } .sidebar-social > ul li + li { margin-top: 0; } .fixed-top { position: fixed; top: 0; left: 0; width: 100%; z-index: 1; } .navbar > .content { padding-top: 0; padding-bottom: 0; min-height: 0; height: 0; } .menu { display: inline-block; padding: 1.75rem 1.5rem; border-bottom: none; margin-left: -1.5rem; color: #9a9a9a !important; } .menu::after { content: "\2630"; } @media screen and (min-width: 54em) { .menu { padding: 1.25rem 1.5rem; position: absolute; left: -9999px; } .menu:focus { position: static; } } .animation-main { pointer-events: none; } .loading { display: none; } @media print { .menu { display: none; } } .animation-main { opacity: 0; will-change: opacity; } .loading { position: absolute; top: 0; right: 0; padding: 5.25rem 4.5rem; transform-origin: top right; transform: scale(0.33); } .content { position: relative; margin-left: auto; margin-right: auto; padding: 5rem 1rem 12rem; } @media screen { .content { max-width: 38rem; padding-left: 1.5rem; min-height: 100vh; } } @media screen and (min-width: 54em) { .content { max-width: 42rem; padding: 4rem 1rem 12rem; margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 72em) { .content { margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 92em) { .content { max-width: 48rem; } } @media screen and (min-width: 97.5em) { .content { margin: auto; } } .me { float: right; width: 6.5rem; height: 6.5rem; margin-left: 1rem; margin-bottom: .5rem; border-radius: 100%; position: relative; } @media screen and (min-width: 40em) { .me { width: 7rem; height: 7rem; } } @media screen and (min-width: 54em) { .me { width: 6.5rem; height: 6.5rem; } } @media screen and (min-width: 60em) { .me { width: 7rem; height: 7rem; } } main > footer { position: absolute; bottom: 0; left: 0; right: 0; padding: 0 1rem; color: #9a9a9a; font-size: smaller; text-align: center; } main > footer > p { margin-bottom: 0; } /* .card, .pagination-item { border-radius: 0!important; } */ /* @media screen { .sidebar-sticky { left: 2rem; max-width: none; } } */ html { font-family: Helvetica, Arial, sans-serif; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Helvetica, Arial, sans-serif; } </style> <link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1"> <script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script> <!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed --> <style id="_pageStyle"> .content a { color: #4f86aa; border-color: rgba(79, 134, 170, 0.2); } .content a:hover { border-color: #4f86aa; } :focus { outline-color: #4f86aa; } ::selection { color: #fff; background: #4f86aa; } ::-moz-selection { color: #fff; background: #4f86aa; } </style> <noscript> <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i"> <style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif } </style> <link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--<![endif]--> <!--[if gt IE 8]><!----> <script async src="/assets/bower_components/webfontloader/webfontloader.js"></script> <!--<![endif]--> </head> <body> <div class="navbar fixed-top"> <div class="content"> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu no-hover" href="#_title"> <span class="sr-only">Menu</span> </a> </div> </div> <div id="_yPushState"> <div class="fade-in"> <main id="_main" class="content" role="main" data-color="#4f86aa" data-image=""> <article id="post-web%E5%89%8D%E7%AB%AF/2011/05/26/extjs-tree-%e8%8a%82%e7%82%b9%e6%b8%85%e7%a9%ba%e9%97%ae%e9%a2%98" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2011/05/26/extjs-tree-e8-8a-82-e7-82-b9-e6-b8-85-e7-a9-ba-e9-97-ae-e9-a2-98.html" data-flip="title"> extjs tree 节点清空问题 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:11:35+08:00">26 May 2011</time> in <span>Web前端</span> on <span>Extjs</span>, <span>Javascript web 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>当拖拽一个树节点后将改动提交服务端后怎么样保证两处树结构一致，我的的做法是让树重新生成一遍。但是这里有个问题，extjs删除树时老是报错 removeChild this.ownerTree is null.这种情况发生在当拖拽一个树节点到一个未展开的树节点之下后删除此树时。我估计是由于刚才那个拖拽的节点造成的。 <br />试过将整个treepanel重新构建，也是同样的错误。 <br />原因是调用不可见节点的expand或select方法，因为这些节点的父节点没展开，这些节点不可见。 <br />解决方法是将这些节点的父节点展开让这些节点可见。</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2011/05/26/extjs-tree-e8-8a-82-e7-82-b9-e6-b8-85-e7-a9-ba-e9-97-ae-e9-a2-98.html" data-flip="title">extjs tree 节点清空问题</a></p> </article> <article id="post-%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/%e6%b7%bb%e5%8a%a0%e5%88%a0%e9%99%a4-svncvs%e5%8f%b3%e9%94%ae%e8%8f%9c%e5%8d%95%e7%9a%84%e6%b3%a8%e5%86%8c%e8%a1%a8-2" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/e6-b7-bb-e5-8a-a0-e5-88-a0-e9-99-a4-svncvs-e5-8f-b3-e9-94-ae-e8-8f-9c-e5-8d-95-e7-9a-84-e6-b3-a8-e5-86-8c-e8-a1-a8-2.html" data-flip="title"> 添加删除.svn,cvs右键菜单的注册表 以及解锁问题 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:10:35+08:00">26 May 2011</time> in <span>默认分类</span> on <span>Cvs</span>, <span>Svn</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>对于软件人士来说，常常需要删除某个源码文件夹下面所有cvs,.svn文件夹。</p> <p>现在介绍一个网上流传的注册表方法：</p> <p>删除CVS代码:delCVS.reg</p> <p>Windows Registry Editor Version 5.00&nbsp;&nbsp;&nbsp; <br /> [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\DeleteCVS]&nbsp; <br /> &nbsp;&nbsp; @=&quot;Delete CVS Folders&quot;&nbsp; <br /> [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\DeleteCVS\command]&nbsp;&nbsp; <br /> &nbsp;&nbsp;&nbsp;&nbsp; @=&quot;cmd.exe /c \&quot;TITLE Removing CVS Folders in %1 &amp;&amp; COLOR 9A &amp;&amp; FOR /r \&quot;%1\&quot; %%f IN (CVS) DO RD /s /q \&quot;%%f\&quot; \&quot;&quot;&nbsp;&nbsp; <br /> 将上面的代码保存为delCVS.reg 后双击此文件即可，可看到文件夹右键多出个Delete CVS Folders菜单.如图</p> <p><a href="http://kazge.com/wp-content/uploads/2011/05/6ebc7152e122acda8d5430ff1.jpg"><img alt="6ebc7152e122acda8d5430ff" border="0" height="184" src="/assets/6ebc7152e122acda8d5430ff_thumb1.jpg" style="border-bottom: 0px;border-left: 0px;border-top: 0px;border-right: 0px" width="244" /></a></p> <p>根据上面的代码，通过修改蓝色部分，你可以自己定制更多的右键菜单来删除不同的文件夹.</p> <p>下面是删除svn文件夹的代码:</p> <p>Windows Registry Editor Version 5.00</p> <p>[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\DeleteSVN] <br /> @=&quot;Delete SVN Folders&quot;</p> <p>[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\DeleteSVN\command] <br /> @=&quot;cmd.exe /c \&quot;TITLE Removing SVN Folders in %1 &amp;&amp; COLOR 9A &amp;&amp; FOR /r \&quot;%1\&quot; %%f IN (.svn) DO RD /s /q \&quot;%%f\&quot; \&quot;&quot;</p> <p>&nbsp;</p> <p>另外，常常遇到文件被锁，使用clean up也出错的情况，可以使用bat命令解决：</p> <p><span class="Apple-style-span" style="color: rgb(0, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25px; ">cd 到svn项目目录下，然后执行如下命令&nbsp;<br /> del lock /q/s&nbsp;<br /> 就把锁删掉了。</span></p> <p class="read-more">Continue reading <a class="heading" href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/e6-b7-bb-e5-8a-a0-e5-88-a0-e9-99-a4-svncvs-e5-8f-b3-e9-94-ae-e8-8f-9c-e5-8d-95-e7-9a-84-e6-b3-a8-e5-86-8c-e8-a1-a8-2.html" data-flip="title">添加删除.svn,cvs右键菜单的注册表 以及解锁问题</a></p> </article> <article id="post-java/2011/05/26/xml%e5%b8%a6%e5%86%92%e5%8f%b7%e5%b1%9e%e6%80%a7%e6%80%8e%e4%b9%88%e8%8e%b7%e5%8f%96" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2011/05/26/xml-e5-b8-a6-e5-86-92-e5-8f-b7-e5-b1-9e-e6-80-a7-e6-80-8e-e4-b9-88-e8-8e-b7-e5-8f-96.html" data-flip="title"> xml带冒号属性怎么获取 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:35:41+08:00">26 May 2011</time> in <span>Java</span> on <span>Java</span>, <span>Xml</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>dom4j 的el.attributeValue是无法取到名空间类型的属性，简单点说就是带冒号的属性。</p> <p>带冒号的属性是与名空间定义有关的，例如</p> <p>&lt;a xmlns=&quot;http://www.w3.org/xxx&quot; xml:lang=&quot;en&quot; <br />xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; <br /> xsi:schemaLocation=&quot;http://www.w3.org/xxx http://www.w3.org/xxx.xsd&quot; &gt;</p> <p>这其中的蓝色部分就是特殊属性。</p> <p>要取这样的属性在dom4j中应该这样做：</p> <p>xmlns是名空间Element.getNamespaceURI()可以获得</p> <p>xmlns:xsi&#160;&#160; --&gt; Element.getNamespaceForPrefix(&quot;xsi&quot;).getURI()</p> <p>xsi:schemaLocation --&gt; el.selectSingleNode(&quot;@xsi:schemaLocation&quot;).getText()</p> <p class="read-more">Continue reading <a class="heading" href="/java/2011/05/26/xml-e5-b8-a6-e5-86-92-e5-8f-b7-e5-b1-9e-e6-80-a7-e6-80-8e-e4-b9-88-e8-8e-b7-e5-8f-96.html" data-flip="title">xml带冒号属性怎么获取</a></p> </article> <article id="post-java/2011/05/26/maven-gzip%e6%a0%bc%e5%bc%8f%e6%89%93%e5%8c%85%e6%97%b6%e8%a2%ab%e6%8d%9f%e5%9d%8f" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2011/05/26/maven-gzip-e6-a0-bc-e5-bc-8f-e6-89-93-e5-8c-85-e6-97-b6-e8-a2-ab-e6-8d-9f-e5-9d-8f.html" data-flip="title"> maven 导致文件损坏的问题 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:33:00+08:00">26 May 2011</time> in <span>Java</span> on <span>Maven</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>1 ：gzip格式打包时被损坏:</p> <p>今天花了一天时间，找出一个原来运行得好好的程序无法运行的原因：maven打包时将包资源里的gzip格式文件搞坏了。结果发布到产品环境下的gzip资源总是不可用，我勒个去！maven你怎么不去屎啊！</p> <p>2：编译时图片（主要是png图片）资源拷贝损坏：</p> <p>写swing程序时，放在源代码文件夹内的图片资源在生成到target/classes/文件夹下时出现损坏。</p> <p>出现异常：</p> <div><pre>sun.awt.image.PNGImageDecoder$PNGException: crc corruption</pre></div> <p>原来是是将资源编译了</p> <p>解决办法:</p> <p>pom里面设置资源不编译:(但是maven默认就是false,不知怎么回事。)</p> <div><pre><span style="color: #0000ff">      &lt;</span><span style="color: #800000">build</span><span style="color: #0000ff">&gt;</span>
		<span style="color: #0000ff">&lt;</span><span style="color: #800000">resources</span><span style="color: #0000ff">&gt;</span>
		<span style="color: #0000ff">&lt;</span><span style="color: #800000">resource</span><span style="color: #0000ff">&gt;</span>
	        <span style="color: #0000ff">&lt;</span><span style="color: #800000">directory</span><span style="color: #0000ff">&gt;</span>src/main/resources<span style="color: #0000ff">&lt;/</span><span style="color: #800000">directory</span><span style="color: #0000ff">&gt;</span>
	        <span style="color: #0000ff">&lt;</span><span style="color: #800000">filtering</span><span style="color: #0000ff">&gt;</span>false<span style="color: #0000ff">&lt;/</span><span style="color: #800000">filtering</span><span style="color: #0000ff">&gt;</span>
      	<span style="color: #0000ff">&lt;/</span><span style="color: #800000">resource</span><span style="color: #0000ff">&gt;</span>
      	<span style="color: #0000ff">&lt;/</span><span style="color: #800000">resources</span><span style="color: #0000ff">&gt;</span>
		<span style="color: #0000ff">&lt;</span><span style="color: #800000">finalName</span><span style="color: #0000ff">&gt;xxx</span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">finalName</span><span style="color: #0000ff">&gt;</span>		
	<span style="color: #0000ff">&lt;/</span><span style="color: #800000">build</span><span style="color: #0000ff">&gt;</span></pre></div> <p>记住要清空再编译就发现图片好了。</p> <p class="read-more">Continue reading <a class="heading" href="/java/2011/05/26/maven-gzip-e6-a0-bc-e5-bc-8f-e6-89-93-e5-8c-85-e6-97-b6-e8-a2-ab-e6-8d-9f-e5-9d-8f.html" data-flip="title">maven 导致文件损坏的问题</a></p> </article> <article id="post-%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-01-four-kinds-of-computers" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-01-four-kinds-of-computers.html" data-flip="title"> it-e-01 four kinds of computers </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:32:01+08:00">26 May 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>Computers are electronic devices that can follow instructions to accept input, process that <br />input, and produce information. There are four types of computers: microcomputers, minicomputers, <br />mainframe computers, and supercomputers. <br />Microcomputers, also known as personal computers, are small computers that can fit on a desktop. <br />Portable microcomputers can fit in a briefcase or even in the palm of your hand. Microcomputers are <br />used in homes, schools, and industry. Today nearly every field uses microcomputers. <br />One type of microcomputer that is rapidly growing in popularity is the portable computer, <br />which can be easily carried around. There are four categories of portable computers. <br />Laptops: laptops, which weigh between 10 and 16 pounds, may be AC-powered, battery-powered, <br />or both. The AC-powered laptop weighs 12 to 16 pounds. The battery-powered laptop weighs 10 to 15 <br />pounds, batteries included, and can be carried on a shoulder strap. <br />Notebook PCs: notebook personal computers weigh between 5 and 10 pounds and can fit <br />into most briefcases. It is especially valuable in locations where electrical connections are not <br />available. Notebook computers are the most popular portable computers today. <br />Subnotebooks: subnotebooks are for frequent flyers and life-on-the-road types.[1] Subnotebooks <br />users give up a full-size display screen and keyboard in exchange for less weight. Weighting between <br />2 and 6 pounds, these computer fit easily into a briefcase. <br />Personal Digital Assistants: much smaller than even the subnotebooks. Personal Digital <br />Assistants (PDAs) weigh from 1 to 4 pounds. The typical PDA combines pen input, writing <br />recognition, personal organizational tools, and communication capabilities in a very small <br />package. <br />Minicomputers, also knows as midrange computers, are desk-sized machines. [2]They fall into <br />between microcomputers and mainframes in their processing speeds and data-storing capacities. <br />Medium-size companies or departments of large companies typically use them for specific purposes. <br />For example, they might use them to do research or to monitor a particular manufacturing process. <br />Smaller-size companies typically use microcomputers for their general data processing needs, such as <br />accounting. <br />Mainframe computers are larger computers occupying specially wired, air-conditioned rooms <br />and capable of great processing speeds and data storage. They are used by large organizations <br />business, banks, universities, government agencies—to handle millions of transactions. For <br />example, insurance companies use mainframes to process information about millions of policyholders. <br />Supercomputers are special, high-capacity computers used by very large organizations principally <br />for research purposes. Among their uses are oil exploration and worldwide weather forecasting. <br />In general, a computer's type is determined by the following seven factors:</p> <p>The type of CPU. Microcomputers use microprocessors. The larger computers tend to use <br />CPUs made up of separate, high-speed, sophisticated components. <br />The amount of main memory the CPU can use. A computer equipped with a large <br />amount of main memory can support more sophisticated programs and can even hold several <br />different programs in memory at the same time. <br />The capacity of the storage devices. The larger computers systems tend to be equipped <br />with higher capacity storage devices. <br />The speed of the output devices. [3]The speed of microcomputer output devices tends to be <br />rated in terms of the number of characters per second (cps) that can be printed usually in tens <br />and hundreds of cps. Larger computers' output devices are faster and are usually rated at speeds <br />of hundreds or thousands of lines that can be printed per minute. <br />The processing speed in millions of instructions per second (mips). The term instruction <br />is used here to describe a basic task the software asks the computer to perform while also <br />identifying the data to be affected. The processing speed of the smaller computers ranges from 7 <br />to 40 mips. The speed of large computers can be 30 to 150 mips or more, and supercomputers <br />can process more than 200 mips. In other words, a mainframe computer can process your data a <br />great deal faster than a microcomputer can. <br />The number of users that can access the computer at one time. Most small computers <br />can support only a single user, some can support as many as two or three at a time. Large <br />computers can support hundreds of users simultaneously. <br />The cost of the computer system. Business systems can cost as little as $500 (for a <br />microcomputer) or as much as $10 million (for a mainframe) and much more for supercomputer.</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-01-four-kinds-of-computers.html" data-flip="title">it-e-01 four kinds of computers</a></p> </article> <article id="post-%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-02-web-harvesting" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-02-web-harvesting.html" data-flip="title"> it-e-02 web harvesting </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:31:24+08:00">26 May 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>As the amount of information on the Web grows, that information becomes ever harder to <br />keep track of and use. Search engines are a big help, but they can do only part of the work, and <br />they are hard-pressed to keep up with daily changes. <br />Consider that even when you use a search engine to locate data, you still have to do the <br />following tasks to capture the information you need: scan the content until you find the <br />information, mark the information (usually by highlighting with a mouse), switch to another <br />application ( such as a spreadsheet, database or word processor), paste the information into that <br />application.</p> <p>A better solution, especially for companies that are aiming to exploit a broad swath of data <br />about markets or competitors, lies with Web harvesting tools. <br />Web harvesting software automatically extracts information from the Web and picks up <br />where search engines leave off, doing the work the search engine can't. Extraction tools automate <br />the reading, copying and pasting necessary to collect information for analysis, and they have <br />proved useful for pulling together information on competitors, prices and financial data or all <br />types. <br />There are three ways we can extract more useful information from the Web. <br />The first technique, Web content harvesting, is concerned directly with the specific content <br />of documents or their descriptions, such as HTML files, images or e-mail messages. Since most <br />text documents are relatively unstructured (at least as far as machine interpretation is concerned), <br />one common approach is to exploit what's already known about the general structure of <br />documents and map this to some data model. <br />The other approach to Web content harvesting involves trying to improve on the content <br />searches that tools like search engines perform. This type of content harvesting goes beyond <br />keyword extraction and the production of simple statistics relating to words and phrases in <br />documents. <br />Another technique, Web structure harvesting, takes advantage of the fact that Web pages <br />can reveal more information than just their obvious content. Links from other sources that point <br />to a particular Web page indicate the popularity of that page, while links within a Web page that <br />point to other resources may indicate the richness or variety of topics covered in that page. This <br />is like analyzing bibliographical citations— paper that's often cited in bibliographies and other <br />paper is usually considered to be important. <br />The third technique, Web usage harvesting, uses data recorded by Web servers about user <br />interactions to help understand user behavior and evaluate the effectiveness of the Web structure. <br />General access—pattern tracking analyzes Web logs to understand access patterns and <br />trends in order to identify structural issues and resource groupings. <br />Customized usage tracking analyzes individual trends so that Web sites can be personalized <br />to specific users. Over time, based on access patterns, a site can be dynamically customized for a <br />user in terms of the information displayed , the depth of the site structure and the format of the <br />resource presented.</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-02-web-harvesting.html" data-flip="title">it-e-02 web harvesting</a></p> </article> <article id="post-java/2011/05/26/%e8%af%bbthe-definitive-antlr-reference" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2011/05/26/e8-af-bbthe-definitive-antlr-reference.html" data-flip="title"> 读The Definitive ANTLR Reference </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:30:44+08:00">26 May 2011</time> in <span>Java</span> on <span>Java</span>, <span>读书笔记</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>没看的很明白，摸出来的。</p> <p>lexer?parser?tree?token?</p> <p>token以大写字母开头，对应目标语言的静态字段。</p> <p>rule以小写字母开头对应目标语言的实例方法。</p> <p>token里面的连接表现和rule里面的连接表现是不一样的。</p> <p>TOKEN:</p> <p>'h' 'i' //匹配hi</p> <p>rule:</p> <p>'h' 'i'//匹配h i,不匹配hi[中间有空格的区别]</p> <p>子rule用()包含</p> <p>action用{}包含，使用目标语言写</p> <p>ANTLR中表示字符要用“’”单引号括起来，用‘(’ ‘)’来表示括号字符</p> <p>channel:</p> <p>解析的token放在不同的channel,由你来设定。</p> <p>token序号是整体排序的</p> <p>The token buffer preserves the relative token order regardless of the token channel numbers.</p> <p> skip()小心用。</p> <p>WS : (' ' |'\t' |'\r' |'\n' )+ {skip();$channel=HIDDEN;} ; //这样将匹配丢到hidden chennel可行，那么不行需要再写其他的rule时总是要写WS匹配。例: WS?'hello' WS+ 'how' WS+ 'are' WS+ 'you' --&gt;'hello' 'how' 'are' 'you'.</p> <p>Method skip( ) in an embedded lexer rule action forces the lexer to throw <br />out the token and look for another.运行结果似乎是视而不见【抛弃】。</p> <p>fragment</p> <p>如果一个token被另外的token使用，则被使用的token需要加fragment标记。 </p> <p>如果加了fragment,则此token不要在rule里面直接引用[如果引用了会达不到预期结果]，而应该在其他的token里面引用。</p> <p> 对于没有加frgament的token又有个原则，它不能与其他的token有交集。即不能一个输入既可以匹配token1又可以匹配token2.</p> <p>使用antlrworks时，如果出现警告，尽量消除它。尽量列举所有的情况而不要使用多个* ?来匹配。</p> <p>错误解读：</p> <p>line 12:15 no viable alternative at input 'xxx'</p> <p> 12行15字碰到没有定义的输入xxx【定义中没有列举这样的输入情况】</p> <p>局部规则可能影响整个规则，特别对于+ *之类的泛匹配例如('a'..'z' | 'A'..'Z')+</p> <p>暂且放下：</p> <p>遇到的困难:</p> <p>1:对于无引号token不知如何识别，如果使用</p> <p>TOKEN=CHAR+</p> <p>rule = TOKEN+</p> <p>则可以匹配所有,造成整个语法混乱</p> <p>2：对于递归语法不知如何识别，例如</p> <p>[[...] [...]] 和 ((...) (...))</p> <p class="read-more">Continue reading <a class="heading" href="/java/2011/05/26/e8-af-bbthe-definitive-antlr-reference.html" data-flip="title">读The Definitive ANTLR Reference</a></p> </article> <article id="post-%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-03-computer-hardware" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-03-computer-hardware.html" data-flip="title"> it-e-03 Computer hardware </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:29:12+08:00">26 May 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>Computer hardware has four parts: the central processing unit (CPU) and memory, storage <br />hardware, input hardware, and output hardware. <br />The part of the computer that runs the program is known as the processor or central processing <br />unit (CPU). In a microcomputer, the CPU is on a single electronic component, the microprocessor <br />chip, within the system unit or system cabinet. The CPU itself has two parts: the control unit and <br />the arithmetic-logic unit. In a microcomputer, these are both on the microcomputer chip. <br />The Control Unit The control unit tells the rest of the computer system how to carry out a <br />program's instructions. It directs the movement of electronic signals between memory and the <br />arithmetic-logic unit. It also directs these control signals between the CPU and input and output <br />devices. <br />The Arithmetic-Logic Unit The arithmetic-logic unit, usually called the ALU, performs <br />two types of operations—arithmetic and logical. Arithmetic operations are, as you might expect, <br />the fundamental math operations: addition, subtraction, multiplication, and division. Logical <br />operations consist of comparisons. That is , two pieces of data are compared to see whether one is <br />equal to, less than, or greater than the other. <br />Memory Memory is also known as primary storage, internal storage, it temporarily holds <br />data, program instructions, and information. One of the most important facts to know about <br />memory is that part of its content is held only temporarily. In other words, it is stored only as <br />long as the computer is turned on. When you turn the machine off, the content immediately <br />vanish. The stored contents in memory are volatile and can vanish very quickly. <br />Storage Hardware [1]The purpose of storage hardware is to provide a means of storing <br />computer instructions and data in a form that is relatively permanent, that is, the data is not lost <br />when the power is turned off—and easy to retrieve when needed for processing.There are four <br />kinds of storage hardware: floppy disks, hard disks,optical disk,andmagnetic tape. <br />Floppy Disks Floppy disks are also called diskettes, flexible disks, floppies, or simply</p> <p>disks. The plastic disk inside the diskette cover is flexible, not rigid. They are flat, circular pieces <br />of mylar plastic that rotate within a jacket. Data and programs are stored as electromagnetic <br />charges on a metal oxide film coating the mylar plastic. <br />Hard Disks Hard disks consist of metallic rather than plastic platters. They are tightly <br />sealed to prevent any foreign matter from getting inside. Hard disks are extremely sensitive <br />instruments. The read-write head rides on a cushion of air about 0.000001 inch thick. It is so thin <br />that a smoke particle, fingerprint, dust, or human hair could cause what is known as a head crash. <br />A head crash happens when the surface of the read-write head or particles on its surface contact <br />the magnetic disk surface. A head crash is a disaster for a hard disk. It means that some or all of <br />the data on the disk is destroyed. Hard disks are assembled under sterile conditions and sealed <br />from impurities within their permanent containers. <br />Optical Disks Optical disks are used for storing great quantities of data. An optical disk can <br />hold 650 megabytes of data—the equivalent of hundreds of floppy disks. Moreover, an optical disk <br />makes an immense amount of information available on a microcomputer. In optical-disk technology, <br />a laser beamalters the surface of a plastic or metallic disk to represent data. To read the data, a laser <br />scans these areas and sends the data to a computer chip for conversion. <br />Magnetic Tape Magnetic tape is an effective way of making a backup, or duplicate, copy of <br />your programs and data. We mentioned the alarming consequences that can happen if a hard disk <br />suffers a head crash. You will lose some or all of your data or programs. Of course, you can always <br />make copies of your hard-disk files on floppy disks. However, this can be time-consuming and may <br />require many floppy disks. Magnetic tape is sequential access storage and can solve the problem <br />mentioned above. <br />Input Hardware Input devices take data and programs people can read or understand and <br />convert them to a form the computer can process. This is the machine-readable electronic signals <br />of 0s and 1s. Input hardware is of two kinds: keyboard entry and direct entry. <br />Keyboard Entry Data is input to the computer through a keyboard that looks like a <br />typewriter keyboard but has additional keys. In this method, the user typically reads from an <br />original document called the source document. The user enters that document by typing on the <br />keyboard. <br />Direct Entry :Data is made into machine-readable form as it is entered into the computer, <br />no keyboard is used. Direct entry devices may be categorized into three areas: pointing devices <br />(for example, mouse, touch screen, light pen, digitizer are all pointing devices), scanning devices <br />(for example, image scanner, fax machine, bar-code reader are all scanning devices), and <br />voice-input devices. <br />Output Hardware Output devices convert machine-readable information into people-readable <br />form. Common output devices are monitors, printers, plotters, and voice output. <br />Monitors Monitors are also called display screen or video display terminals. Most monitors that <br />sit on desks are built in the same way as television sets, these are called cathode-ray tubes. Another type <br />of monitor is flat-panel display, including liquid-crystal display (LCD), electroluminescent (EL) display</p> <p>and gas-plasma display. An LCD does not emit light of its own. Rather, it consists of crystal molecules. <br />[2]An electric field causes the molecules to line up in a way that alters their optical properties. <br />Unfortunately, many LCDs are difficult to read in sunlight or other strong light. A gas-plasma display is <br />the best type of flat screen. Like a neon light bulb, the plasma display uses a gas that emits light in the <br />presence of an electric current. <br />Printers There are four popular kinds of printers: dot-matrix, laser, ink-jet, and thermal. <br />Dot-Matrix Printer Dot-matrix printers can produce a page of text in less than 10 seconds <br />and are highly reliable. They form characters or images using a series of small pins on a print <br />head. The pins strike an inked ribbon and create an image on paper. Printers are available with <br />print heads of 9, 18, or 24 pins. One disadvantage of this type of printer is noise. <br />Laser Printer The laser printer creates dotlike images on a drum, using a laser beam light <br />source. [3]The characters are treated with a magnetically charged inklike toner and then are <br />transferred from drum to paper. A heat process is used to make the characters adhere. The laser <br />printer produces images with excellent letter and graphics quality. <br />Ink-Jet Printer An ink-jet printer sprays small droplets of ink at high speed onto the <br />surface of the paper. This process not only produces a letter-quality image but also permits <br />printing to be done in a variety of colors. <br />Thermal Printer A thermal printer uses heat elements to produce images on heat-sensitive <br />paper. Color thermal printers are not as popular because of their cost and the requirement of <br />specifically treated paper. They are a more special use printer that produces near photographic <br />output. They are widely used in professional art and design work where very high quality color is <br />essential. <br />Plotters Plotters are special-purpose output devices for producing bar charts, maps, architectural <br />drawings, and even three-dimensional illustrations. Plotters can produce high-quality multicolor <br />documents and also documents that are larger in size than most printers can handle. There are four types <br />of plotters: pen, ink-jet, electrostatic, and direct imaging. <br />Voice-Output Devices Voice-output devices make sounds that resemble human speech but <br />actually are pre-recorded vocalized sounds. Voice output is used as a reinforcement tool for <br />learning, such as to help students study a foreign language. It is used in many supermarkets at the <br />checkout counter to confirm purchases. Of course, one of the most powerful capabilities is to <br />assist the physically challenged.</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/05/26/it-e-03-computer-hardware.html" data-flip="title">it-e-03 Computer hardware</a></p> </article> <article id="post-linux/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/xshell%e9%85%8d%e7%bd%ae%e5%af%bc%e5%87%ba%e5%a4%87%e4%bb%bd" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/linux/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/xshell-e9-85-8d-e7-bd-ae-e5-af-bc-e5-87-ba-e5-a4-87-e4-bb-bd.html" data-flip="title"> xshell配置导出备份 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:28:34+08:00">26 May 2011</time> in <span>Linux</span> / <span>默认分类</span> on <span>Xshell</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>xshell配置文件可通过如下方式找到：</p> <p>点击打开，出现sessions对话框</p> <p><a href="http://kazge.com/wp-content/uploads/2011/05/6ebc7152e122acda8d5430ff.jpg"><img style="border-bottom: 0px;border-left: 0px;border-top: 0px;border-right: 0px" border="0" alt="6ebc7152e122acda8d5430ff" src="/assets/6ebc7152e122acda8d5430ff_thumb.jpg" width="644" height="359" /></a> </p> <p>打开session folder即可看到所有配置文件了。</p> <p class="read-more">Continue reading <a class="heading" href="/linux/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/xshell-e9-85-8d-e7-bd-ae-e5-af-bc-e5-87-ba-e5-a4-87-e4-bb-bd.html" data-flip="title">xshell配置导出备份</a></p> </article> <article id="post-java/2011/05/26/skype4java" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2011/05/26/skype4java.html" data-flip="title"> skype4java : </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T12:27:20+08:00">26 May 2011</time> in <span>Java</span> on <span>Java</span>, <span>Skype</span>, <span>Swt</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>skype4java 地址:</p> <p>http://skype.sourceforge.jp/index.php?Skype%20API%20For%20Java%20%28English%29</p> <p>使用jni封装skype com+接口</p> <p>但其</p> <p>Win32Connector::protected void initializeImpl() 方法有些问题，其意图是如果没又找到skype库就从包里面解压缩skype.dll到临时文件夹下，但是我不知道为什么作者要用zip遍历，而不是使用类加载器获得资源来解压缩。</p> <p>我做的修改:</p> <p>try { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.loadLibrary(&quot;skype&quot;); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; } catch(Throwable e) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; try { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if(!ConnectorUtils.checkLibraryInPath(LIBFILENAME)) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String dllPath; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; String tmpDir = System.getProperty(&quot;java.io.tmpdir&quot;); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if(!tmpDir.endsWith(&quot;&quot; + File.separatorChar)) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmpDir = tmpDir + File.separatorChar; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dllPath = tmpDir + LIBFILENAME; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; File dll = new File(dllPath); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if(!dll.exists()) { <br />extractDll(dll); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if(!dll.exists()) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; throw new RuntimeException(&quot;can't load &quot; + dllPath); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.load(dllPath); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } catch(Exception e1) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; throw new RuntimeException(e1); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p> <p>private void extractDll(File destFile) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; ClassLoader loader = Thread.currentThread().getContextClassLoader(); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; InputStream input = loader.getResourceAsStream(LIBFILENAME); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; FileOutputStream output = null; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; try { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; output = new FileOutputStream(destFile); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; byte[] buffer = new byte[1024 * 4]; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; long count = 0; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; int n = 0; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; while(-1 != (n = input.read(buffer))) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; output.write(buffer, 0, n); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; count += n; <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; } catch(Exception e) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; throw new RuntimeException(e); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; } finally { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; try { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if(null != input) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; input.close(); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } catch(IOException e) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; try { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if(null != output) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; output.close(); <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } catch(IOException e) { <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; } <br />&#160;&#160;&#160; }</p> <p>需要</p> <p>winp.jar 检查是否running</p> <p>swt.jar 借用OS基础功能</p> <p class="read-more">Continue reading <a class="heading" href="/java/2011/05/26/skype4java.html" data-flip="title">skype4java :</a></p> </article> <h2 class="sr-only">Pagination</h2> <nav class="pagination heading" role="navigation"> <ul> <li class="pagination-item older" > <a rel="next" href="/page-62/">Older</a> </li> <li class="pagination-item newer" > <a rel="prev" href="/page-60/">Newer</a> </li> </ul> </nav> <footer> <hr/> <p>© 2011 - 2017. All rights reserved.</p> <p> <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code> </p> </footer> </main> </div> <div id="_yDrawer"> <div id="_sidebar" class="sidebar"> <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url()"></div> <header class="sidebar-sticky" role="banner"> <div class="sidebar-about"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" /> </div> <div class="sidebar-about"> <h1><a id="_title" href="/">Ka's Blog</a></h1> <p>Ka’s blog description…</p> </div> <nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span> <ul> <li> <a class="sidebar-nav-item" href="/categories.html">Categories</a> </li> <li> <a class="sidebar-nav-item" href="/archive.html">Archive</a> </li> <li> <a class="sidebar-nav-item" href="/tags.html">Tags</a> </li> <li> <a class="sidebar-nav-item" href="/about.html">About</a> </li> </ul> </nav> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </header> </div> </div> </div> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script> <!--<![endif]--> </body>
</html>
