<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
--><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <title>Ka's Blog &middot; Ka's Blog</title> <meta name="description" content="Ka’s blog description… "> <link rel="canonical" href="http://localhost:4000/page-60/"> <link rel="alternate" type="application/atom+xml" title="Ka's Blog Feed" href="http://localhost:4000/feed.xml"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"> <!-- Place favicon.ico in the root directory --> <link rel="stylesheet" href="/assets/style.css"> <link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"> <link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|') }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; </script> <!--<![endif]--> <script> !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window.disablePushState = false; window.disableDrawer = false; </script> <!--[if lt IE 9]> <script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script> <![endif]--> <!--[if gt IE 8]><!----> <style> article, aside, dialog, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } mark { background: #FF0; color: #000; } * { box-sizing: border-box; } html, body { margin: 0; padding: 0; } html { font-size: 16px; line-height: 1.75; } body { color: #333; background-color: #fff; overflow-y: scroll; } a { text-decoration: none; } .lead { margin-left: -1rem; margin-right: -1rem; } img, .img { display: block; max-width: 100%; margin-bottom: 1rem; border: none; } img.lead, .img.lead { max-width: calc(100% + 2rem); width: calc(100% + 2rem); } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-weight: bold; text-rendering: optimizeLegibility; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 { margin: 3rem 0 1rem; line-height: 1.6; } h1, .h1 { font-size: 2rem; line-height: 1.25; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.17em; } p { margin-top: 0; margin-bottom: 1rem; } p.lead { font-size: 1.25rem; font-weight: 300; padding: 0 1rem; } ul, ol, dl { margin-top: 0; margin-bottom: 1rem; } ul, ol { padding-left: 1.25rem; } hr { position: relative; margin: 1.5rem 0; border: 0; border-top: 1px solid #eee; } .hr { padding-bottom: .5rem; border-bottom: 1px solid #eee; margin-bottom: 1.5rem; } h4, h5, h6, .h4, .h5, .h6 { margin-bottom: 0.5rem; font-size: 1rem; } table { margin-bottom: 1rem; width: 100%; width: calc(100% + 2rem); margin-left: -1rem; border: 1px solid #e5e5e5; border-collapse: collapse; border-spacing: 0; } td, th { padding: .25rem .5rem; border: 1px solid #e5e5e5; } td:first-child, th:first-child { padding-left: 1rem; } td:last-child, th:last-child { padding-right: 1rem; } thead + tbody, tbody + tbody, tfoot { border-top: 3px double #e5e5e5; } tbody tr:nth-child(odd) td, tbody tr:nth-child(odd) th { background-color: #f9f9f9; } footer { margin-bottom: 2rem; } .page, .post { margin-bottom: 3em; } .page li + li, .post li + li { margin-top: .25rem; } .page > header, .post > header { margin-bottom: 2rem; } .page-title, .post-title { margin-top: 0; } .post-date { display: block; margin-top: -0.5rem; margin-bottom: 1rem; color: #9a9a9a; } .related-posts { padding-left: 0; list-style: none; } .related-posts > li, .related-posts > li + li { margin-top: 1rem; } .related-posts > li > small, .related-posts > li + li > small { font-size: 75%; color: #9a9a9a; } .message { margin-bottom: 1rem; padding: 1rem; color: #787878; background-color: #f9f9f9; margin-left: -1rem; margin-right: -1rem; } /* * Global resets * * Update the foundational and global aspects of the page. */ body, main { /* Prevent side-scrolling on mobile */ position: relative; overflow-x: hidden; } @media screen { body::before { content: ''; width: .5rem; background: #e5e5e5; position: absolute; left: 0; top: 0; bottom: 0; } } @media screen and (min-width: 40em) { html { font-size: 17px; } } @media screen and (min-width: 54em) { html { font-size: 16px; } } @media screen and (min-width: 72em) { html { font-size: 17px; } } @media screen and (min-width: 125em) { html { font-size: 18px; } } .sr-only { display: none; } .clearfix, .sidebar-social::after, .clearafter::after { content: ""; display: table; clear: both; } a, .a { position: relative; padding-bottom: .15rem; border-bottom: 1px solid; } .img { overflow: hidden; background-color: #f9f9f9; } .img > img { margin: 0; width: 100%; height: 100%; } .sixteen-nine { position: relative; } .sixteen-nine::before { display: block; content: ""; width: 100%; padding-top: 56.25%; } .sixteen-nine > * { position: absolute; top: 0; left: 0; right: 0; bottom: 0; } h1 + hr, h2 + hr, h3 + hr, h4 + hr, h5 + hr, h6 + hr { margin-top: 0; } .fade-in { animation-duration: 500ms; animation-name: fade-in; animation-fill-mode: forwards; } @keyframes fade-in { from { transform: translateY(-2rem); opacity: 0; } 50% { transform: translateY(-2rem); opacity: 0; } to { transform: translateY(0); opacity: 1; } } .mb6 { margin-bottom: 6rem; } .sidebar { color: rgba(255, 255, 255, 0.75); text-align: left; /* Sidebar links */ } .sidebar::before { /* make sidebar slightly darker to increase text readability (when using a background image) */ content: ""; position: absolute; z-index: 2; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ } .sidebar a { color: #fff; border-bottom-color: rgba(255, 255, 255, 0.2); } #_yDrawer { position: relative; padding: 1rem 0; } @media screen { #_yDrawer { padding: 2rem 1rem; min-height: 640px; min-height: 100vh; } } @media screen and (min-width: 54em) { #_yDrawer { position: fixed; top: 0; left: 0; bottom: 0; width: 18rem; margin-left: 0; } } @media screen and (min-width: 97.5em) { #_yDrawer { width: calc(50% - 28rem); } } @media screen { #_yDrawer.loaded { min-height: 0; padding: 0; } } .sidebar-bg { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #202020 center / cover; } .sidebar-sticky { position: relative; z-index: 3; } @media screen { .sidebar-sticky { position: absolute; right: 2rem; bottom: 1rem; left: auto; max-width: 14rem; } } @media print { .sidebar-sticky { padding: 0 2rem; } } /* About section */ .sidebar-about > h1 { color: #fff; font-size: 2rem; } .sidebar-nav > ul { list-style: none; padding-left: 0; margin-bottom: .5rem; } a.sidebar-nav-item { font-weight: bold; display: block; line-height: 1.75; padding: .25rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.2); } @media screen { .y-drawer-scrim { z-index: 2; } .y-drawer-content { width: 18rem; left: -17.5rem; z-index: 3; } } @media screen and (min-width: 97.5em) { .y-drawer-content { width: calc(50% - 28rem); } } .sidebar-social { margin-bottom: .5rem; } .sidebar-social > ul { list-style: none; padding-left: 0; margin: 0 -.25rem; } .sidebar-social > ul > li { float: left; margin: 0 .25rem; } .sidebar-social > ul > li > a { display: inline-block; text-align: center; font-size: 1.6rem; line-height: 3rem; width: 3.1249rem; height: 4rem; padding: .5rem 0; } .sidebar-social > ul li + li { margin-top: 0; } .fixed-top { position: fixed; top: 0; left: 0; width: 100%; z-index: 1; } .navbar > .content { padding-top: 0; padding-bottom: 0; min-height: 0; height: 0; } .menu { display: inline-block; padding: 1.75rem 1.5rem; border-bottom: none; margin-left: -1.5rem; color: #9a9a9a !important; } .menu::after { content: "\2630"; } @media screen and (min-width: 54em) { .menu { padding: 1.25rem 1.5rem; position: absolute; left: -9999px; } .menu:focus { position: static; } } .animation-main { pointer-events: none; } .loading { display: none; } @media print { .menu { display: none; } } .animation-main { opacity: 0; will-change: opacity; } .loading { position: absolute; top: 0; right: 0; padding: 5.25rem 4.5rem; transform-origin: top right; transform: scale(0.33); } .content { position: relative; margin-left: auto; margin-right: auto; padding: 5rem 1rem 12rem; } @media screen { .content { max-width: 38rem; padding-left: 1.5rem; min-height: 100vh; } } @media screen and (min-width: 54em) { .content { max-width: 42rem; padding: 4rem 1rem 12rem; margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 72em) { .content { margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 92em) { .content { max-width: 48rem; } } @media screen and (min-width: 97.5em) { .content { margin: auto; } } .me { float: right; width: 6.5rem; height: 6.5rem; margin-left: 1rem; margin-bottom: .5rem; border-radius: 100%; position: relative; } @media screen and (min-width: 40em) { .me { width: 7rem; height: 7rem; } } @media screen and (min-width: 54em) { .me { width: 6.5rem; height: 6.5rem; } } @media screen and (min-width: 60em) { .me { width: 7rem; height: 7rem; } } main > footer { position: absolute; bottom: 0; left: 0; right: 0; padding: 0 1rem; color: #9a9a9a; font-size: smaller; text-align: center; } main > footer > p { margin-bottom: 0; } /* .card, .pagination-item { border-radius: 0!important; } */ /* @media screen { .sidebar-sticky { left: 2rem; max-width: none; } } */ html { font-family: Helvetica, Arial, sans-serif; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Helvetica, Arial, sans-serif; } </style> <link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1"> <script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script> <!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed --> <style id="_pageStyle"> .content a { color: #4f86aa; border-color: rgba(79, 134, 170, 0.2); } .content a:hover { border-color: #4f86aa; } :focus { outline-color: #4f86aa; } ::selection { color: #fff; background: #4f86aa; } ::-moz-selection { color: #fff; background: #4f86aa; } </style> <noscript> <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i"> <style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif } </style> <link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--<![endif]--> <!--[if gt IE 8]><!----> <script async src="/assets/bower_components/webfontloader/webfontloader.js"></script> <!--<![endif]--> </head> <body> <div class="navbar fixed-top"> <div class="content"> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu no-hover" href="#_title"> <span class="sr-only">Menu</span> </a> </div> </div> <div id="_yPushState"> <div class="fade-in"> <main id="_main" class="content" role="main" data-color="#4f86aa" data-image=""> <article id="post-java/2011/05/27/hyperic-hq%e7%ac%94%e8%ae%b0" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/java/2011/05/27/hyperic-hq-e7-ac-94-e8-ae-b0.html" data-flip="title"> hyperic hq笔记 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-27T08:30:44+08:00">27 May 2011</time> in <span>Java</span> on <span>Hq</span>, <span>Hyperic</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p class="MsoNormal"><span style="font-family: 宋体;color: black;font-size: 11pt">下载包的时候最好选择版本，它看你下载的平台默认为</span><span style="font-family: arial;color: black;font-size: 11pt" lang="EN-US">win32</span><span style="font-family: 宋体;color: black;font-size: 11pt">的。</span><span lang="EN-US"> <br /><a href="http://sourceforge.net/projects/hyperic-hq/files/"><span style="font-family: arial;color: #000099;font-size: 11pt">http://sourceforge.net/projects/hyperic-hq/files/</span></a> </p> <p></span><span style="font-family: 宋体;color: black;font-size: 11pt">在线文档说明安装步骤比较详细</span><span lang="EN-US"> <br /><a href="http://support.hyperic.com/display/DOC/HQ+Documentation"><span style="font-family: arial;color: #000099;font-size: 11pt">http://support.hyperic.com/display/DOC/HQ+Documentation</span></a> <br /></span><span style="font-family: 宋体;color: black;font-size: 11pt">默认安装的话</span><span style="font-family: arial;color: black;font-size: 11pt" lang="EN-US">(</span><span style="font-family: 宋体;color: black;font-size: 11pt">不带任何参数</span><span style="font-family: arial;color: black;font-size: 11pt" lang="EN-US">)</span><span style="font-family: 宋体;color: black;font-size: 11pt">，就是自带的数据库</span><span style="font-family: arial;color: black" lang="EN-US">postgresql ,</span><span style="font-family: 宋体;color: black">解压缩后的安装</span><span style="font-family: arial;color: black" lang="EN-US">bat</span><span style="font-family: 宋体;color: black">脚本有些古怪，必须直接执行才可以，把它拖到，命令行执行反而不行。</span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">安装后，启动命令在安装目录下</span><span style="font-family: arial;color: black" lang="EN-US">buldles</span><span style="font-family: 宋体;color: black">文件夹下的</span><span style="font-family: arial;color: black" lang="EN-US">bin</span><span style="font-family: 宋体;color: black">里面，而不是安装目录的</span><span style="font-family: arial;color: black" lang="EN-US">bin</span><span style="font-family: 宋体;color: black">下面，搞不懂。</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">下载源码</span><span style="font-family: arial;color: black" lang="EN-US">:</span><span lang="EN-US"> <br /><a href="http://hyperic-hq.svn.sourceforge.net/viewvc/hyperic-hq/src/?view=tar"><span style="font-family: arial;color: #000099">http://hyperic-hq.svn.sourceforge.net/viewvc/hyperic-hq/src/?view=tar</span></a> </p> <p></span><span style="font-family: 宋体;color: black">稍微看了一下</span><span style="font-family: arial;color: black" lang="EN-US">tomcat </span><span style="font-family: 宋体;color: black">的</span><span style="font-family: arial;color: black" lang="EN-US">plugin</span><span style="font-family: 宋体;color: black">写法，基于</span><span style="font-family: arial;color: black" lang="EN-US">jmx,</span><span style="font-family: 宋体;color: black">要求</span><span style="font-family: arial;color: black" lang="EN-US">tomcat</span><span style="font-family: 宋体;color: black">开放</span><span style="font-family: arial;color: black" lang="EN-US">jmx</span><span style="font-family: 宋体;color: black">服务才行。</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black" lang="EN-US">tomcat6</span><span style="font-family: 宋体;color: black">是自动发现了，但是没有发现本机的</span><span style="font-family: arial;color: black" lang="EN-US">tomcat5.5</span><span style="font-family: 宋体;color: black">。</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black" lang="EN-US">plugin</span><span style="font-family: 宋体;color: black">分针对</span><span style="font-family: arial;color: black" lang="EN-US">server</span><span style="font-family: 宋体;color: black">的和针对</span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">的。</span><span lang="EN-US"> </p> <p></span><span style="font-family: arial;color: black" lang="EN-US">HQU--</span><span style="font-family: 宋体;color: black">可认为是服务端</span><span style="font-family: arial;color: black" lang="EN-US">plugin,</span><span style="font-family: 宋体;color: black">用于增加监视器，</span><span style="font-family: arial;color: black" lang="EN-US">UI</span><span style="font-family: 宋体;color: black">界面等。</span><span lang="EN-US"> <br /><a href="http://support.hyperic.com/display/hypcomm/HQU+Documentation"><span style="font-family: arial;color: #000099">http://support.hyperic.com/display/hypcomm/HQU+Documentation</span></a> <br /></span><span style="font-family: arial;color: black" lang="EN-US">4.5</span><span lang="EN-US"> <br /><a href="http://support.hyperic.com/display/EVO/Introduction+to+Plugin+Development"><span style="font-family: arial;color: #000099;font-size: 11pt">http://support.hyperic.com/display/EVO/Introduction+to+Plugin+Development</span></a> </p> <p></span><span style="font-family: 宋体;color: black">如下的文档又说可以放在</span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">目录下面</span><span lang="EN-US"> <br /><a href="http://support.hyperic.com/display/DOC/Plugin+Development+Center"><span style="font-family: arial;color: #000099">http://support.hyperic.com/display/DOC/Plugin+Development+Center</span></a> </p> <p></span><span style="font-family: 宋体;color: black">对于</span><span style="font-family: arial;color: black" lang="EN-US">ipf admin</span><span style="font-family: 宋体;color: black">来说，只需要服务端</span><span style="font-family: arial;color: black" lang="EN-US">plugin(JMX)</span><span style="font-family: 宋体;color: black">来监听个机器上开放的</span><span style="font-family: arial;color: black" lang="EN-US">(JVM Managaer)</span><span style="font-family: 宋体;color: black">服务即可。</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">使用</span><span style="font-family: arial;color: black" lang="EN-US">pdk:&lt;Agent Directory&gt;/pdk</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">这个</span><span style="font-family: arial;color: black" lang="EN-US">Server UI</span><span style="font-family: 宋体;color: black">大概是</span><span style="font-family: arial;color: black" lang="EN-US">struts2</span><span style="font-family: 宋体;color: black">写的，奇慢，又丑，</span><span style="font-family: arial;color: black" lang="EN-US">……</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">测试本地</span><span style="font-family: arial;color: black" lang="EN-US">jmx</span><span style="font-family: 宋体;color: black">都没自动发现</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">从</span><span style="font-family: arial;color: black" lang="EN-US">Server </span><span style="font-family: 宋体;color: black">下面的</span><span style="font-family: arial;color: black" lang="EN-US">tomcat</span><span style="font-family: 宋体;color: black">的控制说明可知，需要配置</span><span style="font-family: arial;color: black" lang="EN-US">tomcat</span><span style="font-family: 宋体;color: black">才能控制</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">To configure Tomcat for JMX monitoring see http://tomcat.apache.org/tomcat-6.0-doc/monitoring.html.</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">For a quick down and dirty method follow these instructions,</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">in /bin/catalina.sh add:</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">[ $1 != &quot;stop&quot; ] &amp;&amp; JAVA_OPTS=&quot;-Dcom.sun.management.jmxremote \</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">-Dcom.sun.management.jmxremote.port=6969 \</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">-Dcom.sun.management.jmxremote.ssl=false \</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">-Dcom.sun.management.jmxremote.authenticate=false $JAVA_OPTS&quot;</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 8pt" lang="EN-US">export JAVA_OPTS</span><span lang="EN-US"> <br /></span><span style="font-family: 宋体;color: black;font-size: 14pt">看来还得自己实现</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 11pt" lang="EN-US">4.5</span><span style="font-family: 宋体;color: black;font-size: 11pt">的文档</span><span lang="EN-US"> <br /><a href="http://support.hyperic.com/display/EVO/"><span style="font-family: arial;color: #000099;font-size: 11pt">http://support.hyperic.com/display/EVO/</span></a> <br /></span><span style="font-family: 宋体;color: black;font-size: 11pt">用户手册中说</span><span lang="EN-US"> <br /></span><span style="font-family: arial;color: black;font-size: 11pt" lang="EN-US">jmx</span><span style="font-family: 宋体;color: black;font-size: 11pt">必须自己配置</span><span style="font-family: arial;color: black;font-size: 11pt" lang="EN-US">plugin</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">它的文档真是恼火，看半天还是从这里看到一些信息：</span></p> <p>The 3.0.2 and earlier versions of the MxServerDetector would auto-configure jmx.url using the port defined by the command line argument: <br />-Dcom.sun.management.jmxremote.port=xxxx</p> <p>Servers run with just the local connector enabled do not define a port, so the jmx.url ptql query must be manually configured. <br />This enhancement will auto-configure jmx.url to use the local connector if java is start with -Dcom.sun.management.jmxremote and ptql query is defined as the value like so: <br />-</p> <p>Dcom.sun.management.jmxremote=ptql:State.Name.eq=java,Args.*.eq=org.hyperic.MyMainClass</p> <p>Note: for standalone apps using the &quot;Sun JVM 1.5&quot; server type, server auto-discovery is not enabled by default. It can be turned on by adding the following to agent.properties: <br /><font color="#0000ff">jmx.sun.discover=true</font></p> <p><span lang="EN-US"><font color="#ff8040">对于下面这样一段话，我看了n遍不知道什么意思，简直要骂人！</font></span></p> <p><span lang="EN-US"></span>1. This code provides two methods — of which you must use one — for defining the install (base) path for <br />the process. </p>style="width: 575px;height: 169px"><pre><span style="color: #008000">&lt;!-- derive installpath from JAVA_HOME env prop... --&gt;</span>
</pre><pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span>=<span style="color: #0000ff">&quot;PROC_HOME_ENV&quot;</span> <span style="color: #ff0000">value</span>=<span style="color: #0000ff">&quot;JAVA_HOME&quot;</span><span style="color: #0000ff">/&gt;</span>
</pre><pre><span style="color: #008000">&lt;!-- derive installpath from -Dproc.java.home=... --&gt;</span>
</pre><pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span>=<span style="color: #0000ff">&quot;PROC_HOME_PROPERTY&quot;</span> <span style="color: #ff0000">value</span>=<span style="color: #0000ff">&quot;proc.java.home&quot;</span><span style="color: #0000ff">/&gt;</span>
</pre><pre></pre><p>If using the first method, replace JAVA_HOME with the environmental property of the process. If using the<br /> <br />second method, replace proc.java.home with the defined name-value pair argument of the process; the </p> <p>MxServer Detector class uses this variable to perform auto-discovery. </p> <p>You could instead use a third method: </p> <p></p>><pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span>=<span style="color: #0000ff">&quot;PROC_MAIN_CLASS&quot;</span> <span style="color: #ff0000">value</span>=<span style="color: #0000ff">&quot;proc.java.home&quot;</span><span style="color: #0000ff">/&gt;</span>
</pre><pre></pre><p>As with PROC_HOME_PROPERTY, this variable tells the MxServerDetector class to autodiscover the process<br /> <br />with this PTQL: State.Name.eq=java,Args.*.sw=-D&lt;value of proc main class&gt;. </p> <p>Any of these methods will set the installpath config variable to be the current working directory of the process </p> <p>in question. And while this is particularly useful for log-tracking and control plugins (which are outside the </p> <p>scope of this tutorial), this value is also used later [55] in this XML descriptor.</p> <p><span lang="EN-US"></span></p> <p class="MsoNormal"> <p><span style="font-family: 宋体;color: black">安装配置手册里面</span><span style="font-family: arial;color: black" lang="EN-US">:</span><span lang="EN-US"><br /> <br /></span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">向服务端发送数据包。</span><span lang="EN-US"><br /> <br /></span><span style="font-family: arial;color: black" lang="EN-US">server</span><span style="font-family: 宋体;color: black">向</span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">发送指令。</span><span lang="EN-US"> </p> <p></span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">第一次连接</span><span style="font-family: arial;color: black" lang="EN-US">server</span><span style="font-family: 宋体;color: black">时会告知向</span><span style="font-family: arial;color: black" lang="EN-US">server</span><span style="font-family: 宋体;color: black">开放的端口，</span><span style="font-family: arial;color: black" lang="EN-US">server</span><span style="font-family: 宋体;color: black">记在</span><span style="font-family: arial;color: black" lang="EN-US">database</span><span style="font-family: 宋体;color: black">里面发起连接。</span><span lang="EN-US"> </p> <p></span><span style="font-family: 宋体;color: black">手册上说</span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">启动脚本是直接在</span><span style="font-family: arial;color: black" lang="EN-US">agent_home/bin</span><span style="font-family: 宋体;color: black">下的脚本。</span><span lang="EN-US"><br /> <br /></span><span style="font-family: arial;color: black" lang="EN-US">linux</span><span style="font-family: 宋体;color: black">下面是如此，但是</span><span style="font-family: arial;color: black" lang="EN-US">windows</span><span style="font-family: 宋体;color: black">下似乎要在</span><span style="font-family: arial;color: black" lang="EN-US">bundles</span><span style="font-family: 宋体;color: black">里面的。</span><span lang="EN-US"> </span></p> <p class="MsoNormal"><span lang="EN-US">如果出现No token file found, waiting for Agent to initialize的提示，说明原来的已经有个agent占用同样的端口运行在，需要停止。[这提示真是很威武] </p> <p></span><span style="font-family: arial;color: black" lang="EN-US">57</span><span style="font-family: 宋体;color: black">上安装</span><span style="font-family: arial;color: black" lang="EN-US">agent</span><span style="font-family: 宋体;color: black">后，能现实的就只有系统状态，其余都看不到。</span><span lang="EN-US"><br /> <br /></span><span style="font-family: arial;color: black" lang="EN-US">&#160;&#160;&#160; </span><span lang="EN-US"><br /> <br /></span><span style="font-family: arial;color: black" lang="EN-US">websphere</span><span style="font-family: 宋体;color: black">似乎是通过对安装路径里的分析来获得属性的。</span><span lang="EN-US"> </p> <p></span><span style="font-family: arial;color: black" lang="EN-US">api</span><span style="font-family: 宋体;color: black">示例</span><span style="font-family: arial;color: black" lang="EN-US">:</span><span lang="EN-US"><br /> <br /></span><span style="font-family: arial;color: black" lang="EN-US"><a href="http://svn.hyperic.org/projects/hqapi/trunk/src/org/hyperic/hq/hqapi1/test/">http://svn.hyperic.org/projects/hqapi/trunk/src/org/hyperic/hq/hqapi1/test/</a></span></p> <p class="MsoNormal"><span style="font-family: arial;color: black" lang="EN-US">不考虑跳过hyperic Server而写自己的jmx监视MBean的原因：</span></p> <p class="MsoNormal"><span style="font-family: arial;color: black" lang="EN-US">hyperic server 对于weblogic和websphere都有扩展的监控，如果跳过可能以后不好继续使用这方面的功能。</span></p> <p class="MsoNormal"><span style="font-family: arial;color: black" lang="EN-US">hyperic server还是做了些事情的，跳过它就丢弃了他提供的功能。</span></p> <p>hyperic的支持非常差，经常搜到的问题没有回复。也需要购买才行吧。</p> <p><font size="2">测试:</font></p> <p>对于如下的实例</p> <p><span style="color: #0000ff">&lt;?</span><span style="color: #800000">xml</span> <span style="color: #ff0000">version</span><span style="color: #0000ff">=&quot;1.0&quot;</span>?<span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">plugin</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;myjmx&quot;</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">server</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;myjmx&quot;</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;OBJECT_NAME&quot;</span> </p> <p><span style="color: #ff0000">value</span><span style="color: #0000ff">=&quot;*:type=abc&quot;</span><span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #008000">&lt;!-- derive installpath from -Djonas.base=... –&gt;</span> </p> <p><span style="color: #0000ff"><span style="color: #0000ff"><font color="#808080">line:10</font></span>&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;PROC_HOME_PROPERTY&quot;</span> <span style="color: #ff0000">value</span><span style="color: #0000ff">=&quot;proc.java.home&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff"><font color="#808080">line:11</font></span><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;PROC_MAIN_CLASS&quot;</span> <span style="color: #ff0000">value</span><span style="color: #0000ff">=&quot;co.ipmc.test.IpfServer&quot;</span><span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #008000">&lt;!-- XXX need to support time-stamp format --&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;DEFAULT_LOG_FILE&quot;</span> <span style="color: #ff0000">value</span><span style="color: #0000ff">=&quot;logs/my.log&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">config</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">option</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;jmx.url&quot;</span> <span style="color: #ff0000">description</span><span style="color: #0000ff">=&quot;JMX URL to MBeanServer&quot;</span> </p> <p><span style="color: #ff0000">default</span><span style="color: #0000ff">=&quot;service:jmx:rmi:///jndi/rmi://localhost:29999/server&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">option</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;process.query&quot;</span> <span style="color: #ff0000">description</span><span style="color: #0000ff">=&quot;PTQL for Java Process&quot;</span> <span style="color: #ff0000">default</span><span style="color: #0000ff">=&quot;State.Name.eq=java,Args.*.sw=proc.java.home&quot;</span><span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;/</span><span style="color: #800000">config</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">properties</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;serverVersion&quot;</span> <span style="color: #ff0000">description</span><span style="color: #0000ff">=&quot;Server Version&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">=&quot;serverVendor&quot;</span> <span style="color: #ff0000">description</span><span style="color: #0000ff">=&quot;Server Vendor&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;/</span><span style="color: #800000">properties</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">plugin</span> <span style="color: #ff0000">type</span><span style="color: #0000ff">=&quot;log_track&quot;</span> </p> <p><span style="color: #ff0000">class</span><span style="color: #0000ff">=&quot;org.hyperic.hq.product.Log4JLogTrackPlugin&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;</span><span style="color: #800000">plugin</span> <span style="color: #ff0000">type</span><span style="color: #0000ff">=&quot;autoinventory&quot;</span> </p> <p><span style="color: #ff0000">class</span><span style="color: #0000ff">=&quot;org.hyperic.hq.product.jmx.MxServerDetector&quot;</span> <span style="color: #0000ff">/&gt;</span> </p> <p><span style="color: #0000ff">&lt;/</span><span style="color: #800000">server</span><span style="color: #0000ff">&gt;</span> </p> <p><span style="color: #0000ff">&lt;/</span><span style="color: #800000">plugin</span><span style="color: #0000ff">&gt;</span> </p> <p></p> <p>对于10,11行，需要在运行的命令加入参数，如下</p> <p>java -jar run-test.jar -Dproc.java.home=/usr/java/jdk1.6.0_17 co.ipmc.test.IpfServer</p> <p>注意，就算run-test.jar包里面已经指明了主类，任然要在命令行里面写出主类。不然就找不到。</p> <p>最终通过如下命令测试</p> <p>java -jar bundles/agent-4.5.1/pdk/lib/hq-pdk-4.5.1.jar -Dplugin.include=myjmx -p myjmx -m discover</p> <p>&#160;</p> <p>终于发现了这个server了</p></p> <p>ERROR [Thread-1] [MxServerDetector] 'myjmx 3.0 Linux' measurement plugin not found<br /> <br />org.hyperic.hq.product.PluginNotFoundException: measurement plugin name=myjmx 3.0 Linux not found </p> <p>&#160;&#160;&#160; at org.hyperic.hq.product.PluginManager.getPlugin(PluginManager.java:286) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.product.ServerDetector.mergeConfigDefaults(ServerDetector.java:991) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.product.ServerDetector.setMeasurementConfig(ServerDetector.java:1024) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.product.DaemonDetector.newServerResource(DaemonDetector.java:201) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.product.jmx.MxServerDetector.getServerResource(MxServerDetector.java:323) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.product.jmx.MxServerDetector.getServerResources(MxServerDetector.java:379) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.autoinventory.scanimpl.NullScan.scan(NullScan.java:83) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.autoinventory.Scanner.start(Scanner.java:198) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.autoinventory.ScanManager.mainRunLoop(ScanManager.java:141) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.autoinventory.ScanManager.access$000(ScanManager.java:41) </p> <p>&#160;&#160;&#160; at org.hyperic.hq.autoinventory.ScanManager$1.run(ScanManager.java:107) </p> <p><font color="#0000ff">1 servers detected </font></p> <p>Server: SERV myjmx 3.0 [/usr/java/jdk1.6.0_17]<br /> <br />AIID...../usr/java/jdk1.6.0_17 </p> <p>config... </p> <p>product..process.query=State.Name.sw=java,Args.*.eq=co.ipmc.test.IpfServer,Args.*.eq=-Dproc.java.home=/usr/java/jdk1.6.0_17,jmx.url=service:jmx:rmi:///jndi/rmi://localhost:29999/server, </p> <p>metric... </p> <p>control..null </p> <p>Runtime Resource Report...<br /> <br />Platform=Linux, fqdn=192.168.0.10 (CentOS 5.2) </p> <p>config... </p> <p>product..null </p> <p>metric...platform.log_track.level=Warn,platform.log_track.enable=true,platform.config_track.enable=true, </p> <p>control..null </p> <p>cprops...cpuSpeed=8 @ 2128 MHz (8x16),defaultGateway=192.168.0.1,arch=x86_64,ram=16000 MB,vendor=CentOS,vendorVersion=5.2,primaryDNS=192.168.0.1,ip=192.168.122.1,version=2.6.18-92.el5xen, </p> <p>&#160;&#160; [No services discovered]</p> <p>然后兴冲冲的去重启agent,不断地刷server,仍然没出来。</p> <p>什么错也没报。真是很无语，这种东西用起来真吃力呀！</p> <p>到此为止吧，就算我愚钝不堪，仅为这么个基本的jmx配置就搞这半天，这个工具也太不好用了吧。</p> <p>总结一下感觉不爽的地方：</p> <ul> <li>相关资料稀少，使用者提出的问题鲜有人回答，往往是使用者之间的沟通而没有支持与使用者的沟通。估计使用的人也不多。</li> <li>官方写的文档这里引用那里，那里引用这里，转的头昏脑胀还是没搞明白，它就是不让你看懂。</li> <li>HQ server的UI太俗不说，反应非常慢，一个操作要隔几秒钟，按得我手疼。</li> <li>本机器上安装server后，机器反应速度奇慢，关闭server服务则明显改善，如果再跑上个agent那更不得了。我对其性能持怀疑态度，如果agent所在服务器服务多，再开上个agent那就是雪上加霜，不知这样的监控有多少可评测性。</li> </ul> <p class="read-more">Continue reading <a class="heading" href="/java/2011/05/27/hyperic-hq-e7-ac-94-e8-ae-b0.html" data-flip="title">hyperic hq笔记</a></p> </article> <article id="post-%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/qq%e6%8c%a4%e6%88%bf%e5%99%a8%e7%ba%af%e6%b4%81%e6%97%a0%e6%af%92%e7%89%88%e5%8f%91%e5%b8%83" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/qq-e6-8c-a4-e6-88-bf-e5-99-a8-e7-ba-af-e6-b4-81-e6-97-a0-e6-af-92-e7-89-88-e5-8f-91-e5-b8-83.html" data-flip="title"> QQ对战平台挤房器纯洁无毒版发布 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:19:53+08:00">26 May 2011</time> in <span>默认分类</span> on <span>Qq</span>, <span>对战平台</span>, <span>挤房器</span>, <span>无毒</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>本人爱玩星际，绝对菜鸟一族，QQ对战平台菜鸟群殴是我的最爱，但是挤房间很痛苦。网上下的挤房器都有毒，无奈之下自己写了个，绝对傻瓜，但也绝对纯洁。星际快乐:) .</p> <p><a href="http://kazge.com/wp-content/uploads/static/QQ_jifangqi_wudu.zip" target="_blank">挤房器下载地址</a></p> <p>使用win7的筒子们，需要使用管理员权限运行此软件，如果看到乱码，你就使用F2(开始)和F3(停止)这两个按钮就行了。注意要将鼠标放在你想挤的房间上面哦。</p> <p class="read-more">Continue reading <a class="heading" href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/qq-e6-8c-a4-e6-88-bf-e5-99-a8-e7-ba-af-e6-b4-81-e6-97-a0-e6-af-92-e7-89-88-e5-8f-91-e5-b8-83.html" data-flip="title">QQ对战平台挤房器纯洁无毒版发布</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2011/05/26/ie8-%e7%82%b9%e5%87%bb%e9%94%9a%e8%ae%b0%e8%a7%a6%e5%8f%91unload-unbeforeunload%e4%ba%8b%e4%bb%b6" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2011/05/26/ie8-e7-82-b9-e5-87-bb-e9-94-9a-e8-ae-b0-e8-a7-a6-e5-8f-91unload-unbeforeunload-e4-ba-8b-e4-bb-b6.html" data-flip="title"> ie8 点击锚记触发unload unbeforeunload事件 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:19:05+08:00">26 May 2011</time> in <span>Web前端</span> on <span>Javascript web 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>IE8中点击锚记，如果a标记的target不是_blank，且href不是#,则会触发window的onload和onbeforeunload. <br />也就是说--经常的写法href=&quot;javascript:void(0)&quot; 或 href=&quot;javascript://&quot;也是会触发事件，估计MS是被石头敲了。</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2011/05/26/ie8-e7-82-b9-e5-87-bb-e9-94-9a-e8-ae-b0-e8-a7-a6-e5-8f-91unload-unbeforeunload-e4-ba-8b-e4-bb-b6.html" data-flip="title">ie8 点击锚记触发unload unbeforeunload事件</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2011/05/26/ie8-window-open-locationno-statusno-%e4%b8%8d%e8%b5%b7%e4%bd%9c%e7%94%a8" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2011/05/26/ie8-window-open-locationno-statusno-e4-b8-8d-e8-b5-b7-e4-bd-9c-e7-94-a8.html" data-flip="title"> Ie8 window.open location=no status=no 不起作用 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:18:30+08:00">26 May 2011</time> in <span>Web前端</span> on <span>Javascript web 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>Ie8 window.open函数指定 location=no status=no 不起作用的原因是：ie8安全设置里需要加入站点为可信任站点，这种前提下，location=no status=no才会起作用。</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2011/05/26/ie8-window-open-locationno-statusno-e4-b8-8d-e8-b5-b7-e4-bd-9c-e7-94-a8.html" data-flip="title">Ie8 window.open location=no status=no 不起作用</a></p> </article> <article id="post-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2011/05/26/%e9%9a%8f%e6%83%b3%e8%bd%af%e4%bb%b6%e7%9a%84%e5%8a%a1%e5%ae%9e" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2011/05/26/e9-9a-8f-e6-83-b3-e8-bd-af-e4-bb-b6-e7-9a-84-e5-8a-a1-e5-ae-9e.html" data-flip="title"> [随想]软件的务实 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:17:55+08:00">26 May 2011</time> in <span>软件工程</span> on <span>Java</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>2010-07-09 23:04</p> <p>提示：软件书籍中常常见到所谓“企业级开发”，“企业级应用”。软件工程师们也津津乐道于此类词汇。纵观java的发展历程，促进其发展的因素往往是来自实际项目总结出来的需求，而不是此消彼长的众多概念； <br />大型项目到底有多大，做一点事情就”高瞻远瞩“，webservice,SOA,Mashup,基于构件，基于服务，弄出一堆好看不好用，实际应用到底需不需要这些； <br />hibernate,spring为什么不知觉中抛弃了ejb； <br />最近又发现很多很潮的概念都是IBM提出来的，想想微软也是爱忽悠，筒子们以后看他们的文章要多个心眼啊，不要不小心就成为他们的跟屁虫了. <br />最后International Big Mouse --shit!</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2011/05/26/e9-9a-8f-e6-83-b3-e8-bd-af-e4-bb-b6-e7-9a-84-e5-8a-a1-e5-ae-9e.html" data-flip="title">[随想]软件的务实</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2011/05/26/the-object-invoked-has-disconnected-from-its-clients-%e9%97%ae%e9%a2%98" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2011/05/26/the-object-invoked-has-disconnected-from-its-clients-e9-97-ae-e9-a2-98.html" data-flip="title"> the object invoked has disconnected from its clients 问题 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:17:19+08:00">26 May 2011</time> in <span>Web前端</span> on <span>Java</span>, <span>Javascript web 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>IE8 下出现 <tt>the object invoked has disconnected from its clients 脚本错误： <br />原因是跨窗体创建数组。解决办法是，数组在主窗体创建，而不要在别的窗体创建它。 <br /></tt>It seems like it is no longer safe to pass objects between windows. If the window that created the object is closed, the object will no longer be usable in other places. This causes a problems for popup-windows that tried to &quot;remember&quot; the active tab. The information must be stored in the main page, and the array object is created by the popup page. But once the popup was closed, the array could no longer be used. The result was an error message: <tt>the object invoked has disconnected from its clients</tt>. The solution is to let the main page create the array.</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2011/05/26/the-object-invoked-has-disconnected-from-its-clients-e9-97-ae-e9-a2-98.html" data-flip="title">the object invoked has disconnected from its clients 问题</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2011/05/26/window-open-%e5%ad%90%e7%aa%97%e4%bd%93%e7%9a%84onload%e4%ba%8b%e4%bb%b6" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2011/05/26/window-open-e5-ad-90-e7-aa-97-e4-bd-93-e7-9a-84onload-e4-ba-8b-e4-bb-b6.html" data-flip="title"> window.open 子窗体的onload事件 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:16:42+08:00">26 May 2011</time> in <span>Web前端</span> on <span>Javascript web 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>下面的写法： <br />&lt;script type=&quot;text/javascript&quot;&gt; <br />function ops(){ <br />var win = window.open('','_blank'); <br />win.onload = function(){ <br />alert('ok'); <br />}; <br />win.location.href = 'test.html'; <br />} <br />&lt;/script&gt; <br />&lt;/head&gt; <br />&lt;body&gt; <br />&lt;div class=&quot;bb&quot; onclick=&quot;ops();&quot;&gt; <br />圆角三边 这里是内容 <br />&lt;/div&gt; <br />&lt;/body&gt; <br />火狐里面是可以alert的，但是ie8就不行。 <br />解决办法是子窗体调父窗体的方法模拟回调。（IE真是让人纠结。）</p> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2011/05/26/window-open-e5-ad-90-e7-aa-97-e4-bd-93-e7-9a-84onload-e4-ba-8b-e4-bb-b6.html" data-flip="title">window.open 子窗体的onload事件</a></p> </article> <article id="post-%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2011/05/26/%e6%88%91%e7%9c%8b%e4%ba%ba%e4%bb%b6" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2011/05/26/e6-88-91-e7-9c-8b-e4-ba-ba-e4-bb-b6.html" data-flip="title"> 我看人件 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:16:08+08:00">26 May 2011</time> in <span>软件工程</span> on <span>读书笔记</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>[44/13]不要对员工太敏感，因为一个短期的考察结果错误的判断了长期的情况。 <br />[]有些功力是无法用实际度量的，还是不要太急躁。--催化剂效应 <br />西班牙人理论和英国人理论--看看英联邦国家和南美国家的现状就可以比较。 <br />没有加班这回事--在中国企业，行得通吗？ <br />人员流动的成本，有经验的和没经验的，对公司的感情？原始居民比率？ <br />[62/31] <br />[70/39]越是成熟的公司，工作越无趣--你以为 google是例外？ <br />第六章：苦杏仁苷 <br />这与我的软件务实一个意思 <br />[89/58] <br />一人一间办公室，做梦吧，中国 <br />[102/71] </p> <p>度量标准，度量往往是起反作用的。你怎么度量一个人？用评分制？中国高考是好参照。这是反话！</p> <p>[113/82]</p> <p>flow顺流,环境因子=不被打扰的时间/体力出勤时间.</p> <p>电话</p> <p>关门</p> <p>一起工作的在一间办公室</p> <p>[136/105]</p> <p>窗子，空间，平等，特色……</p> <p>爆米花不够专业</p> <p>工作试讲，能力倾向性测试</p> <p>[170/139]</p> <p>公司 搬迁--说白了，还是要为员工考虑而不是其他的理由</p> <p>员工的归属感，注重培养，培训，好的公司人员流动率低</p> <p>[181/150]</p> <p>当一个团队被完全确定了的程度时，他就完全丧失了自愈能力。</p> <p>【被确定我觉得是指它的功效，能力等方面。大方法论-按照方法来，按部就班，那么最终会达到一个目的。做好了，是方法论定好了的，本该如此，没做好，那是你团队的问题。-这个论调你会经常碰到----这期间团队员工的付出努力一开始就被忽略了。</p> <p>为什么会产生方法论？</p> <p>你遇到一个比较复杂的问题时，你希望它的最终结果是顺利解决。那么你使用你“高瞻远瞩”的眼光和思考能力想出一个流程来解决这个问题，你认为你所想出的流程会解决大部分问题，这就是方法论。】</p> <p>[183/152]</p> <p>大方法论的疯狂</p> <p>1:繁文缛节</p> <p>2:极小量的方法</p> <p>3:缺少责任感</p> <p>4：缺少激励机制</p> <p>[185/154]</p> <p>脑力劳动员工强烈的独立意识，在新的前沿工作的牛仔意识。--我们应该尊重这种意识</p> <p>完成方法汇集的方法</p> <p>1：培训</p> <p>2：工具支持</p> <p>3：同级评审</p> <p>不要轻易制定标准，规则</p> <p>霍桑效应：人们在尝试新东西时，他们会表现得更好--应该是针对年轻人</p> <p>标准必须要灵活宽松，让人有发挥的空间。所以不能太细。</p> <p>[193/162]</p> <p>胶东团队，只需要为他们排除障碍保证没人挡路，不需要传统的管理他们，他们自己会有动力。</p> <p>一个团队的目的不是达到目的而是向目的看齐</p> <p>[229/198]</p> <p>公司亲和力建设策略</p> <p>1:质量崇拜</p> <p>2:提供更多令人满意的完型[closure]--制定合适时间段的目标，并让团队完成它。将大的目标分切为阶段式的目标。不要人觉得遥遥无期。</p> <p>[233/202]</p> <p>3:建立精英意识--要坐就要坐头等舱,施乐公司</p> <p>4:允许和鼓励异端</p> <p>5:保持和保护成功的团队</p> <p>6:提供战略而不是战术指导</p> <p> 团队是平级的集合体，经理不是团队成员</p> <p>经理的工作室把混乱拆散再分发出去</p> <p> 适当的的混乱是动力</p> <p>一个项目中不要尝试太多的新技术，最好专注一方面的新技术，不要四面出击</p> <p> 社会学比技术或钱更重要</p> <p>[264/233]</p> <p> 海报往往在贬低你</p> <p>孩子之间不要竞争，团队成员之间也是如此</p> <p>个人的成功注定要与整体的成功相联系</p> <p> [273/242]</p> <p>开始贬CMM，呵呵。</p> <p>当今世界有关标准的成功都是有关标准接口的成功而不是产生这些接口的过程！</p> <p>[282/251]</p> <p>对于CMM，不要为了评级而评级。在提高纯熟度的时候，尽量不要考虑评分的事情。</p> <p>[301/341]</p> <p>人力成本，投资和支出是两回事。有经验员工的衔接时间。</p> <p>公司的学习</p> <p>&#160;&#160;&#160;&#160;&#160; 如果流动量大，学习就不可能坚持</p> <p> 成功的学习的公司总是以强大的中层管理层为特点。</p> <p>中层间需要保持畅通的交流，但是实际中往往存在相反的情况。</p> <p>项目早期[设计阶段]可保持少量人员.</p> <p>时间分割[一人同时多个任务]是浪费时间。</p> <p>[322/291]</p> <p>社区的重要性</p> <p>[完]</p> <p>------------------</p> <p>如果是中国人写这样的言论，那似乎在说梦话。然而这本书都是通过实际的例子来说明的，可惜他们都不是在中国发生的。也就看看而已……</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/2011/05/26/e6-88-91-e7-9c-8b-e4-ba-ba-e4-bb-b6.html" data-flip="title">我看人件</a></p> </article> <article id="post-%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/it%e4%ba%ba-%e7%9b%b8%e8%bd%bb" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/it-e4-ba-ba-e7-9b-b8-e8-bd-bb.html" data-flip="title"> IT人 相轻 </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:13:45+08:00">26 May 2011</time> in <span>默认分类</span> on <span>It</span>, <span>八卦</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>一晃IT行业做得有些岁月了，虽然没参加过几次面试，但是几乎次次感受到“IT人相轻”，在工作中也是如此，对于同事，也倾向于证明别人是水枪。 <br />也面试过别人一次，说实话那人确实很水，但我不想鄙视你呀，我想的是找一个工作的伙伴啊，所以我尽量平和的问一些你熟悉的问题呀，靠，你倒好，反倒比我还大大咧咧，倒鄙视起我来了，非得我旁边的外行问你才消得了你的气焰。 <br />也常看javaeye的文章，经常是口水大战，火药味十足，我也只是笑笑，从来不发表言论，看看吵架也是猥琐的乐事。 <br />有些人事业比较顺的时候，就发那么一篇闷骚的帖子，极力掩盖的炫耀一番，但是表面上看去确实彪悍了一番。哎，吵来吵去不都是些打工的人吗，多个一万两万的月薪，今天你鄙视我，明天我鄙视你，确实乐此不疲！ <br />为什么与老板直接面试的时候感觉就好些呢，觉得他是求贤若渴一般。 <br />为什么IT人士普遍有这种现象呢，得思考一番…… <br />也许，是竞争的关系吧……</p> <p class="read-more">Continue reading <a class="heading" href="/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/2011/05/26/it-e4-ba-ba-e7-9b-b8-e8-bd-bb.html" data-flip="title">IT人 相轻</a></p> </article> <article id="post-web/web%E5%89%8D%E7%AB%AF/2011/05/26/connection-reset-by-peer-socket-write-error" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web/web%E5%89%8D%E7%AB%AF/2011/05/26/connection-reset-by-peer-socket-write-error.html" data-flip="title"> Connection reset by peer: socket write error </a> </h1> <p class="post-date heading"> <time datetime="2011-05-26T13:13:03+08:00">26 May 2011</time> in <span>Web</span> / <span>Web前端</span> on <span>Javascript web 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>Connection reset by peer: socket write error</p> <p> 除了其他原因[请求是页面关闭时发起的ajax请求]，还有就是： <p>重复提交【用户点提交按钮很快的两遍，第二遍将第一遍冲掉】</p> <p class="read-more">Continue reading <a class="heading" href="/web/web%E5%89%8D%E7%AB%AF/2011/05/26/connection-reset-by-peer-socket-write-error.html" data-flip="title">Connection reset by peer: socket write error</a></p> </article> <h2 class="sr-only">Pagination</h2> <nav class="pagination heading" role="navigation"> <ul> <li class="pagination-item older" > <a rel="next" href="/page-61/">Older</a> </li> <li class="pagination-item newer" > <a rel="prev" href="/page-59/">Newer</a> </li> </ul> </nav> <footer> <hr/> <p>© 2011 - 2017. All rights reserved.</p> <p> <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code> </p> </footer> </main> </div> <div id="_yDrawer"> <div id="_sidebar" class="sidebar"> <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url()"></div> <header class="sidebar-sticky" role="banner"> <div class="sidebar-about"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" /> </div> <div class="sidebar-about"> <h1><a id="_title" href="/">Ka's Blog</a></h1> <p>Ka’s blog description…</p> </div> <nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span> <ul> <li> <a class="sidebar-nav-item" href="/categories.html">Categories</a> </li> <li> <a class="sidebar-nav-item" href="/archive.html">Archive</a> </li> <li> <a class="sidebar-nav-item" href="/tags.html">Tags</a> </li> <li> <a class="sidebar-nav-item" href="/about.html">About</a> </li> </ul> </nav> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </header> </div> </div> </div> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script> <!--<![endif]--> </body>
</html>
