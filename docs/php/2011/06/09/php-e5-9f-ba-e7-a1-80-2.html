<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
--><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <title>php基础 &middot; Ka's Blog</title> <meta name="description" content="先花一分钟看看常见符号和函数: http://www.chinaz.com/program/2010/0331/110317.shtml &#160; echo和print的区别 PHP 和 HTML 最简单的交互是通过 print 和 echo 语句来实现的，在实际使用中， print 和 echo 两者的功能几乎是完全一样。可以这么说，凡是有一个可以使用的地方，另一个也可以使用。但是，两者之间也还是一个非常重要的区别：在 echo 函数中，可以同时输出多个字符串，而在 print 函数中则只可以同时输出一个字符串。同时，echo函数并不需要圆括号，所以echo函数更像是语句而不像是函数。 echo 和 print 都不是函数，而是语言结构，所以圆括号都不是必需的。他们的区别在于： (1) echo可以输出多个字符串，像下面这样： echo 'a','b','c'; 如果你非要加上圆括号，注意写成echo ('a','b','c');是错误的，应该写成： echo ('a'),('b'),('c'); 它没有像函数的行为，所以不能用于函数的上下文 (2) print只能输出一个字符串，它可以表现得像一个函数，比如你可以如下使用： $ret = print 'Hello World'; 所有它能用在更复杂的表达式中。 另外，echo的效率相对比较快～ 如下代码： &lt;?php $a='hello ';$b='php world!';echo $a,$b.'&lt;br /&gt;';//echo 可以用逗号分隔字符串变量来显示print..."> <link rel="canonical" href="http://localhost:4000/php/2011/06/09/php-e5-9f-ba-e7-a1-80-2.html"> <link rel="alternate" type="application/atom+xml" title="Ka's Blog Feed" href="http://localhost:4000/feed.xml"> <link rel="prev" href="http://localhost:4000/html5/2011/06/09/html5-demo-e8-b5-8f-e6-9e-90.html"> <link rel="next" href="http://localhost:4000/php/2011/06/09/php-e4-bb-8b-e7-bb-8d.html"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"> <!-- Place favicon.ico in the root directory --> <link rel="stylesheet" href="/assets/style.css"> <link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"> <link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|') }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; </script> <!--<![endif]--> <script> !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window.disablePushState = false; window.disableDrawer = false; </script> <!--[if lt IE 9]> <script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script> <![endif]--> <!--[if gt IE 8]><!----> <style> article, aside, dialog, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } mark { background: #FF0; color: #000; } * { box-sizing: border-box; } html, body { margin: 0; padding: 0; } html { font-size: 16px; line-height: 1.75; } body { color: #333; background-color: #fff; overflow-y: scroll; } a { text-decoration: none; } .lead { margin-left: -1rem; margin-right: -1rem; } img, .img { display: block; max-width: 100%; margin-bottom: 1rem; border: none; } img.lead, .img.lead { max-width: calc(100% + 2rem); width: calc(100% + 2rem); } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-weight: bold; text-rendering: optimizeLegibility; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 { margin: 3rem 0 1rem; line-height: 1.6; } h1, .h1 { font-size: 2rem; line-height: 1.25; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.17em; } p { margin-top: 0; margin-bottom: 1rem; } p.lead { font-size: 1.25rem; font-weight: 300; padding: 0 1rem; } ul, ol, dl { margin-top: 0; margin-bottom: 1rem; } ul, ol { padding-left: 1.25rem; } hr { position: relative; margin: 1.5rem 0; border: 0; border-top: 1px solid #eee; } .hr { padding-bottom: .5rem; border-bottom: 1px solid #eee; margin-bottom: 1.5rem; } h4, h5, h6, .h4, .h5, .h6 { margin-bottom: 0.5rem; font-size: 1rem; } table { margin-bottom: 1rem; width: 100%; width: calc(100% + 2rem); margin-left: -1rem; border: 1px solid #e5e5e5; border-collapse: collapse; border-spacing: 0; } td, th { padding: .25rem .5rem; border: 1px solid #e5e5e5; } td:first-child, th:first-child { padding-left: 1rem; } td:last-child, th:last-child { padding-right: 1rem; } thead + tbody, tbody + tbody, tfoot { border-top: 3px double #e5e5e5; } tbody tr:nth-child(odd) td, tbody tr:nth-child(odd) th { background-color: #f9f9f9; } footer { margin-bottom: 2rem; } .page, .post { margin-bottom: 3em; } .page li + li, .post li + li { margin-top: .25rem; } .page > header, .post > header { margin-bottom: 2rem; } .page-title, .post-title { margin-top: 0; } .post-date { display: block; margin-top: -0.5rem; margin-bottom: 1rem; color: #9a9a9a; } .related-posts { padding-left: 0; list-style: none; } .related-posts > li, .related-posts > li + li { margin-top: 1rem; } .related-posts > li > small, .related-posts > li + li > small { font-size: 75%; color: #9a9a9a; } .message { margin-bottom: 1rem; padding: 1rem; color: #787878; background-color: #f9f9f9; margin-left: -1rem; margin-right: -1rem; } /* * Global resets * * Update the foundational and global aspects of the page. */ body, main { /* Prevent side-scrolling on mobile */ position: relative; overflow-x: hidden; } @media screen { body::before { content: ''; width: .5rem; background: #e5e5e5; position: absolute; left: 0; top: 0; bottom: 0; } } @media screen and (min-width: 40em) { html { font-size: 17px; } } @media screen and (min-width: 54em) { html { font-size: 16px; } } @media screen and (min-width: 72em) { html { font-size: 17px; } } @media screen and (min-width: 125em) { html { font-size: 18px; } } .sr-only { display: none; } .clearfix, .sidebar-social::after, .clearafter::after { content: ""; display: table; clear: both; } a, .a { position: relative; padding-bottom: .15rem; border-bottom: 1px solid; } .img { overflow: hidden; background-color: #f9f9f9; } .img > img { margin: 0; width: 100%; height: 100%; } .sixteen-nine { position: relative; } .sixteen-nine::before { display: block; content: ""; width: 100%; padding-top: 56.25%; } .sixteen-nine > * { position: absolute; top: 0; left: 0; right: 0; bottom: 0; } h1 + hr, h2 + hr, h3 + hr, h4 + hr, h5 + hr, h6 + hr { margin-top: 0; } .fade-in { animation-duration: 500ms; animation-name: fade-in; animation-fill-mode: forwards; } @keyframes fade-in { from { transform: translateY(-2rem); opacity: 0; } 50% { transform: translateY(-2rem); opacity: 0; } to { transform: translateY(0); opacity: 1; } } .mb6 { margin-bottom: 6rem; } .sidebar { color: rgba(255, 255, 255, 0.75); text-align: left; /* Sidebar links */ } .sidebar::before { /* make sidebar slightly darker to increase text readability (when using a background image) */ content: ""; position: absolute; z-index: 2; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ } .sidebar a { color: #fff; border-bottom-color: rgba(255, 255, 255, 0.2); } #_yDrawer { position: relative; padding: 1rem 0; } @media screen { #_yDrawer { padding: 2rem 1rem; min-height: 640px; min-height: 100vh; } } @media screen and (min-width: 54em) { #_yDrawer { position: fixed; top: 0; left: 0; bottom: 0; width: 18rem; margin-left: 0; } } @media screen and (min-width: 97.5em) { #_yDrawer { width: calc(50% - 28rem); } } @media screen { #_yDrawer.loaded { min-height: 0; padding: 0; } } .sidebar-bg { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #202020 center / cover; } .sidebar-sticky { position: relative; z-index: 3; } @media screen { .sidebar-sticky { position: absolute; right: 2rem; bottom: 1rem; left: auto; max-width: 14rem; } } @media print { .sidebar-sticky { padding: 0 2rem; } } /* About section */ .sidebar-about > h1 { color: #fff; font-size: 2rem; } .sidebar-nav > ul { list-style: none; padding-left: 0; margin-bottom: .5rem; } a.sidebar-nav-item { font-weight: bold; display: block; line-height: 1.75; padding: .25rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.2); } @media screen { .y-drawer-scrim { z-index: 2; } .y-drawer-content { width: 18rem; left: -17.5rem; z-index: 3; } } @media screen and (min-width: 97.5em) { .y-drawer-content { width: calc(50% - 28rem); } } .sidebar-social { margin-bottom: .5rem; } .sidebar-social > ul { list-style: none; padding-left: 0; margin: 0 -.25rem; } .sidebar-social > ul > li { float: left; margin: 0 .25rem; } .sidebar-social > ul > li > a { display: inline-block; text-align: center; font-size: 1.6rem; line-height: 3rem; width: 3.1249rem; height: 4rem; padding: .5rem 0; } .sidebar-social > ul li + li { margin-top: 0; } .fixed-top { position: fixed; top: 0; left: 0; width: 100%; z-index: 1; } .navbar > .content { padding-top: 0; padding-bottom: 0; min-height: 0; height: 0; } .menu { display: inline-block; padding: 1.75rem 1.5rem; border-bottom: none; margin-left: -1.5rem; color: #9a9a9a !important; } .menu::after { content: "\2630"; } @media screen and (min-width: 54em) { .menu { padding: 1.25rem 1.5rem; position: absolute; left: -9999px; } .menu:focus { position: static; } } .animation-main { pointer-events: none; } .loading { display: none; } @media print { .menu { display: none; } } .animation-main { opacity: 0; will-change: opacity; } .loading { position: absolute; top: 0; right: 0; padding: 5.25rem 4.5rem; transform-origin: top right; transform: scale(0.33); } .content { position: relative; margin-left: auto; margin-right: auto; padding: 5rem 1rem 12rem; } @media screen { .content { max-width: 38rem; padding-left: 1.5rem; min-height: 100vh; } } @media screen and (min-width: 54em) { .content { max-width: 42rem; padding: 4rem 1rem 12rem; margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 72em) { .content { margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 92em) { .content { max-width: 48rem; } } @media screen and (min-width: 97.5em) { .content { margin: auto; } } .me { float: right; width: 6.5rem; height: 6.5rem; margin-left: 1rem; margin-bottom: .5rem; border-radius: 100%; position: relative; } @media screen and (min-width: 40em) { .me { width: 7rem; height: 7rem; } } @media screen and (min-width: 54em) { .me { width: 6.5rem; height: 6.5rem; } } @media screen and (min-width: 60em) { .me { width: 7rem; height: 7rem; } } main > footer { position: absolute; bottom: 0; left: 0; right: 0; padding: 0 1rem; color: #9a9a9a; font-size: smaller; text-align: center; } main > footer > p { margin-bottom: 0; } /* .card, .pagination-item { border-radius: 0!important; } */ /* @media screen { .sidebar-sticky { left: 2rem; max-width: none; } } */ html { font-family: Helvetica, Arial, sans-serif; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Helvetica, Arial, sans-serif; } </style> <link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1"> <script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script> <!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed --> <style id="_pageStyle"> .content a { color: #4f86aa; border-color: rgba(79, 134, 170, 0.2); } .content a:hover { border-color: #4f86aa; } :focus { outline-color: #4f86aa; } ::selection { color: #fff; background: #4f86aa; } ::-moz-selection { color: #fff; background: #4f86aa; } </style> <noscript> <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i"> <style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif } </style> <link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--<![endif]--> <!--[if gt IE 8]><!----> <script async src="/assets/bower_components/webfontloader/webfontloader.js"></script> <!--<![endif]--> </head> <body> <div class="navbar fixed-top"> <div class="content"> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu no-hover" href="#_title"> <span class="sr-only">Menu</span> </a> </div> </div> <div id="_yPushState"> <div class="fade-in"> <main id="_main" class="content" role="main" data-color="#4f86aa" data-image=""> <article id="post-php/2011/06/09/php%e5%9f%ba%e7%a1%80-2" class="post" role="article"> <header> <h1 class="post-title"> php基础 </h1> <p class="post-date heading"> <time datetime="2011-06-09T23:19:59+08:00">09 Jun 2011</time> in <span>Php</span> on <span>Php</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>先花一分钟看看常见符号和函数: <a href="http://www.chinaz.com/program/2010/0331/110317.shtml">http://www.chinaz.com/program/2010/0331/110317.shtml</a></p> <p>&#160;</p> <h2>echo和print的区别</h2> <blockquote><p>PHP 和 HTML 最简单的交互是通过 print 和 echo 语句来实现的，在实际使用中， print 和 echo 两者的功能几乎是完全一样。可以这么说，凡是有一个可以使用的地方，另一个也可以使用。但是，两者之间也还是一个非常重要的区别：在 echo 函数中，可以同时输出多个字符串，而在 print 函数中则只可以同时输出一个字符串。同时，echo函数并不需要圆括号，所以echo函数更像是语句而不像是函数。</p> <p>echo 和 print 都不是函数，而是语言结构，所以圆括号都不是必需的。他们的区别在于： <br />(1) echo可以输出多个字符串，像下面这样： <br />echo 'a','b','c'; <br />如果你非要加上圆括号，注意写成echo ('a','b','c');是错误的，应该写成： <br />echo ('a'),('b'),('c'); <br />它没有像函数的行为，所以不能用于函数的上下文 <br />(2) print只能输出一个字符串，它可以表现得像一个函数，比如你可以如下使用： <br />$ret = print 'Hello World'; <br />所有它能用在更复杂的表达式中。 <br />另外，echo的效率相对比较快～</p> <p>如下代码：</p> <p>&lt;?php <br />$a='hello ';$b='php world!';echo $a,$b.'&lt;br /&gt;';//echo 可以用逗号分隔字符串变量来显示print $a.$b.'&lt;br /&gt;';//而print不能使用逗号，只能用点号分隔，print $a,$b.'&lt;br /&gt;';//使用逗号时报错。 <br />?&gt;</p> <p>echo&#160;&#160;&#160; 命令和&#160;&#160;&#160; print&#160;&#160;&#160; 命令&#160;&#160;&#160; 相同，没有区别&#160;&#160; <br />echo&#160;&#160;&#160; 函数&#160;&#160;&#160; 和&#160;&#160;&#160; print&#160;&#160;&#160; 函数&#160;&#160;&#160; 有区别。&#160;&#160; <br />echo()&#160;&#160;&#160; 无返回值，与echo&#160;&#160;&#160; 命令相同&#160;&#160; <br />print()&#160;&#160;&#160; 有返回值，成功，返1，false,返0.&#160;&#160;&#160;&#160; <br />printf()&#160;&#160;&#160; 和&#160;&#160;&#160; sprintf()&#160;&#160;&#160; 类似，均为格式化输出，不同的是前者输出到标准输出，后者输出到变量&#160;&#160; <br />形如&#160;&#160; <br />echo&#160;&#160;&#160; &lt;&lt;&lt;&#160;&#160;&#160; EOT&#160;&#160; <br />EOT;&#160;&#160; <br />print&#160;&#160;&#160; &lt;&lt;&lt;&#160;&#160;&#160; EOT&#160;&#160; <br />EOT;&#160;&#160; <br />的书写格式，其含义如下:&#160;&#160; <br />&lt;&lt;&lt;&#160;&#160;&#160; 运算符，将由自定义分界符间的内容视为字符串，可对其间的变量做处理&#160;&#160; <br />EOT&#160;&#160;&#160; 自定义分界符，结束时必须位于行首</p> </blockquote> <h2>传址与传值:</h2> <div><pre>$a = 1;
function go(&amp;$b) {
 $b = $b + 1;
}
go($a);
echo $a;
========系统输出2，因为函数直接修改了$a的数值

$a = 1;
function go($b) {
 $b = $b + 1;
}
go($a);
echo $a;
=========系统输出1，因为$b = $b + 1只是在函数内部修改，外部不生效</pre></div> <p>&#160;</p> <h2>global变量解析</h2> <blockquote> <p>1：Global的作用是定义全局变量,但是这个全局变量不是应用于整个网站,而是应用于当前页面,包括include或require的所有文件</p> <p>$a=123;</p> <p>function aa()</p> <p>{</p> <p>Global $a;&#160; //如果不把$a定义为global变量,函数体内是不能访问$a的</p> <p>echo $a;</p> <p>}</p> <p>aa();</p> <p>总结:在函数体内定义的global变量,函数体外可以使用,在函数体外定义的global变量不能在函数体内使用,</p> <p>global $a;</p> <p>$a=123;</p> <p>function f()</p> <p>{</p> <p>&#160; echo $a;&#160;&#160; //错误,</p> <p>}</p> <p>//再看看下面一例</p> <p>function f()</p> <p>{</p> <p>&#160;&#160; global $a;</p> <p>&#160;&#160; $a=123;</p> <p>}</p> <p>f();</p> <p>echo $a;&#160; //正确,可以使用</p> <p>2：global问题解析：</p> <p>question：我在config.inc.php中定义了一些变量（$a），在别的文件中函数外部 include(&quot;config.inc.php&quot;)，函数内部需要使用这些变量$a，如果没有声明的话，echo $a是打印不出来任何东西的。因此声明global $a，但是有很多函数和很多变量，总不能不断重复的这样声明吧？有什么好的解决办法，请指点。</p> <p>answer1：先在config.inc.php里定义常量：define(常量名,常量值)</p> <p>再在其他需要用到的地方require 'config.inc.php'，</p> <p>然后就能在这个文件里直接使用这个常量了。</p> <p>answer2：我也有个办法，就是定义数组，如$x[a]，$x<strong>，那样就只要声明global $x一个了。</strong> </p></p> <p>answer3：我试了你的这个方法，不行啊。 </p> <p>answer4：改你的php.ini文件。</p> <p>设置global 为 on</p> </blockquote> <p>&#160;</p> <blockquote> <p>同javascript一样，php也没有块级作用域的概念。</p> <p>static变量 是针对于函数内部的来说。</p> </blockquote> <blockquote> <p>require_once 放在类中的方法中，那么被包含的php中按照require_once的文档(详细是在include中解释的)是继承调用处的变量范围的，也就是类方法范围，因此对$this的引用是可以的，但是其中定义的方法和类是全局的。</p> </blockquote> <p>&#160;</p> <h2>@的作用:</h2> <blockquote> <p>先做个试验：</p><pre>$a = 2/0;</pre><p>你会看到一个错误提示：Warning: Division by zero in ……</p><pre>@ $a = 2/0;</pre><p>我们看不到任何提示。</p> <p>加上@就是为了抑制错误显示，让用户看不到，提升用户体验。注意：只是抑制错误，但是错误还是存在的。</p> <p>那我们来个友好点的提示吧。</p><pre>@ $a = 2/0;
if(!$a){
	echo &quot;0不能作为被除数&quot;;
}</pre></blockquote> <p><strong></strong></p> <h2>大括号的使用:</h2> <p><strong></strong><a href="http://hi.baidu.com/%CB%AF%C3%CE%D6%AE%C1%FA/blog/item/3d8b5818b9923fac4bedbcf1.html">http://hi.baidu.com/%CB%AF%C3%CE%D6%AE%C1%FA/blog/item/3d8b5818b9923fac4bedbcf1.html</a></p> <blockquote> <p>1、正确的写法为：${var} 的形式；</p> <p>2、与双引号一同使用；</p> <p>例如</p> <div><pre><span style="color: #0000ff">&lt;?</span>php
<a style="color: #0000ff" href="http://www.php.net/echo">echo</a> &lt;&lt;&lt;EOT
My name is &quot;<span style="color: #8b0000">$name</span>&quot;. I am printing some $foo-&gt;foo.
Now, I am printing some {$foo-&gt;bar[1]}.
This should <a style="color: #ffa500" href="http://www.php.net/print">print</a> a capital '<span style="color: #8b0000">A</span>': \x41
EOT;
<span style="color: #0000ff">?&gt;</span></pre></p></div> <p>输出为:</p> <p>My name is &quot;MyName&quot;. I am printing some Foo. Now, I am printing some Bar2. This should print a capital 'A': A </p> <p>3、根据需表达的意思进行定界。</p> <p>所以，最后我把switch一行改为：</p> <p>switch (&quot;${action}_${child}&quot;) {</p> <p>即不再出现Notice警告。</p> <p>4:等同于java的charAt</p> <div><pre><span style="color: #0000ff">&lt;?</span>php
$s = &quot;<span style="color: #8b0000">123456</span>&quot;;

<a style="color: #0000ff" href="http://www.php.net/echo">echo</a> $s{0};	<span style="color: #008000">//普通使用</span>
<a style="color: #0000ff" href="http://www.php.net/echo">echo</a> &quot;<span style="color: #8b0000">{$s{0}}</span>&quot;; <span style="color: #008000">//在双引号中的使用</span>
<span style="color: #0000ff">?&gt;</span></pre></p></div> </blockquote> <p>&#160;</p> <h2>try catch </h2> <p>&#160;&#160;&#160;&#160;&#160;&#160; try catch 只能捕获面向对象后的Exception,这个Exception是要抛出来才有,要捕获编译错误之类的还要处理一下，见ErrorException:</p> <blockquote> <div><pre><span style="color: #0000ff">&lt;?</span>php
<a style="color: #0000ff" href="http://www.php.net/function">function</a> exception_error_handler($errno, $errstr, $errfile, $errline ) {
    throw new ErrorException($errstr, 0, $errno, $errfile, $errline);
}
<a style="color: #ffa500" href="http://www.php.net/set_error_handler">set_error_handler</a>(&quot;<span style="color: #8b0000">exception_error_handler</span>&quot;);

<span style="color: #008000">/* Trigger exception */</span>
<a style="color: #ffa500" href="http://www.php.net/strpos">strpos</a>();
<span style="color: #0000ff">?&gt;</span> </pre></p></div> </blockquote> <p>&#160;</p> <h2>使用&amp;&amp;,|| 而不是 and or</h2> <p>|| &amp;&amp; 的优先级比 or and 高,<font color="#0000ff">并且 = 的优先级比 or and 高, and xor or , 的优先级比=低</font></p> <h2>bool型转换</h2> <blockquote> <p>当转换为 <a href="language.types.boolean.html">boolean</a> 时，以下值被认为是 <b><tt>FALSE</tt></b>： </p> <ul> <li>the <a href="language.types.boolean.html">布尔</a>值 <b><tt>FALSE</tt></b> 自身 </li> <li>the <a href="language.types.integer.html">整型</a>值 0 (零) </li> <li>the <a href="language.types.float.html">浮点型</a>值 0.0 (零) </li> <li>空 <a href="language.types.string.html">字符串</a>, 以及 <a href="language.types.string.html">字符串</a> &quot;0&quot; </li> <li>不包括任何元素的<a href="language.types.array.html">数组</a> </li> <li>不包括任何成员变量的<a href="language.types.object.html">对象</a>（仅PHP 4.0 适用） </li> <li>特殊类型 <a href="language.types.null.html">NULL</a> (包括尚未设定的变量) </li> <li>从没有任何标记（tags）的XML文档生成的<a href="ref.simplexml.html">SimpleXML</a> 对象 </li> </ul> <p>因此，使用!$obj 与 isset($obj)还是有区别的，后者只判断是否是null或不存在，而前者将空数组，空字符串也认为是false了,这个与javascript是不同的。</p> </blockquote> <p>&#160;</p> <p>名空间5.3才开始支持</p> <div>匿名函数,闭包5.2支持的还不好，不推荐使用.</div> <div><span>如果子类中定义了构造函数则不会暗中调用其父类的构造函数.</span></div> <div>函数默认是public 全局</div> <div>范围解析操作符（也可称作 Paamayim Nekudotayim）或者更简单地说是一对冒号，可以用于访问静态成员、方法和常量，还可以用于覆盖类中的成员和方法。对于parent::它表示访问父类实例方法而不是静态方法.</div> <div>对于self::表示访问类方法（静态，常量等）,$this-&gt;表示对象本身指针。</div> <div> <p>就像其它所有的PHP静态变量一样，静态属性只能被初始化为一个字符值或一个常量，不能使用表达式。</p> <p>常量是替换define的功能的，</p> </div> <div>5.1开始支持函数参数类型声明 Type Hinting</div> <p>===对象比较</p> <div>==值比较</div> <p>array和javascript array一样是多种类型的混合体(array,map,queue)</p> <p>&#160;</p> <p>在函数原型中，<i>$...</i> 表示<i>等等</i>的意思。当一个函数可以接受任意个参数时使用此变量名。//<span style="background-color: #00aaff">[伪类型类型最后一段]</span>这句话不知什么意思，实践行不通</p> <div>支持不定参数，但是与java不同，object[]不作为不定参数集合看待而仅仅指代一个参数。</div> <div>支持三元运算符。</div> <div>php4 用var定义属性，php5使用访问限制，不需要var</div> <div>支持自动类型转换</div> <div>if (null){} 与if (false){}等效.</div> <p>&#160;</p> <div>switch可以判断基础类型 int ,string</div> <p>关于路径的问题，网上出现很多问题，但是其实只要分清楚页面php和类库php就好说了</p> <div>对于类库文件包含引用（使用的类，相当于java的import）,就是用包名形式，不要以/开始,而是直接的包名开头，例如&quot;Zend/Log/Log.php&quot;</div> <div>对于页面文件，如果不是包含页面的而是使用类的话，也和上面一样。</div> <p>&#160;</p> <div>我几乎没用过包含页面的形式(类似于jsp里面的include指令),也不打算在php里面用，所以很简单。(php引用原理我贴了一篇文章) </p> <p>&#160;</p> </div> <div>在打日志是出现日期警告(5.3.0以后)，需要在php.ini里面配置一下。</div> <div>php.ini</div> <div>http://php.net/date.timezone</div> <div>date.timezone = America/New_York</div> <p>自定义打开文件夹工具(myeclipse自带有)：</p> <p><span style="font-family: arial; color: rgb(0,0,153); font-size: 16px">Run–&gt;External Tools–&gt;Open External Tools Dialog…</span> </p> <p>new 一个 program</p></p> <p>location 里面填 ：C:\WINDOWS\explorer.exe</p> <p>Arguments 里面填: ${container_loc}</p> <p>&#160;</p> <div>zend 文档 chm pdf格式在http://mikaelkael.fr中可以找到</div> <p>&#160;</p> <h2>MySQL问题</h2> <blockquote> <p>php执行sql操作如果sql有问题，那是什么错误也没报的，这点很晕！</p> </blockquote> <blockquote> <p>你可以使用mysql_error和mysql_errno来获得错误信息。</p> <p>也可对mysql进行监视:</p> </blockquote> <blockquote> <p>有时我们使用了PHP框架，然后使用现成的ORM，省去了写SQL的麻烦，但又想看看到底生成了哪些SQL；或者下载了wordpress或druapl，想看看人家的SQL是怎么写的，这时如果能够监视MySQL的一举一动就好了，也不难，只需要稍微配置一下，再加上一个工具就行了。</p> <p>首先，打开%MySQLDir%my.ini(linux下是my.cnf)加上这么一句</p><pre># 指定log的位置
log=C:/AppServ/MySQL/mysql.log
# 或者linux下 log=/var/log/mysql/mysql.log</pre><p>&#160;</p> <p>mysql_*函数是没有事务的，你可以自己写sql语句来实现:</p> <div><pre>function db_trans_begin(){
	getlink();
	mysql_query( &quot;SET AUTOCOMMIT=0&quot;);
	mysql_query( &quot;BEGIN&quot;);
}

function db_trans_commit(){
	mysql_query( &quot;COMMIT&quot;);	
	mysql_query( &quot;SET AUTOCOMMIT=1&quot;);
}

function db_tans_rollback(){
	mysql_query(&quot;ROOLBACK&quot;);
	mysql_query( &quot;SET AUTOCOMMIT=1&quot;);
}</pre></p></div> <p>mysqli就有这些方法了。</p> </blockquote> <blockquote> <p>&#160;</p> </blockquote> <p>&#160;</p> <div>php5以后mysql不是默认支持的，需要在php.ini中将 </p> <p>extension_dir配置正确</p> </div> <div>extension=php_mysql.dll</div> <div>extension=php_pdo_mysql.dll [如果使用pdo]</div> <p>这2行去掉注释。</p> <p>&#160;</p> <div>使用zend db取的数据后，</div> <p>&#160;</p> <div>php框架：</div> <div>yii 不支持php4 性能据说很好 还有中文文档</div> <div>cake 支持php4 </div> <div>zend 不支持php4 而且太大了压缩包20m 但是是官方框架（但是也有成为java的EJB的可能,我是说好听不好用）</div> <p>国内的不考虑，据说是吹牛。</p> <p>&#160;</p> <div>乱码问题，除了其他情况，mysql连接要设置连接字符集</div> <div> <div> <div><span style="font-style: italic; color: #ff9933">// 方法一:</span></div> <div>PDO::__construct<span style="color: #006600; font-weight: bold">(</span><span style="color: #0000ff">$dsn</span>, <span style="color: #0000ff">$user</span>, <span style="color: #0000ff">$pass</span>, <span style="color: rgb(0,0,102)">array</span><span style="color: #006600; font-weight: bold">(</span>PDO::<span style="color: #006600">MYSQL_ATTR_INIT_COMMAND</span> =&gt; <span style="color: #ff0000">&quot;SET NAMES 'utf8';&quot;</span><span style="color: #006600; font-weight: bold">)</span><span style="color: #006600; font-weight: bold">)</span>;</div> <div>&#160;</div> <div><span style="font-style: italic; color: #ff9933">// 方法二:</span></div> <div>PDO::__construct<span style="color: #006600; font-weight: bold">(</span><span style="color: #0000ff">$dsn</span>, <span style="color: #0000ff">$user</span>, <span style="color: #0000ff">$pass</span><span style="color: #006600; font-weight: bold">)</span>;</div> <div>PDO::<span style="color: rgb(0,0,102)">exec</span><span style="color: #006600; font-weight: bold">(</span><span style="color: #ff0000">&quot;SET NAMES 'utf8';&quot;</span><span style="color: #006600; font-weight: bold">)</span>; </div> </p></div> </div> <p>&#160;</p> <p>$arr = array(-10=&gt;'1');</p> <p>$arr[]='2'; //负数索引之后在默认添加的是索引0</p> <p>echo $arr[0]; //输出2</p> <p>&#160;</p> <p>php理念是一个页面运行完后所有对象回收，所以想要对象跨页面就比较困难，</p> <p>例如下面的讨论情况:</p> <p><span style="color: rgb(82,163,204); font-size: 12px">我想将用户信息实例化成一个对象，借此减少需要用户信息的时候读取数据库的次数</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">这样有必要吗？</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">OK~如果有必要那么</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">跨页面传递对象除了序列化还有其他方法吗？&#160;&#160;&#160; </span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">在安装memcache等内存缓存服务前，所有程序对象和session对象是通过序列化来存贮的。 PHP具有强大的数组支持，把数据存到特定的数组中（如，$_SESSION），会是一个不错的选择。但也要避免把所有的数据都存入Session，因为$_SESSION在每次的HTTP REQUEST处理中都会被装载，太大的$_SESSION数组会对系统性能产生影响。</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">使用对象来存贮信息，再保存到$_SESSION数组中序列化是正常的操作，特定情况下要注意对象的设计来保证对象的序列化的正常，有时会用到对象的__sleep和__wakeup方法。</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">以上是server端传递对象的方法。对于简单的数据信息，可以在客户端完成跨页面传递：</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">* GET方法 通过URL；</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">* POST 方法 &lt;input type=&quot;hidden&quot; &gt;</span></p> <p><span style="color: rgb(82,163,204); font-size: 12px">* JavaScript：document 下的子节点 （时尚做法，但要考虑更多安全性）</span></p> <p>&#160;</p> <p>这样的局限性导致要实现基于xmpp的即时通信比较麻烦，因为不知道在哪里保存xmpp connection?使用长连接倒是可以。</p> <p>&#160;</p> <p>php给我的感觉就是，适合做web UI部分，再利用数据库展示ui方面有优势。但是如果要做复杂的应用则不合适，因为：</p> <p>第三方库乱七八糟，</p> <p>语言本身决定xmpp就是个好例子。</p> <p>&#160;</p> <p>我的想法：</p> <p>php + 数据库-&gt;展示UI,其他的复杂的交由别的来做(java/c)</p> </article> <hr class="dingbat" /> <!-- <aside class="author" role="complementary"> <div class="author"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" alt="Ka" /> <h2 class="page-title hr"> About </h2> <p>About Me…</p> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </div> </aside> --> <div style="text-align: center; " class="kazge-after-content" id="kazge-677219085"> <p><a href="https://itunes.apple.com/us/app/volitant-egg-ads-version/id1247264387?mt=8" target="_blank"><br> <img src="/assets/volitantegg-show.gif" alt=""><br> </a></p> </div> <aside class="related" role="complementary"> <h2 class="hr">Related Posts</h2> <ul class="related-posts"> <li class="h4"> <a href="/php/2013/02/01/php-e9-9d-a2-e5-90-91-e5-af-b9-e8-b1-a1-e7-9b-b8-e5-85-b3.html" data-flip="title"> <span>php 面向对象相关</span> </a> <small><time datetime="2013-02-01T19:34:52+08:00"> 01 Feb 2013 </time></small> </li> <li class="h4"> <a href="/php/2013/01/11/php-e6-89-93-e5-8d-b0error-trace.html" data-flip="title"> <span>php 打印error trace</span> </a> <small><time datetime="2013-01-11T19:01:48+08:00"> 11 Jan 2013 </time></small> </li> <li class="h4"> <a href="/php/2013/01/11/smarty-e8-ad-a6-e5-91-8a-e6-8a-a5-e9-94-99-e9-97-ae-e9-a2-98.html" data-flip="title"> <span>Smarty 警告报错问题</span> </a> <small><time datetime="2013-01-11T18:50:53+08:00"> 11 Jan 2013 </time></small> </li> </ul> </aside> <footer> <hr/> <p>© 2011 - 2017. All rights reserved.</p> <p> <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code> </p> </footer> </main> </div> <div id="_yDrawer"> <div id="_sidebar" class="sidebar"> <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url()"></div> <header class="sidebar-sticky" role="banner"> <div class="sidebar-about"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" /> </div> <div class="sidebar-about"> <h1><a id="_title" href="/">Ka's Blog</a></h1> <p>Ka’s blog description…</p> </div> <nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span> <ul> <li> <a class="sidebar-nav-item" href="/categories.html">Categories</a> </li> <li> <a class="sidebar-nav-item" href="/archive.html">Archive</a> </li> <li> <a class="sidebar-nav-item" href="/tags.html">Tags</a> </li> <li> <a class="sidebar-nav-item" href="/about.html">About</a> </li> </ul> </nav> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </header> </div> </div> </div> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script> <!--<![endif]--> </body>
</html>
