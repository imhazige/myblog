<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.6.1 <https://qwtel.com/hydejack/>
--><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="format-detection" content="telephone=no"> <meta http-equiv="x-ua-compatible" content="ie=edge"> <title>Ka's Blog &middot; Ka's Blog</title> <meta name="description" content="Ka’s blog description… "> <link rel="canonical" href="http://localhost:4000/page-44/"> <link rel="alternate" type="application/atom+xml" title="Ka's Blog Feed" href="http://localhost:4000/feed.xml"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"> <!-- Place favicon.ico in the root directory --> <link rel="stylesheet" href="/assets/style.css"> <link id="_katexJS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js"> <link id="_katexCSS" rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css"> <!--[if gt IE 8]><!----> <script> WebFontConfig = { google: { families: 'Roboto+Slab:700|Noto+Sans:400,400i,700,700i'.split('|') }, custom: { families: ['icomoon'], urls: ['/assets/icomoon/style.css'] } }; </script> <!--<![endif]--> <script> !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); window.disablePushState = false; window.disableDrawer = false; </script> <!--[if lt IE 9]> <script src="/assets/bower_components/html5shiv/dist/html5shiv.min.js"></script> <![endif]--> <!--[if gt IE 8]><!----> <style> article, aside, dialog, figcaption, figure, footer, header, hgroup, main, nav, section { display: block; } mark { background: #FF0; color: #000; } * { box-sizing: border-box; } html, body { margin: 0; padding: 0; } html { font-size: 16px; line-height: 1.75; } body { color: #333; background-color: #fff; overflow-y: scroll; } a { text-decoration: none; } .lead { margin-left: -1rem; margin-right: -1rem; } img, .img { display: block; max-width: 100%; margin-bottom: 1rem; border: none; } img.lead, .img.lead { max-width: calc(100% + 2rem); width: calc(100% + 2rem); } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-weight: bold; text-rendering: optimizeLegibility; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 { margin: 3rem 0 1rem; line-height: 1.6; } h1, .h1 { font-size: 2rem; line-height: 1.25; } h2, .h2 { font-size: 1.5rem; } h3, .h3 { font-size: 1.17em; } p { margin-top: 0; margin-bottom: 1rem; } p.lead { font-size: 1.25rem; font-weight: 300; padding: 0 1rem; } ul, ol, dl { margin-top: 0; margin-bottom: 1rem; } ul, ol { padding-left: 1.25rem; } hr { position: relative; margin: 1.5rem 0; border: 0; border-top: 1px solid #eee; } .hr { padding-bottom: .5rem; border-bottom: 1px solid #eee; margin-bottom: 1.5rem; } h4, h5, h6, .h4, .h5, .h6 { margin-bottom: 0.5rem; font-size: 1rem; } table { margin-bottom: 1rem; width: 100%; width: calc(100% + 2rem); margin-left: -1rem; border: 1px solid #e5e5e5; border-collapse: collapse; border-spacing: 0; } td, th { padding: .25rem .5rem; border: 1px solid #e5e5e5; } td:first-child, th:first-child { padding-left: 1rem; } td:last-child, th:last-child { padding-right: 1rem; } thead + tbody, tbody + tbody, tfoot { border-top: 3px double #e5e5e5; } tbody tr:nth-child(odd) td, tbody tr:nth-child(odd) th { background-color: #f9f9f9; } footer { margin-bottom: 2rem; } .page, .post { margin-bottom: 3em; } .page li + li, .post li + li { margin-top: .25rem; } .page > header, .post > header { margin-bottom: 2rem; } .page-title, .post-title { margin-top: 0; } .post-date { display: block; margin-top: -0.5rem; margin-bottom: 1rem; color: #9a9a9a; } .related-posts { padding-left: 0; list-style: none; } .related-posts > li, .related-posts > li + li { margin-top: 1rem; } .related-posts > li > small, .related-posts > li + li > small { font-size: 75%; color: #9a9a9a; } .message { margin-bottom: 1rem; padding: 1rem; color: #787878; background-color: #f9f9f9; margin-left: -1rem; margin-right: -1rem; } /* * Global resets * * Update the foundational and global aspects of the page. */ body, main { /* Prevent side-scrolling on mobile */ position: relative; overflow-x: hidden; } @media screen { body::before { content: ''; width: .5rem; background: #e5e5e5; position: absolute; left: 0; top: 0; bottom: 0; } } @media screen and (min-width: 40em) { html { font-size: 17px; } } @media screen and (min-width: 54em) { html { font-size: 16px; } } @media screen and (min-width: 72em) { html { font-size: 17px; } } @media screen and (min-width: 125em) { html { font-size: 18px; } } .sr-only { display: none; } .clearfix, .sidebar-social::after, .clearafter::after { content: ""; display: table; clear: both; } a, .a { position: relative; padding-bottom: .15rem; border-bottom: 1px solid; } .img { overflow: hidden; background-color: #f9f9f9; } .img > img { margin: 0; width: 100%; height: 100%; } .sixteen-nine { position: relative; } .sixteen-nine::before { display: block; content: ""; width: 100%; padding-top: 56.25%; } .sixteen-nine > * { position: absolute; top: 0; left: 0; right: 0; bottom: 0; } h1 + hr, h2 + hr, h3 + hr, h4 + hr, h5 + hr, h6 + hr { margin-top: 0; } .fade-in { animation-duration: 500ms; animation-name: fade-in; animation-fill-mode: forwards; } @keyframes fade-in { from { transform: translateY(-2rem); opacity: 0; } 50% { transform: translateY(-2rem); opacity: 0; } to { transform: translateY(0); opacity: 1; } } .mb6 { margin-bottom: 6rem; } .sidebar { color: rgba(255, 255, 255, 0.75); text-align: left; /* Sidebar links */ } .sidebar::before { /* make sidebar slightly darker to increase text readability (when using a background image) */ content: ""; position: absolute; z-index: 2; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ } .sidebar a { color: #fff; border-bottom-color: rgba(255, 255, 255, 0.2); } #_yDrawer { position: relative; padding: 1rem 0; } @media screen { #_yDrawer { padding: 2rem 1rem; min-height: 640px; min-height: 100vh; } } @media screen and (min-width: 54em) { #_yDrawer { position: fixed; top: 0; left: 0; bottom: 0; width: 18rem; margin-left: 0; } } @media screen and (min-width: 97.5em) { #_yDrawer { width: calc(50% - 28rem); } } @media screen { #_yDrawer.loaded { min-height: 0; padding: 0; } } .sidebar-bg { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #202020 center / cover; } .sidebar-sticky { position: relative; z-index: 3; } @media screen { .sidebar-sticky { position: absolute; right: 2rem; bottom: 1rem; left: auto; max-width: 14rem; } } @media print { .sidebar-sticky { padding: 0 2rem; } } /* About section */ .sidebar-about > h1 { color: #fff; font-size: 2rem; } .sidebar-nav > ul { list-style: none; padding-left: 0; margin-bottom: .5rem; } a.sidebar-nav-item { font-weight: bold; display: block; line-height: 1.75; padding: .25rem 0; border-bottom: 1px solid rgba(255, 255, 255, 0.2); } @media screen { .y-drawer-scrim { z-index: 2; } .y-drawer-content { width: 18rem; left: -17.5rem; z-index: 3; } } @media screen and (min-width: 97.5em) { .y-drawer-content { width: calc(50% - 28rem); } } .sidebar-social { margin-bottom: .5rem; } .sidebar-social > ul { list-style: none; padding-left: 0; margin: 0 -.25rem; } .sidebar-social > ul > li { float: left; margin: 0 .25rem; } .sidebar-social > ul > li > a { display: inline-block; text-align: center; font-size: 1.6rem; line-height: 3rem; width: 3.1249rem; height: 4rem; padding: .5rem 0; } .sidebar-social > ul li + li { margin-top: 0; } .fixed-top { position: fixed; top: 0; left: 0; width: 100%; z-index: 1; } .navbar > .content { padding-top: 0; padding-bottom: 0; min-height: 0; height: 0; } .menu { display: inline-block; padding: 1.75rem 1.5rem; border-bottom: none; margin-left: -1.5rem; color: #9a9a9a !important; } .menu::after { content: "\2630"; } @media screen and (min-width: 54em) { .menu { padding: 1.25rem 1.5rem; position: absolute; left: -9999px; } .menu:focus { position: static; } } .animation-main { pointer-events: none; } .loading { display: none; } @media print { .menu { display: none; } } .animation-main { opacity: 0; will-change: opacity; } .loading { position: absolute; top: 0; right: 0; padding: 5.25rem 4.5rem; transform-origin: top right; transform: scale(0.33); } .content { position: relative; margin-left: auto; margin-right: auto; padding: 5rem 1rem 12rem; } @media screen { .content { max-width: 38rem; padding-left: 1.5rem; min-height: 100vh; } } @media screen and (min-width: 54em) { .content { max-width: 42rem; padding: 4rem 1rem 12rem; margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 72em) { .content { margin-left: 22rem; margin-right: 4rem; } } @media screen and (min-width: 92em) { .content { max-width: 48rem; } } @media screen and (min-width: 97.5em) { .content { margin: auto; } } .me { float: right; width: 6.5rem; height: 6.5rem; margin-left: 1rem; margin-bottom: .5rem; border-radius: 100%; position: relative; } @media screen and (min-width: 40em) { .me { width: 7rem; height: 7rem; } } @media screen and (min-width: 54em) { .me { width: 6.5rem; height: 6.5rem; } } @media screen and (min-width: 60em) { .me { width: 7rem; height: 7rem; } } main > footer { position: absolute; bottom: 0; left: 0; right: 0; padding: 0 1rem; color: #9a9a9a; font-size: smaller; text-align: center; } main > footer > p { margin-bottom: 0; } /* .card, .pagination-item { border-radius: 0!important; } */ /* @media screen { .sidebar-sticky { left: 2rem; max-width: none; } } */ html { font-family: Helvetica, Arial, sans-serif; } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: Helvetica, Arial, sans-serif; } </style> <link id="_stylePreload" rel="preload" as="style" href="/assets/css/hydejack.css?v=6.6.1"> <script>document.getElementById('_stylePreload').onload=function(){this.rel='stylesheet'}</script> <!-- NOTE: These styles interact with JavsScript, so they MUST NOT be changed --> <style id="_pageStyle"> .content a { color: #4f86aa; border-color: rgba(79, 134, 170, 0.2); } .content a:hover { border-color: #4f86aa; } :focus { outline-color: #4f86aa; } ::selection { color: #fff; background: #4f86aa; } ::-moz-selection { color: #fff; background: #4f86aa; } </style> <noscript> <link rel="stylesheet" href="/assets/css/hydejack.css?v=6.6.1"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Noto+Sans:400,400i,700,700i"> <style> html { font-family: 'Noto Sans', Helvetica, Arial, sans-serif } h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Roboto Slab', Helvetica, Arial, sans-serif } </style> <link rel="stylesheet" href="/assets/icomoon/style.css"> </noscript> <!--<![endif]--> <!--[if gt IE 8]><!----> <script async src="/assets/bower_components/webfontloader/webfontloader.js"></script> <!--<![endif]--> </head> <body> <div class="navbar fixed-top"> <div class="content"> <span class="sr-only">Jump to:</span> <a id="_menu" class="menu no-hover" href="#_title"> <span class="sr-only">Menu</span> </a> </div> </div> <div id="_yPushState"> <div class="fade-in"> <main id="_main" class="content" role="main" data-color="#4f86aa" data-image=""> <article id="post-%E8%8B%B1%E8%AF%AD/2011/07/06/it-e-46-object-oriented-programming" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/07/06/it-e-46-object-oriented-programming.html" data-flip="title"> it-e-46 Object-oriented programming </a> </h1> <p class="post-date heading"> <time datetime="2011-07-06T00:24:12+08:00">06 Jul 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>Object-oriented programming (OOP) refers to a special type of programming that combines <br />data structures with functions to create re-usable objects. <br />Otherwise, the term object-oriented is generally used to describe a system that deals primarily <br />with different types of objects, and where you can take the actions depends on what type of object <br />you are manipulating. For example, an object-oriented draw program might enable you to draw <br />many types of objects, such as circles, rectangles, triangles, etc. Applying the same action to each of <br />these objects, however, would produce different results. If the action is Make 3D, for instance, the <br />result would be a sphere, box, and pyramid, respectively. <br />Many languages support object oriented programming. In OOP data and functions are <br />grouped together in objects (encapsulation). An object is a particular instance of a class. [1] Each <br />object can contain different data, but all objects belonging to a class have the same functions <br />(called methods). So you could have a program with many e-mail objects, containing different <br />messages, but they would all have the same functionality, fixed by the email class. Objects often <br />restrict access to the data (data hiding). <br />Classes are a lot like types the exact relationship between types and classes can be complicated <br />and varies from language to language. <br />Via inheritance, hierarchies of objects can share and modify particular functions. You may <br />have code in one class that describes the features all e-mails have (a sender and a date, for <br />example) and then, in a sub-class for email containing pictures, add functions that display images. <br />[2]Often in the program you will refer to an e-mail object as if it was the parent (super-class) <br />because it will not matter whether the e-mail contains a picture, or sound, or just text. This code <br />will not need to be altered when you add another sub-class of e-mail objects, containing (say) <br />electronic cash. <br />Sometimes you may want an action on a super-class to produce a result that depends on <br />what sub-class it &quot;really is&quot;. For example, you may want to display a list of email objects and <br />want each sub-class (text, image, etc) to display in a different colour. In many languages it is <br />possible for the super-class to have functions that sub-classes change to suit their own purposes <br />(polymorphism, implemented by the compiler using a technique called dynamic binding). So <br />each email sub-class may supply an alternative to the default, printing function, with its own <br />colour. <br />In many OO languages it is possible to find out what class an object is (run time type <br />information) and even what functions are connected with it (introspection / reflection). Others, <br />like C++ have little run time information available (at least in the standard language individual <br />libraries of objects can support RTTI with their own conventions). <br />[3]There are at least three approaches to OO languages: Methods in Classes, Multi-Methods <br />Separate from Classes, Prototypes.</p> <p>Many languages follow Smalltalk in associating functions (methods) with classes. The <br />methods form part of a class definition and the language implementation will have (this is a <br />low-level detail hidden from the programmer) a vtable for each class which links methods to their <br />implementations. This indirection is necessary to allow polymorphism, but introduces a <br />performance penalty. In some languages (C++, at least), only some methods, marked as virtual <br />by the programmer, are treated in this way. </p> <p>Some languages (e.g. common Lisp / CLOS) allow functions to specialise on the class of <br />any variable that they are passed (multi-methods). Functions cannot be associated with one class <br />because different versions of the function may exist for many different combinations of classes. </p> <p>Other OO languages do away with classes completely (e.g. Self). Prototype-based languages <br />create new objects using an existing object as an example (prototype). Apart from solving some <br />problems with dynamic object creation, this approach also encourages delegation (function calls <br />are passed to other objects) rather than inheritance.</p> <p>没有生词</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/07/06/it-e-46-object-oriented-programming.html" data-flip="title">it-e-46 Object-oriented programming</a></p> </article> <article id="post-apple/2011/07/05/%e8%8b%b9%e6%9e%9cios%e5%b9%b3%e5%8f%b0%e6%88%90%e5%8a%9f%e7%9a%84%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e7%89%b9%e6%80%a7%e5%a4%a7%e6%95%b4%e7%90%86" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/apple/2011/07/05/e8-8b-b9-e6-9e-9cios-e5-b9-b3-e5-8f-b0-e6-88-90-e5-8a-9f-e7-9a-84-e5-ba-94-e7-94-a8-e7-a8-8b-e5-ba-8f-e7-89-b9-e6-80-a7-e5-a4-a7-e6-95-b4-e7-90-86.html" data-flip="title"> 【转】苹果iOS平台成功的应用程序特性大整理 </a> </h1> <p class="post-date heading"> <time datetime="2011-07-05T18:32:52+08:00">05 Jul 2011</time> in <span>Apple</span> on <span>Ios</span>, <span>Iphone</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>iOS平台目前主要泛指iPod Touch、iPhone以及iPad这三种主要的机型，近日开始研读起iOS Human Interface Guide(后简称HIG)的相关章节，发现其实有许多一般入门时常见的问题，其实都可以在这里获得解答。兹就经验上许多人可能会产生的疑问，并配合上述 HIG文件内容进行一份整理。 如同「平台特性(Platform Characteristics)」章节开头所明述的，成功的应用程序将会拥抱这些特性，并融合在让用户在操作装置之间，所以熟知iOS上的平台特性，合理的设计以及运用其在自己所开发的应用程序中，将会对于用户在操作应用程序时，有大大的帮助。 <br />屏幕显示关乎一切 <br />这部份几乎是无庸置疑的，iOS平台上的操作，几乎都是在屏幕上执行，下面3点可以给iOS诸平台适用的： <br />◆最舒适的点击区域大小是 44 x 44 点 (Points而非Pixels) <br />◆应用程序的图片设计影响是很明显的 <br />◆使用者专注在内容上 <br />以下是常见的iOS装置屏幕尺寸：</p> <p><img alt="screensize" src="/assets/0951020.png" width="472" height="80" /> <br />装置显示方向 <br />基本上，原则就是Home Screen如何，进入应用程序的默认显示方向就会是如何。 <br />◆由于iPhone以及iPod Touch的主画面(Home Screen)，只会有一种显示方向，所以默认进入到应用程序时，就应该会是直立向。 <br />◆在iPad上由于主画面可以是全方向，所以用户预期进入应用程序时，方向会有一致性。 <br />不用学习的基本操作手势 <br />使用者不会去发掘特殊的操作手势，就算偶尔发现非一般手势，并惊呼原来可以这样做时，也只是偶尔，所以让人们拥有连贯性的使用经验，利用所有iOS内建的原有手势，是让应用程序成功的主要因素，下面的表格是一些基本的手势。 <br />苹果也指出，虽然所有iOS装置都支持多点触控的手势，大屏幕提供比较多手指运作的空间，但不代表多指的手势比较好;猜测使用者不会知道或者在大多数场合，使用者还是习于一手一指走天下。 </p> <p><img alt="actions" src="/assets/0951021.png" width="487" height="190" /></p> <p>◆如果想看更多手势，以及其他行动平台上的手势，或许可以<a href="http://www.lukew.com/ff/entry.asp?1071">参考LukeW的这份文件</a>。 </p> <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 人们一次只会跟一个应用程序互动 <br />对，这听起来的确是很废话，在使用者的面前，只会有一个应用程序在前台与用户互动。在iOS 4之前，应用程序被关掉之后，就会被从内存中移除;但iOS 4之后，他可能会在背景继续执行，这个一般称之为多任务(Multitasking)，应用程序通常会在背景执行直到他们下次被呼叫出来，或者直接被终止工作才会停止运作。 <br />在主画面中，快速按Home Screen圆钮两次，就可以叫出位于画面最底端的多任务选单，使用者可以快速的找到最近用过的应用程序。当用户再一次使用这些应用程序的时候，这些程序就不用再重新被加载，而是会被从他们上次跳出的地方进入。 <br />而有些应用程序是要在背景继续被执行的，像是音乐程序，用户会希望在查询日历或信件的同时，还是可以听到他们喜爱的音乐在背景播放。 <br />偏好(Preferences)可以在设定(Setting)中被找到 <br />在设定里的「偏好」通常是设好一次后，就很少被变动的设定。虽然一些内建的应用程序有这类型的偏好设定，不过大部份的应用程序并不太需要这类东西。 <br />极少化屏幕上的帮助功能 <br />移动装置的用户，其实不会花太多时间去研究到底应用程序里整体有什么功能，所以除非他们有感觉到获得好处或好用，接着才会到利用所谓的帮助功能，iOS装置以及内建应用程序都被设计得非常直觉并易于使用，所以依此类推，所有应用程序都应该被以这种少说明甚至是无说明的方式在执行。 <br />在iOS上的两种软件 <br />在iOS上，依照着不同的执行方式，开发者可以有两种开发iOS软件的方式： <br />◆iOS应用程序 <br />◆网站内容 <br />iOS应用程序是利用iOS SDK开发的应用程序，也可以称之为原生应用程序(Native App)，由于这些iOS应用程序重组了内建应用程序的特色，所以依附在装置上之时，就可以在iOS环境下有特别的优势。人们会把这些应用程序当作像内建的相簿、行事历以及信箱。 <br />网站内容则是主要由一个网站提供内容，但是透过iOS装置浏览。又可以分成3种形态： <br />◆网站应用程序(Web apps)，行为近似于iOS应用程序，一般的网站应用程序通常会隐藏Safari浏览器的接口，让他看起来像是原生的应用程序。 <br />◆优化网页(Optimized webpages)，网页有针对iOS上的Safari浏览器进行优化，并移除一些不被支持的效果，像是Plug-In、Flash以及Java。更甚者，还会针对屏幕大小进行内容的排版调整等，以使得在装置上可以被最佳的阅读。 <br />◆兼容网页(Compatible webpages)，这是与上者相对的，网页可以在iOS上被浏览，但是通常会遇到一些无法支持的元素，排版之类的也不见得会适合在装置上阅读，但是通常都可以被显示出来。 在iOS用来浏览网页的Safari <br />iOS上的Safari与一般桌面计算机使用的Safari不尽相同。主要可以观察点包含： <br />◆使用者无法任意的调整可视画面的尺寸，一般的浏览器，使用者可以拖拉浏览器窗口的大小来调整尺寸。在iOS上，只能透过显示方向来改变。 <br />◆<font color="#0000ff">在iOS上的Safari支援cookies。</font> <br />◆<font color="#0000ff">在iOS上的Safari不支持 Flash、Java(含Java applets)或者第3方的网站内容插件。但支持HTML 5的以及 标签以提供影音串流，以及JavaScript、CSS 3以显示动画内容。 <br /></font>◆有些像是鼠标滑过(Hover)这样的动作是不存在iOS上的。 <br />◆iOS上的Safari允许网页应用程序以全屏幕执行，如果用户有把某网站设到主画面中作为图示，就可以隐藏Safari的接口，这会使其看起来更像是原生应用程序。</p> <p class="read-more">Continue reading <a class="heading" href="/apple/2011/07/05/e8-8b-b9-e6-9e-9cios-e5-b9-b3-e5-8f-b0-e6-88-90-e5-8a-9f-e7-9a-84-e5-ba-94-e7-94-a8-e7-a8-8b-e5-ba-8f-e7-89-b9-e6-80-a7-e5-a4-a7-e6-95-b4-e7-90-86.html" data-flip="title">【转】苹果iOS平台成功的应用程序特性大整理</a></p> </article> <article id="post-apple/2011/07/05/iphone-in-action-%e8%af%bb%e4%b9%a6%e7%ac%94%e8%ae%b0" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/apple/2011/07/05/iphone-in-action-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0.html" data-flip="title"> IPhone In Action 读书笔记 </a> </h1> <p class="post-date heading"> <time datetime="2011-07-05T18:20:32+08:00">05 Jul 2011</time> in <span>Apple</span> on <span>Iphone</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>1章介绍,2-9章web,10-20章sdk(sdk tools)</p> <p>mac os基于unix发展</p> <p>480*320 像素输出屏幕。</p> <p>wifi→EDGE(Enhanced Data Rate for GSM Evolution,增强型数据速率GSM演进技术,最大220kbps)→3G(384kbps--1000kbps)</p> <p>web开发工具 iui <a title="http://code.google.com/p/iui/" href="http://code.google.com/p/iui/(web">http://code.google.com/p/iui/(web</a>库) ,dashcode(IDE)</p> <p>safari不支持java,flash.</p> <p>1.4.1 web视图是980px缩放的效果?</p> <p>Chrome头所占比率</p> <p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 带url&#160;&#160; 不显示url</p> <p>竖向 26%&#160;&#160;&#160;&#160;&#160; 13%</p> <p>横向 35%&#160;&#160;&#160;&#160; 16%</p> <p>作者倾向横向，Chrome头可以通过动态显示解决。</p> <p>没有鼠标的概念，也没有滚动条。</p> <p>第六章介绍了canvas</p> <p>第九章初步介绍了 objectC</p> <p>支持类方法(静态方法)</p> <p>消息类似于方法</p> <p>更加明确的演绎MVC模式</p> <p>限制:</p> <p>不能下载非sdk代码（这导致java不能运行在iphone上）</p> <p>必须经过用户允许才能获得用户位置</p> <p>不能进行实时路由引导</p> <p>不能包含ip voice功能</p> <p>开发者需要证书才能提交程序，但是apple可以回收此证书（如果不喜欢你开发的程序）</p> <p>ios架构:</p> <p><a href="http://kazge.com/wp-content/uploads/2011/07/image.png"><img style="border-right-width: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px" border="0" alt="image" src="/assets/image_thumb.png" width="177" height="244" /></a> </p> <p>10.3.1</p> <p>大部分将UI操作会和Cocoa Touch打交道，但是也有要使用ObjectC类的情况，这就在Core Foundation(类名以CF开头)之上了。</p> <p>Cocoa Touch包含 UIKit(类名以UI开头)和Foundation(类名以NS开头)</p> <p>16章讲了sqlite,包含数据类型转换的内容。</p> <p>这部书主要讲应用程序，没有讲游戏相关。</p> <p>第十九章讲图形 Quartz 2D,openGL等</p> <p>Quartz 2D建立在老的Core foundation之上??</p> <p>三个概念context,pathes,state</p> <p>cocos2d是封装的openGL,也用到了quartz 2D</p> <p>Quartz默认的坐标系是从右下到左上，与Cocoa Touch整好相反。如果你不是使用Cocoa Touch创建context,就要认为坐标原点是右下。</p> <p>图context保存为堆形式(先进先出)</p> <p>19.4.4图形变换</p> <p>19.4.5 状态管理 save,restore.--和canvas2d像吧</p> <p>高级2D:梯度，图片处理，画字</p> <p>19.7 动画介绍</p> <p>19.8 OpenGL ES(Embded System)</p> <p>EAGL is Embedded AGL(Apple's OpenGL extensions for OS X.)</p> <p>openGL通过EAGLView操作，也就是UIView的CAEAGL层。</p> <p>Xcode提供了OpenGL的模板，默认设置了它的参数，只要在EAGLView的drawView方法里写你的代码就行了。</p> <p>详细见apple文档OpenGL ES Framework Reference,里面也有示例。</p> <p class="read-more">Continue reading <a class="heading" href="/apple/2011/07/05/iphone-in-action-e8-af-bb-e4-b9-a6-e7-ac-94-e8-ae-b0.html" data-flip="title">IPhone In Action 读书笔记</a></p> </article> <article id="post-apple/2011/07/05/iphone-%e9%82%a3%e4%ba%9b%e4%ba%8b" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/apple/2011/07/05/iphone-e9-82-a3-e4-ba-9b-e4-ba-8b.html" data-flip="title"> iphone 那些事 </a> </h1> <p class="post-date heading"> <time datetime="2011-07-05T04:09:37+08:00">05 Jul 2011</time> in <span>Apple</span> on <span>Iphone</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>买了iphone到现在有差不多一个星期了，到今天才知道这个iphone越狱成功了。现在回忆一下，说实话，自己都还是糊里糊涂，不知道什么回事。</p> <p>主要的教程在<a href="http://iphone.tgbus.com/Special/20gujian/">http://iphone.tgbus.com/Special/20gujian/</a> 上找，</p> <p>按照他的来，不懂得再google, 越的时候比较难操作的是进入DFU模式，那真叫技术活。</p> <p>就这样还算顺利，没有白苹果，就装上了cydia。</p> <p>下一步开始更新cydia,但没wifi 怎么办，最后发现win7下Connectify可以直接做热点，哈哈，wifi是好了，但是cydia还是说什么网络错误。我找了新的源，任然如此。没办法，就按照<a title="http://bbs.weiphone.com/read-htm-tid-443797.html" href="http://bbs.weiphone.com/read-htm-tid-443797.html">http://bbs.weiphone.com/read-htm-tid-443797.html</a>里面提到的离线安装模式，使用iFunBox装了ipa补丁。</p> <p>然后下了个植物大战僵尸破解版，按照说明安装，嘿嘿，既然可以了。</p> <p>这时才知道--哦，原来越成功了啊！</p> <p class="read-more">Continue reading <a class="heading" href="/apple/2011/07/05/iphone-e9-82-a3-e4-ba-9b-e4-ba-8b.html" data-flip="title">iphone 那些事</a></p> </article> <article id="post-%E8%8B%B1%E8%AF%AD/2011/07/05/it-e-45-how-to-learn-a-new-language" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/07/05/it-e-45-how-to-learn-a-new-language.html" data-flip="title"> it-e-45 How to Learn a New Language </a> </h1> <p class="post-date heading"> <time datetime="2011-07-05T00:21:59+08:00">05 Jul 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>How do you learn a new language? The fastest way is when you are forced to do so. But if <br />you're lucky enough to be learning by choice, you are probably doing it in your spare time and <br />you won't do that unless you are enjoying yourself&#160; so choose an interesting project. <br />Choosing what you are going to write in your new language is more important than <br />choosing the language. Choose the language to suit the project or, better, choose both together. <br />For example, if you want to write something that will look good then don't choose a language <br />with no support for graphics. <br />Learn a little about the language before you start and try and find a solution that will play to <br />the language's new features. If you are using OOP for the first time, for example, try and think <br />how your project can be split into objects. If you are looking at functional programming, maybe a <br />numerical project would be a good start (I chose cryptography) (this suggestion does not imply <br />that functional languages are only useful for numerical code, just that most textbooks seem to <br />feature numerical examples in my limited experience making it easier to start in that <br />direction). <br />At the same time, be honest with yourself. Don't be too ambitious don't pick too difficult a <br />project and (maybe) don't pick too <font color="#0000ff">exotic</font> a language. The second point is debatable. With any <br />language you will learn something new: it doesn't have to be a huge intellectual leap into the <br />unknown. You are going to be more productive in a language that has some familiar ideas, and <br />you can lean on that part of the language to get going. On the other hand, if you enjoy new ideas, <br />maybe you will be happier with something completely different. <br />Support is also important. If you intend to post questions to Usenet, is there an appropriate <br />newsgroup? Personally, I like booksÇthe best impetus for me is finding a good book on <br />computing that uses a particular language in the examples. <br />A note about asking for information on newsgroups: people seem to vary widely in how <br />precisely they talk about languages. At one end of the spectrum there are people who tend to rely <br />on a &quot;<font color="#0000ff">subconscious</font>&quot; (or at least &quot;sub-language&quot;) intuition and happily <font color="#0000ff">misuse terminology </font>to &quot;get <br />the idea across&quot;. At the other end are people who are very precise. Both, no doubt, will give <br />conflicting advice on how to learn and, sometimes, apparently conflicting answers to questions. <br />You have to learn to recognise different styles and read them in the context of the poster. <br />Finally, don't be afraid to change direction. I've stuck with a few languages much more than <br />with others. Sometimes I have given up in <font color="#0000ff">frustration</font>. But even when you only play around a <br />little, you learn something. My argument is not that you must stay with a language a long time <br />to learn anything, but that the learning continues. Stay for a while and you'll learn something. <br />Stay longer and you'll learn more. there's no magic moment when you know everything (which <br />is what makes programming such a rewarding profession).</p> <p>1, exotic&#160; [,iɡ'zɔtik] <br />adj. 异国的；外来的；异国情调的 </p> <p>2, misuse&#160; [,mis'ju:z, ,mis'ju:s] <br />vt. 滥用；误用；虐待 <br />n. 滥用；误用；虐待 <br />3, terminology&#160; [,tə:mi'nɔlədʒi] <br />n. 术语，术语学；用辞 <br />4, subconscious&#160; [,sʌb'kɔnʃəs] <br />adj. 潜意识的；下意识的 <br />n. 潜在意识；下意识心理活动 <br />5, frustration&#160; [frʌs'treiʃən] <br />n. 打破,挫折,顿挫 <br />[计算机] 失败</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/07/05/it-e-45-how-to-learn-a-new-language.html" data-flip="title">it-e-45 How to Learn a New Language</a></p> </article> <article id="post-apple/2011/07/04/iphone%e5%bc%80%e5%8f%91%e8%b5%84%e6%ba%90" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/apple/2011/07/04/iphone-e5-bc-80-e5-8f-91-e8-b5-84-e6-ba-90.html" data-flip="title"> iphone开发资源 </a> </h1> <p class="post-date heading"> <time datetime="2011-07-04T18:04:44+08:00">04 Jul 2011</time> in <span>Apple</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <h4>网上教程</h4> <h4>iPhone开发之Objective-C学习:</h4> <h3><a title="http://www.flyblog.info/catprogramming/143.html" href="http://www.flyblog.info/catprogramming/143.html">http://www.flyblog.info/catprogramming/143.html</a></h3> <p>&#160;</p> <h3><a href="http://www.cnblogs.com/yaski/archive/2009/03/27/1423083.html">Objective-C 2.0 with Cocoa Foundation</a>:</h3> <p><a title="http://www.cnblogs.com/yaski/archive/2009/03/27/1423083.html" href="http://www.cnblogs.com/yaski/archive/2009/03/27/1423083.html">http://www.cnblogs.com/yaski/archive/2009/03/27/1423083.html</a></p> <p>&#160;</p> <p>&#160;</p> <p>macos</p> <p><a title="http://www.zhukun.net/archives/2680" href="http://www.zhukun.net/archives/2680">http://www.zhukun.net/archives/2680</a></p> <p><a title="http://www.mac52ipod.cn/post/Mac-OS-X-10-6-Snow-Leopard-BT-Torrent-Download.php" href="http://www.mac52ipod.cn/post/Mac-OS-X-10-6-Snow-Leopard-BT-Torrent-Download.php">http://www.mac52ipod.cn/post/Mac-OS-X-10-6-Snow-Leopard-BT-Torrent-Download.php</a></p> <p><a title="http://www.21andy.com/blog/20090511/1268.html" href="http://www.21andy.com/blog/20090511/1268.html">http://www.21andy.com/blog/20090511/1268.html</a></p> <p class="read-more">Continue reading <a class="heading" href="/apple/2011/07/04/iphone-e5-bc-80-e5-8f-91-e8-b5-84-e6-ba-90.html" data-flip="title">iphone开发资源</a></p> </article> <article id="post-%E8%8B%B1%E8%AF%AD/2011/07/02/it-e-44-a-brief-word-about-scripting" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/07/02/it-e-44-a-brief-word-about-scripting.html" data-flip="title"> it-e-44 A Brief Word About Scripting </a> </h1> <p class="post-date heading"> <time datetime="2011-07-02T00:12:35+08:00">02 Jul 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>You've perhaps heard about something called scripting, or maybe you've heard of languages <br />like JavaScript, VBScript, Tcl and others (those languages are called scripting languages). You <br />may thus be wondering if scripting is the same as programming, and/or what the differences are, <br />and so on. People get quite passionate about this question, so I'm just going to cover it briefly and <br />technically. Here are some facts: <br /> Scripting is essentially a type of programming. <br /> Scripting languages have a few minor technical differences which aren't important to <br />discuss at this point. <br /> Scripting languages tend to be interpreted rather than compiled, which means that you <br />don't need to compile them. they're compiled &quot;on the fly&quot; (i.e. when necessary, right <br />before they're run). This can make it faster to program in them (since you always have <br />the source code, and don't need to take the <font color="#0000ff">deliberate </font>extra step of compiling). <br /> The fact that scripting languages are interpreted generally makes them slower than.programming <br />languages for intensive operations (like complex calculations). <br /> Scripting languages are often easier to learn than programming languages, but usually <br />aren't as powerful or flexible. <br /> For programming things like applications for personal computers, you'll need to use a <br />programming language rather than a scripting language. <br />Scripting languages can be excellent for beginners: they tend to be easier to learn, and they <br />insulate you from some of the technical aspects of programming (compiling, for one). However, <br />if you're serious about programming, you won't be able to stay with a scripting language forever <br />you will move on to a programming language at some point. I'd say that it's good to know a <br />scripting language or two, and even to start with a scripting language rather than a programming <br />language. However, there's a point of view which says that, by protecting and &quot;hand-holding&quot; too <br />much, scripting languages don't properly prepare you for &quot;serious&quot; programming, and set you up <br />for a bit of a learning curve when you move on to a programming language.</p> <p>&#160;</p> <p>1, deliberate&#160; [di'libəreit] <br />a. 故意的,深思熟虑的 <br />v. 仔细考虑 <br />vt. 研讨 </p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/07/02/it-e-44-a-brief-word-about-scripting.html" data-flip="title">it-e-44 A Brief Word About Scripting</a></p> </article> <article id="post-%E8%8B%B1%E8%AF%AD/2011/07/01/it-e-43-introduction-of-programming-languages" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/%E8%8B%B1%E8%AF%AD/2011/07/01/it-e-43-introduction-of-programming-languages.html" data-flip="title"> it-e-43 Introduction of Programming Languages </a> </h1> <p class="post-date heading"> <time datetime="2011-07-01T00:44:26+08:00">01 Jul 2011</time> in <span>英语</span> on <span>English</span>, <span>It</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>A programming language is a defined set of instructions that are used to make a computer <br />perform a specific task. Written using a defined vocabulary the programming language is either <br />complied or interpreted by the computer into the machine <br />language that is understood by the processor. <br />There are several types of programming languages, the <br />most common are: <br />High-level Languages these are written using terms <br />and vocabulary that can be understood and written in a</p> <p>similar manner to human language. [1] They are called high-level languages because they remove <br />many of the complexities involved in the raw machine language that computers understand. The <br />main advantage of high-level languages over low-level languages is that they are easier to read, <br />write, and maintain. All high-level languages must be compiled at some stage into machine <br />language. The first high-level programming languages were designed in the 1950s. Now there are <br />dozens of different languages, including BASIC, COBOL, C, C++, FORTRAN and Pascal. <br />Scripting Languages like high-level languages, scripting languages are written in manner <br />similar to human language. Generally, scripting languages are easier to write than high-level <br />languages and are interpreted rather compiled into machine language. Scripting languages, which <br />can be embedded within HTML, commonly are used to add functionality to a Web page, such as <br />different menu styles or graphic displays, or to serve dynamic advertisements. These types of <br />languages are client-side scripting languages, affecting the data that the end user sees in a <br />browser window. Other scripting languages are server-side scripting languages that manipulate <br />the data, usually in a database, on the server. Scripting languages came about largely because of <br />the development of the Internet as a communications tool. Some examples of scripting languages <br />include VBScript, JavaScript, ASP and Perl. <br />Assembly Language assembly language is as close as possible to writing directly in <br />machine language. Due to the low level nature of assembly language, it is tied directly to the type <br />of processor and a program written for one type of CPU generally will not run on another. <br />Machine language The lowest-level programming language. Machine languages are the only <br />languages understood by computers. While easily understood by computers, machine languages are <br />almost impossible for humans to use because they consist entirely of numbers. Programmers, <br />therefore, use either a high-level programming language or an assembly language. An assembly <br />language contains the same instructions as a machine language, but the instructions and variables <br />have names instead of being just numbers. <br />Programs written in high-level languages are translated into assembly language or machine <br />language by a compiler. Assembly language programs are translated into machine language by a <br />program called an assembler. <br />Every CPU has its own unique machine language. Programs must be rewritten or recompiled, <br />therefore, to run on different types of computers. <br />For now, let's talk about some high level languages very briefly, which are used by professional <br />programmers in the current mainstream software industry. <br />· C <br />This is probably the most widely-used, and definitely the oldest, of the three languages I <br />mentioned. It's been in use since the 70s, and is a very compact (i.e. not much &quot;vocabulary&quot; to <br />learn), powerful and well-understood language. <br />· C++ <br />This language is a superset of C (that just means that it's C with more stuff added; it's more <br />than C, and includes pretty much all of C). Its main benefit over C is that it's object oriented.</p> <p>The key point is that object oriented languages are more modern, and using object oriented <br />languages is the way things are done now in the programming world. So C++ is most definitely <br />the second-most used language after C, and may soon become the most used language. <br />· Java <br />Java has a benefit which other programming languages lack: it's cross-platform. It means <br />that it runs on more than one platform without needing to be recompiled. A platform is just a <br />particular type of computer system, like Windows or Mac OS or Linux. Normally, if you wanted <br />to use the same program on a different platform from the one it was written on, you'd have to <br />recompile it you'd have to compile a different version for each different platform. Sometimes, <br />you'd also need to change some of your code to suit the new platform. This probably isn't <br />surprising, since the different platforms work differently, and look different. <br />Java has another advantage that it runs inside web browsers, letting programmers create <br />little applications which can run on web sites. However, Java also has a disadvantage, which is <br />almost as serious: it's slow. Java achieves its cross-platform trick by putting what is essentially a <br />big program on your computer which pretends to be a little computer all of its own. The Java <br />runs inside this &quot;virtual machine&quot;, which runs on whatever platform you're using (like Windows <br />or Mac OS). Because of this extra layer between the program and the computer's processor chip, <br />Java is slower than a program written and compiled natively for the same platform. Anyway, as <br />the Internet develops, Java will be used more widely.</p> <p>&#160;</p> <p>竟然没有生词</p> <p class="read-more">Continue reading <a class="heading" href="/%E8%8B%B1%E8%AF%AD/2011/07/01/it-e-43-introduction-of-programming-languages.html" data-flip="title">it-e-43 Introduction of Programming Languages</a></p> </article> <article id="post-web%E5%89%8D%E7%AB%AF/2011/06/30/%e8%87%aa%e5%b7%b1%e5%86%99html-editor" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web%E5%89%8D%E7%AB%AF/2011/06/30/e8-87-aa-e5-b7-b1-e5-86-99html-editor.html" data-flip="title"> 自己写html editor </a> </h1> <p class="post-date heading"> <time datetime="2011-06-30T21:07:37+08:00">30 Jun 2011</time> in <span>Web前端</span> on <span>Java</span>, <span>Web html css 前端</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>简单的html editor 就是利用iframe的 document属性 designMode = 'on' 来让iframe可编辑。</p> <p>如下例：</p> <div><pre>&lt;<span style="color: #800000">html</span>&gt;
	&lt;<span style="color: #800000">head</span>&gt;
		&lt;<span style="color: #800000">meta</span> <span style="color: #800000">http-equiv</span>=&quot;<span style="color: #800000">Content-Type</span>&quot; <span style="color: #800000">content</span>=&quot;<span style="color: #800000">text</span>/<span style="color: #800000">html</span>; <span style="color: #800000">charset</span>=<span style="color: #800000">utf-8</span>&quot;&gt;
		&lt;<span style="color: #800000">title</span>&gt;<span style="color: #800000">自己写Html编辑器</span>&lt;/<span style="color: #800000">title</span>&gt;
		&lt;<span style="color: #800000">script</span> <span style="color: #800000">type</span>=&quot;<span style="color: #800000">text</span>/<span style="color: #800000">javascript</span>&quot;&gt;
			<span style="color: #800000">function</span> <span style="color: #800000">init</span>()   
		    {   
		        <span style="color: #ff0000">var</span> <span style="color: #0000ff">doc = document.getElementById(&quot;EditForm&quot;).contentWindow.document</span>;   
		            <span style="color: #ff0000">doc</span>.<span style="color: #0000ff">designMode = 'on'</span>;
		            <span style="color: #ff0000">doc</span>.<span style="color: #0000ff">write('&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;p {margin: 0</span>;<span style="color: #ff0000">padding</span>: <span style="color: #0000ff">0</span>;}&lt;/<span style="color: #800000">style</span>&gt;&lt;/<span style="color: #800000">head</span>&gt;&lt;<span style="color: #800000">body</span>&gt;<span style="color: #800000">fffffffffffffffffffff</span>&lt;/<span style="color: #800000">body</span>&gt;&lt;/<span style="color: #800000">html</span>&gt;');
		            <span style="color: #800000">doc</span>.<span style="color: #800000">close</span>();
		    }
		&lt;/<span style="color: #800000">script</span>&gt;
	&lt;/<span style="color: #800000">head</span>&gt;
	&lt;<span style="color: #800000">body</span> <span style="color: #800000">onLoad</span>=&quot;<span style="color: #800000">init</span>()&quot;&gt;
		&lt;<span style="color: #800000">iframe</span> <span style="color: #800000">id</span>=&quot;<span style="color: #800000">EditForm</span>&quot; <span style="color: #800000">frameborder</span>=&quot;<span style="color: #800000">0</span>&quot;
			<span style="color: #800000">style</span>=&quot;<span style="color: #800000">width</span>: <span style="color: #800000">700px</span>; <span style="color: #800000">height</span>: <span style="color: #800000">400px</span>; <span style="color: #800000">padding</span>: <span style="color: #800000">0</span>; <span style="color: #800000">margin</span>: <span style="color: #800000">0</span>; <span style="color: #800000">border</span>: <span style="color: #800000">1px</span> <span style="color: #800000">solid</span> <span style="color: #800000">#AAAAAA</span>&quot;&gt;
		&lt;/<span style="color: #800000">iframe</span>&gt;
	&lt;/<span style="color: #800000">body</span>&gt;
&lt;/<span style="color: #800000">html</span>&gt;</pre></div> <p></p> <p>在IE和opera下，回车形成的行之间是用&lt;p&gt;(FF 下是&lt;br&gt;,chrome,safari是&lt;div&gt;)来包含的，造成行间距太大，因此要使用样式来修正。</p> <p>第一次设置designMode为on会将document本来的内容全部清除。所以需要将样式表等初始化内容写入文档。</p> <p>&#160;</p> <h5>inserAtCursor插入文本实现:</h5> <p>IE使用TextRange.pasteHTML</p> <p>其他使用selectionRange.deleteFromDocument 清空 //opera不起作用,使用Range.deleteContents</p> <p>使用selectionRange.addRange添加内容</p> <p>Range.createContextualFragment创建html</p> <p>Range.inserNode添加节点(节点必须已经存在dom中，否则报错,但是createContextualFragment不存在这个问题)</p> <p>然而createContextualFragment无法得到Dom节点对象，</p> <p>insertNode中可以使用DocumentFragment</p> <p>而selectNode则不行，最终只好换回使用createElement再转移。</p> <p>但是selectNode在FF,opera下ok,在safari和chrome下就不行了。</p> <p>只好将插入的内容放入span中，直接对这个span节点selectionRange.selectAllChildren,然后selectionRange.collapseToEnd。</p> <p>虽然加入了额外的span节点，总算是实现了。</p> <p>但是看到ext的htmlEditor源码，真是哭笑不得，IE的做的做法和我的一样（Ext的实现有bug）<br /> <br />其他浏览器的一句话搞定doc.execCommand('InsertHTML', false, html);直接略过上述碰到的种种问题。</p> <p>还是把自己写的留下来做个纪念吧</p> <div><pre><span style="color: #0000ff">this</span>.insertAtCursor1 = <span style="color: #0000ff">function</span>(html) {
		<span style="color: #0000ff">this</span>.<span style="color: #0000ff">focus</span>();
		<span style="color: #0000ff">if</span> (isIE) {
			<span style="color: #0000ff">if</span> (!cursel) {
				cursel = doc.selection.createRange();
			}
			cursel.pasteHTML(html);
			cursel.collapse(<span style="color: #0000ff">false</span>);
			cursel.select();
		} <span style="color: #0000ff">else</span> {
			<span style="color: #0000ff">var</span> r = win.getSelection();
			<span style="color: #0000ff">if</span> (r.<span style="color: #0000ff">toString</span>().<span style="color: #0000ff">length</span>) {
				r.deleteFromDocument();
			}
			<span style="color: #0000ff">if</span> (!r.rangeCount) {
				r.addRange(doc.createRange());
			} <span style="color: #0000ff">else</span> {
				<span style="color: #008000">// opera</span>
				r.getRangeAt(0).deleteContents();
			}
			<span style="color: #0000ff">var</span> rg = r.getRangeAt(0);
			<span style="color: #0000ff">var</span> tc = doc.createElement('span');
			tc.innerHTML = html;
			doc.body.appendChild(tc);
			rg.insertNode(tc);
			<span style="color: #008000">//webkit必须要这样才能将光标移到刚插入内容的末尾,Range.collapse(false)不起作用</span>
			<span style="color: #008000">//但是这样造成连续调用insertAtCursor的话，会使刚插入的内容插入到上次创建的span里面嵌套了</span>
			<span style="color: #008000">//这种实现不好</span>
			r.selectAllChildren(tc);
			r.collapseToEnd();
		}
	};</pre></div> <p>&#160;</p> <h6>换行事件:</h6> <p>opera要取消回车事件默认处理的话，除了在keydown里面要调用preventDefault之外，在keypress里面也得调用，否则不起效果(就算stopPropagation,cancelBubble也一样)。</p> <p>这里使用insertAtCursor(‘&lt;br&gt;’)的方法不能达到换行的目的:</p> <p>FF,opera不起作用，</p> <p>其余倒是可以但是调用doc.innerText就得不到换行了。</p> <p>这时到可以使用上面的selection方法了:</p> <div><pre><span style="color: #0000ff">this</span>.newLine = <span style="color: #0000ff">function</span>() {
		<span style="color: #0000ff">this</span>.<span style="color: #0000ff">focus</span>();
		<span style="color: #0000ff">if</span> (isIE) {
			<span style="color: #0000ff">if</span> (!cursel) {
				cursel = doc.selection.createRange();
			}
			cursel.text = '\n';
			cursel.collapse(<span style="color: #0000ff">false</span>);
			cursel.select();
		} <span style="color: #0000ff">else</span> {
			<span style="color: #0000ff">if</span> (cox.isOpera || cox.isGecko) {
				<span style="color: #0000ff">var</span> r = win.getSelection();
				<span style="color: #0000ff">if</span> (r.<span style="color: #0000ff">toString</span>().<span style="color: #0000ff">length</span>) {
					r.deleteFromDocument();
				}
				<span style="color: #0000ff">if</span> (!r.rangeCount) {
					r.addRange(doc.createRange());
				} <span style="color: #0000ff">else</span> {
					<span style="color: #008000">// opera</span>
					r.getRangeAt(0).deleteContents();
				}
				<span style="color: #0000ff">var</span> rg = r.getRangeAt(0);
				<span style="color: #0000ff">var</span> tc = doc.createElement('br');
				doc.body.appendChild(tc);
				rg.insertNode(tc);
				<span style="color: #008000">/**
				 * opera下这样写反而到导致光标没有移动，不写倒是ok的,
				 * 火狐必须这样写，但是有个bug,如果开始什么都没有内容就换行会导致光标没换行（其实已经插入br了），
				 * 火狐这种写法还导致getText忽略了换行
				 * */</span>
				<span style="color: #0000ff">if</span> (cox.isGecko) {
					rg.selectNode(tc);
					rg.collapse(<span style="color: #0000ff">false</span>);
					r.collapseToEnd();
				}
			} <span style="color: #0000ff">else</span> <span style="color: #0000ff">if</span> (cox.isWebKit) {
				doc.execCommand('InsertText', <span style="color: #0000ff">false</span>, '\n');
			}
		}</pre></div> <p class="read-more">Continue reading <a class="heading" href="/web%E5%89%8D%E7%AB%AF/2011/06/30/e8-87-aa-e5-b7-b1-e5-86-99html-editor.html" data-flip="title">自己写html editor</a></p> </article> <article id="post-web/2011/06/30/https-ajax-%e8%b7%a8%e5%9f%9f%e9%97%ae%e9%a2%98" class="post mb6" role="article"> <header> <h1 class="post-title"> <a href="/web/2011/06/30/https-ajax-e8-b7-a8-e5-9f-9f-e9-97-ae-e9-a2-98.html" data-flip="title"> https 跨域问题 </a> </h1> <p class="post-date heading"> <time datetime="2011-06-30T18:33:10+08:00">30 Jun 2011</time> in <span>Web</span> on <span>Ajax</span>, <span>Https</span> </p> <div class="hr" style="padding-bottom:0"></div> </header> <p>http转向https后，原来相对ajax请求仍然是有效地，因为他们是一个域。</p> <p>例如部署了web项目abc.war到tomcat下面，原来请求<a href="http://localhost:8080/abc/index.html">http://localhost:8080/abc/index.html</a></p> <p>这个页面有ajax请求test.ajax 好，一切ok.</p> <p>然后你配置了tomcat https端口为8043,你再请求<a href="https://localhost:8043/abc/index.html">https://localhost:8043/abc/index.html</a></p> <p>发现ajax请求也变为<a href="https://localhost:8043/abc/test.ajax">https://localhost:8043/abc/test.ajax</a>,一切仍然ok.过渡很平滑是不是。</p> <p>但是如果你在<a href="http://localhost:8080/abc/index.html">http://localhost:8080/abc/index.html</a>里面请求<a href="https://localhost:8043/abc/test.ajax">https://localhost:8043/abc/test.ajax</a> 那就是跨域了，会执行错误。</p> <p>另外ie对跨域的要求更严格：</p> <p>比如给一个图片赋值img.src=’url’</p> <p>在<a href="http://localhost:8080/abc/index.html">http://localhost:8080/abc/index.html</a> 中将img.src付给https域，则会提示是否允许。</p> <p>而在https域中将img.src付给http域或其他域则直接导致脚本错误。</p> <p>这就导致使用https 情况下new Image().src跨域的方式行不通了。</p> <p class="read-more">Continue reading <a class="heading" href="/web/2011/06/30/https-ajax-e8-b7-a8-e5-9f-9f-e9-97-ae-e9-a2-98.html" data-flip="title">https 跨域问题</a></p> </article> <h2 class="sr-only">Pagination</h2> <nav class="pagination heading" role="navigation"> <ul> <li class="pagination-item older" > <a rel="next" href="/page-45/">Older</a> </li> <li class="pagination-item newer" > <a rel="prev" href="/page-43/">Newer</a> </li> </ul> </nav> <footer> <hr/> <p>© 2011 - 2017. All rights reserved.</p> <p> <code>Powered by <a href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">6.6.1</span></code> </p> </footer> </main> </div> <div id="_yDrawer"> <div id="_sidebar" class="sidebar"> <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url()"></div> <header class="sidebar-sticky" role="banner"> <div class="sidebar-about"> <img src="https://avatars0.githubusercontent.com/u/4122902?v=4&s=460" class="me" /> </div> <div class="sidebar-about"> <h1><a id="_title" href="/">Ka's Blog</a></h1> <p>Ka’s blog description…</p> </div> <nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span> <ul> <li> <a class="sidebar-nav-item" href="/categories.html">Categories</a> </li> <li> <a class="sidebar-nav-item" href="/archive.html">Archive</a> </li> <li> <a class="sidebar-nav-item" href="/tags.html">Tags</a> </li> <li> <a class="sidebar-nav-item" href="/about.html">About</a> </li> </ul> </nav> <div class="sidebar-social"> <span class="sr-only">Social:</span> <ul> <li> <a href="https://twitter.com/imhazige" title="Twitter"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a> </li> <li> <a href="https://github.com/imhazige" title="GitHub"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a> </li> <li> <a href="mailto:imhazige@gmail.com" title="Email"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a> </li> <li> <a href="https://imhazige.github.io/myblog/feed.xml" title="RSS"> <span class="icon-rss2"></span> <span class="sr-only">RSS</span> </a> </li> </ul> </div> </header> </div> </div> </div> <!--[if gt IE 9]><!----> <script>loadJSDeferred('/assets/js/hydejack.js?v=6.6.1');</script> <!--<![endif]--> </body>
</html>
